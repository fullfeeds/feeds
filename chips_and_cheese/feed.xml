<?xml version="1.0" encoding="UTF-8"?>
<rss xmlns:feedburner="http://rssnamespace.org/feedburner/ext/1.0" version="2.0">
<channel><title>Cheeps and Cheese</title>
<lastBuildDate>Sat, 01 Nov 2025 17:55:48 -0000</lastBuildDate>
<item>
<title> Strix Halo’s Memory Subsystem: Tackling iGPU Challenges </title>
<link>https://chipsandcheese.com/p/strix-halos-memory-subsystem-tackling</link>
<pubDate>Fri, 31 Oct 2025 21:50:39 -0000</pubDate>
<description>
&lt;div&gt;
 &lt;div dir=&quot;auto&quot;&gt;
  &lt;p&gt;
   AMD’s Strix Halo aspires to deliver high CPU and GPU performance within a mobile device. Doing so presents the memory subsystem with a complicated set of demands. CPU applications are often latency sensitive with low bandwidth demands. GPU workloads are often latency tolerant and bandwidth hungry. Then, multitasking requires high memory capacity. Mobile devices need low power draw. Finally, the whole package has to fit within a price tag acceptable to consumers. Investigating how AMD dealt with those challenges as part of our series of articles on Strix Halo [Links] should make for a good time.
  &lt;/p&gt;
  &lt;h1&gt;
   Credit
  &lt;/h1&gt;
  &lt;p&gt;
   ASUS has kindly sampled the ROG Flow Z13, which implements Strix Halo in a tablet form factor with 32 GB of LPDDR5X. They’ve made deep dives like this possible, and we greatly appreciate their support.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!Uwb0!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb8f4aa5e-9bdd-48c9-a117-7d5e4f94e963_1600x1065.jpeg&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!Uwb0!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb8f4aa5e-9bdd-48c9-a117-7d5e4f94e963_1600x1065.jpeg 424w, https://substackcdn.com/image/fetch/$s_!Uwb0!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb8f4aa5e-9bdd-48c9-a117-7d5e4f94e963_1600x1065.jpeg 848w, https://substackcdn.com/image/fetch/$s_!Uwb0!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb8f4aa5e-9bdd-48c9-a117-7d5e4f94e963_1600x1065.jpeg 1272w, https://substackcdn.com/image/fetch/$s_!Uwb0!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb8f4aa5e-9bdd-48c9-a117-7d5e4f94e963_1600x1065.jpeg 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/b8f4aa5e-9bdd-48c9-a117-7d5e4f94e963_1600x1065.jpeg&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:969,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:false,&quot;topImage&quot;:true,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; fetchpriority=&quot;high&quot; height=&quot;969&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!Uwb0!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb8f4aa5e-9bdd-48c9-a117-7d5e4f94e963_1600x1065.jpeg&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!Uwb0!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb8f4aa5e-9bdd-48c9-a117-7d5e4f94e963_1600x1065.jpeg 424w, https://substackcdn.com/image/fetch/$s_!Uwb0!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb8f4aa5e-9bdd-48c9-a117-7d5e4f94e963_1600x1065.jpeg 848w, https://substackcdn.com/image/fetch/$s_!Uwb0!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb8f4aa5e-9bdd-48c9-a117-7d5e4f94e963_1600x1065.jpeg 1272w, https://substackcdn.com/image/fetch/$s_!Uwb0!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb8f4aa5e-9bdd-48c9-a117-7d5e4f94e963_1600x1065.jpeg 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   RX 7600 results were provided by Azralee from the Chips and Cheese Discord.
  &lt;/p&gt;
  &lt;h1&gt;
   GPU
  &lt;/h1&gt;
  &lt;p&gt;
   Strix Halo’s GPU uses a similar cache setup to AMD’s older and smaller mobile chips. As on Strix Point and Hawk Point (Zen 4 mobile), Strix Halo’s GPU is split into two Shader Arrays. Each Shader Array has 256 KB of L1 mid-level cache, and a 2 MB L2 services the entire GPU. Latencies to those GPU-private caches are in line with other RDNA3 and RDNA3.5 implementations. AMD likely kept L2 capacity at 2 MB because a 32 MB memory side cache (Infinity Cache, or MALL) takes over as the GPU’s last level cache.The L2 only has to catch enough traffic to prevent the Infinity Cache from getting overwhelmed. The resulting cache setup is similar to the one in the RX 7600, a lower midrange RDNA3 discrete card.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!j9gt!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F69e76eac-5688-427c-8814-095e1b0e5229_1600x759.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!j9gt!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F69e76eac-5688-427c-8814-095e1b0e5229_1600x759.png 424w, https://substackcdn.com/image/fetch/$s_!j9gt!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F69e76eac-5688-427c-8814-095e1b0e5229_1600x759.png 848w, https://substackcdn.com/image/fetch/$s_!j9gt!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F69e76eac-5688-427c-8814-095e1b0e5229_1600x759.png 1272w, https://substackcdn.com/image/fetch/$s_!j9gt!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F69e76eac-5688-427c-8814-095e1b0e5229_1600x759.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/69e76eac-5688-427c-8814-095e1b0e5229_1600x759.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:691,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:false,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;691&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!j9gt!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F69e76eac-5688-427c-8814-095e1b0e5229_1600x759.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!j9gt!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F69e76eac-5688-427c-8814-095e1b0e5229_1600x759.png 424w, https://substackcdn.com/image/fetch/$s_!j9gt!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F69e76eac-5688-427c-8814-095e1b0e5229_1600x759.png 848w, https://substackcdn.com/image/fetch/$s_!j9gt!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F69e76eac-5688-427c-8814-095e1b0e5229_1600x759.png 1272w, https://substackcdn.com/image/fetch/$s_!j9gt!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F69e76eac-5688-427c-8814-095e1b0e5229_1600x759.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   The Infinity Cache on Strix Halo has slightly higher latency compared to implementations in AMD’s discrete cards. DRAM latency from the GPU is higher as well. Compared to AMD’s other mobile CPUs with iGPUs though, the 32 MB Infinity Cache offers a large cache capacity increase.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!k4OO!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd84bd84e-9e8f-433e-87e9-25b6a35a5447_757x227.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!k4OO!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd84bd84e-9e8f-433e-87e9-25b6a35a5447_757x227.png 424w, https://substackcdn.com/image/fetch/$s_!k4OO!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd84bd84e-9e8f-433e-87e9-25b6a35a5447_757x227.png 848w, https://substackcdn.com/image/fetch/$s_!k4OO!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd84bd84e-9e8f-433e-87e9-25b6a35a5447_757x227.png 1272w, https://substackcdn.com/image/fetch/$s_!k4OO!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd84bd84e-9e8f-433e-87e9-25b6a35a5447_757x227.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/d84bd84e-9e8f-433e-87e9-25b6a35a5447_757x227.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:227,&quot;width&quot;:757,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;227&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!k4OO!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd84bd84e-9e8f-433e-87e9-25b6a35a5447_757x227.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!k4OO!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd84bd84e-9e8f-433e-87e9-25b6a35a5447_757x227.png 424w, https://substackcdn.com/image/fetch/$s_!k4OO!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd84bd84e-9e8f-433e-87e9-25b6a35a5447_757x227.png 848w, https://substackcdn.com/image/fetch/$s_!k4OO!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd84bd84e-9e8f-433e-87e9-25b6a35a5447_757x227.png 1272w, https://substackcdn.com/image/fetch/$s_!k4OO!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd84bd84e-9e8f-433e-87e9-25b6a35a5447_757x227.png 1456w&quot; width=&quot;757&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
      &lt;div&gt;
      &lt;/div&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Nemes’s Vulkan bandwidth test achieves just under 1 TB/s from Infinity Cache. The figures align well with performance counter data. Taken together with the chip’s 2 GHz FCLK, bandwidth test results suggest the GPU has a 512B/cycle path to the interconnect. If so, each of the GPU’s eight Infinity Fabric endpoints has a 64B/cycle link.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!zex1!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6d28eb41-c911-43e2-a130-0062677d4282_1600x812.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!zex1!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6d28eb41-c911-43e2-a130-0062677d4282_1600x812.png 424w, https://substackcdn.com/image/fetch/$s_!zex1!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6d28eb41-c911-43e2-a130-0062677d4282_1600x812.png 848w, https://substackcdn.com/image/fetch/$s_!zex1!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6d28eb41-c911-43e2-a130-0062677d4282_1600x812.png 1272w, https://substackcdn.com/image/fetch/$s_!zex1!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6d28eb41-c911-43e2-a130-0062677d4282_1600x812.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/6d28eb41-c911-43e2-a130-0062677d4282_1600x812.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:739,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;739&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!zex1!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6d28eb41-c911-43e2-a130-0062677d4282_1600x812.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!zex1!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6d28eb41-c911-43e2-a130-0062677d4282_1600x812.png 424w, https://substackcdn.com/image/fetch/$s_!zex1!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6d28eb41-c911-43e2-a130-0062677d4282_1600x812.png 848w, https://substackcdn.com/image/fetch/$s_!zex1!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6d28eb41-c911-43e2-a130-0062677d4282_1600x812.png 1272w, https://substackcdn.com/image/fetch/$s_!zex1!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6d28eb41-c911-43e2-a130-0062677d4282_1600x812.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   As a memory side cache, Infinity Cache can theoretically handle any access to physical addresses backed by DRAM. In an earlier interview with Cheese (George), AMD indicated that Infinity Cache was focused on the GPU, and that its behavior could change with firmware releases. Some of that change has happened already. When I first started testing Strix Halo just after Hot Chips 2025, results from my OpenCL microbenchmarks reflected Infinity Cache’s presence. I used that OpenCL code to figure out Data Fabric performance events. But PMU data collected from games suggested Infinity Cache wasn’t used once a game went into the background. Hardware doesn’t know whether a process is running in the foreground or background. That’s something the operating system knows, and that info would have to be communicated to hardware via drivers. Therefore, Infinity Cache policy can change on the fly from software control.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!mk7F!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa80d46a9-6c53-4edd-bfe4-134d0fdd4209_1180x400.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!mk7F!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa80d46a9-6c53-4edd-bfe4-134d0fdd4209_1180x400.png 424w, https://substackcdn.com/image/fetch/$s_!mk7F!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa80d46a9-6c53-4edd-bfe4-134d0fdd4209_1180x400.png 848w, https://substackcdn.com/image/fetch/$s_!mk7F!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa80d46a9-6c53-4edd-bfe4-134d0fdd4209_1180x400.png 1272w, https://substackcdn.com/image/fetch/$s_!mk7F!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa80d46a9-6c53-4edd-bfe4-134d0fdd4209_1180x400.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/a80d46a9-6c53-4edd-bfe4-134d0fdd4209_1180x400.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:400,&quot;width&quot;:1180,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;400&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!mk7F!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa80d46a9-6c53-4edd-bfe4-134d0fdd4209_1180x400.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!mk7F!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa80d46a9-6c53-4edd-bfe4-134d0fdd4209_1180x400.png 424w, https://substackcdn.com/image/fetch/$s_!mk7F!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa80d46a9-6c53-4edd-bfe4-134d0fdd4209_1180x400.png 848w, https://substackcdn.com/image/fetch/$s_!mk7F!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa80d46a9-6c53-4edd-bfe4-134d0fdd4209_1180x400.png 1272w, https://substackcdn.com/image/fetch/$s_!mk7F!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa80d46a9-6c53-4edd-bfe4-134d0fdd4209_1180x400.png 1456w&quot; width=&quot;1180&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
    &lt;figcaption&gt;
     From early data collected on 9/1/2025
    &lt;/figcaption&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   At that time, Nemes’s Vulkan-based code didn’t reflect Infinity Cache’s presence. PMU data showed a match between CS and UMC traffic, indicating the microbenchmark wasn’t taking advantage of Infinity Cache rather than the cache struggling with the access pattern. I was in the middle of investigating what Infinity Cache did or didn’t apply to when Windows updated. Then, foreground/background status no longer had any effect. Nemes’s Vulkan code was also able to observe the Infinity Cache.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!xt-3!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9256a18c-10ba-484e-8b27-3f641c508761_1600x813.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!xt-3!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9256a18c-10ba-484e-8b27-3f641c508761_1600x813.png 424w, https://substackcdn.com/image/fetch/$s_!xt-3!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9256a18c-10ba-484e-8b27-3f641c508761_1600x813.png 848w, https://substackcdn.com/image/fetch/$s_!xt-3!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9256a18c-10ba-484e-8b27-3f641c508761_1600x813.png 1272w, https://substackcdn.com/image/fetch/$s_!xt-3!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9256a18c-10ba-484e-8b27-3f641c508761_1600x813.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/9256a18c-10ba-484e-8b27-3f641c508761_1600x813.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:740,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;740&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!xt-3!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9256a18c-10ba-484e-8b27-3f641c508761_1600x813.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!xt-3!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9256a18c-10ba-484e-8b27-3f641c508761_1600x813.png 424w, https://substackcdn.com/image/fetch/$s_!xt-3!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9256a18c-10ba-484e-8b27-3f641c508761_1600x813.png 848w, https://substackcdn.com/image/fetch/$s_!xt-3!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9256a18c-10ba-484e-8b27-3f641c508761_1600x813.png 1272w, https://substackcdn.com/image/fetch/$s_!xt-3!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9256a18c-10ba-484e-8b27-3f641c508761_1600x813.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Early observations on Infinity Cache behavior aren’t relevant today, but they do show Infinity Cache’s behavior is influenced by factors beyond a memory request’s origination point. Not all GPU requests install into the cache, and AMD can change cache policy on the fly. AMD could tune behavior with future updates too.
  &lt;/p&gt;
  &lt;p&gt;
   One early observation from OpenCL remained consistent though. Infinity Cache isn’t used for a buffer created with the CL_MEM_ALLOC_HOST_PTR flag and managed with zero-copy map/unmap APIs. CL_MEM_ALLOC_HOST_PTR requests an allocation from host-visible memory. On systems with discrete GPUs, AMD tends to handle that by allocating memory from DRAM attached to the CPU.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!LA-3!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbbe8d7f0-eaa7-4a7e-b28b-7ecf73f3fba3_1600x759.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!LA-3!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbbe8d7f0-eaa7-4a7e-b28b-7ecf73f3fba3_1600x759.png 424w, https://substackcdn.com/image/fetch/$s_!LA-3!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbbe8d7f0-eaa7-4a7e-b28b-7ecf73f3fba3_1600x759.png 848w, https://substackcdn.com/image/fetch/$s_!LA-3!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbbe8d7f0-eaa7-4a7e-b28b-7ecf73f3fba3_1600x759.png 1272w, https://substackcdn.com/image/fetch/$s_!LA-3!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbbe8d7f0-eaa7-4a7e-b28b-7ecf73f3fba3_1600x759.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/bbe8d7f0-eaa7-4a7e-b28b-7ecf73f3fba3_1600x759.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:691,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;691&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!LA-3!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbbe8d7f0-eaa7-4a7e-b28b-7ecf73f3fba3_1600x759.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!LA-3!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbbe8d7f0-eaa7-4a7e-b28b-7ecf73f3fba3_1600x759.png 424w, https://substackcdn.com/image/fetch/$s_!LA-3!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbbe8d7f0-eaa7-4a7e-b28b-7ecf73f3fba3_1600x759.png 848w, https://substackcdn.com/image/fetch/$s_!LA-3!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbbe8d7f0-eaa7-4a7e-b28b-7ecf73f3fba3_1600x759.png 1272w, https://substackcdn.com/image/fetch/$s_!LA-3!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbbe8d7f0-eaa7-4a7e-b28b-7ecf73f3fba3_1600x759.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Intuitively, that flag shouldn’t make a difference on integrated GPUs. I’m not sure why it affects Infinity Cache behavior. Perhaps Strix Halo splits address ranges for the CPU and GPU under the hood, and the CPU’s address ranges aren’t cacheable from the Infinity Cache’s perspective.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!r-Ge!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F13473e9c-efe3-4c4c-ad40-3700c167121f_1600x786.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!r-Ge!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F13473e9c-efe3-4c4c-ad40-3700c167121f_1600x786.png 424w, https://substackcdn.com/image/fetch/$s_!r-Ge!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F13473e9c-efe3-4c4c-ad40-3700c167121f_1600x786.png 848w, https://substackcdn.com/image/fetch/$s_!r-Ge!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F13473e9c-efe3-4c4c-ad40-3700c167121f_1600x786.png 1272w, https://substackcdn.com/image/fetch/$s_!r-Ge!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F13473e9c-efe3-4c4c-ad40-3700c167121f_1600x786.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/13473e9c-efe3-4c4c-ad40-3700c167121f_1600x786.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:715,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;715&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!r-Ge!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F13473e9c-efe3-4c4c-ad40-3700c167121f_1600x786.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!r-Ge!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F13473e9c-efe3-4c4c-ad40-3700c167121f_1600x786.png 424w, https://substackcdn.com/image/fetch/$s_!r-Ge!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F13473e9c-efe3-4c4c-ad40-3700c167121f_1600x786.png 848w, https://substackcdn.com/image/fetch/$s_!r-Ge!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F13473e9c-efe3-4c4c-ad40-3700c167121f_1600x786.png 1272w, https://substackcdn.com/image/fetch/$s_!r-Ge!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F13473e9c-efe3-4c4c-ad40-3700c167121f_1600x786.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   AMD’s discrete Radeon RX 9070 shows similar behavior, with Infinity Cache not being used for host-side memory. Latency to host memory goes up to nearly a microsecond on RX 9070, while it remains unchanged on Strix Halo. Integrated GPUs have an advantage with zero-copy compute code, and it shows.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!JonC!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F699972d4-d810-4dfd-a876-3a177e52453c_746x148.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!JonC!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F699972d4-d810-4dfd-a876-3a177e52453c_746x148.png 424w, https://substackcdn.com/image/fetch/$s_!JonC!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F699972d4-d810-4dfd-a876-3a177e52453c_746x148.png 848w, https://substackcdn.com/image/fetch/$s_!JonC!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F699972d4-d810-4dfd-a876-3a177e52453c_746x148.png 1272w, https://substackcdn.com/image/fetch/$s_!JonC!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F699972d4-d810-4dfd-a876-3a177e52453c_746x148.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/699972d4-d810-4dfd-a876-3a177e52453c_746x148.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:148,&quot;width&quot;:746,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;148&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!JonC!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F699972d4-d810-4dfd-a876-3a177e52453c_746x148.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!JonC!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F699972d4-d810-4dfd-a876-3a177e52453c_746x148.png 424w, https://substackcdn.com/image/fetch/$s_!JonC!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F699972d4-d810-4dfd-a876-3a177e52453c_746x148.png 848w, https://substackcdn.com/image/fetch/$s_!JonC!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F699972d4-d810-4dfd-a876-3a177e52453c_746x148.png 1272w, https://substackcdn.com/image/fetch/$s_!JonC!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F699972d4-d810-4dfd-a876-3a177e52453c_746x148.png 1456w&quot; width=&quot;746&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
      &lt;div&gt;
      &lt;/div&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   To further check zero-copy behavior, I have a test that allocates a 256 MB buffer using OpenCL’s Shared Virtual Memory APIs and only modifies a single 32-bit value. Strix Halo supports fine-grained buffer sharing like other recent AMD GPUs, meaning applications can use results generated from the GPU without calling map/unmap functions.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!Slh8!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd285ac0e-d56c-4adb-ad7e-dc43281f2c10_1471x794.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!Slh8!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd285ac0e-d56c-4adb-ad7e-dc43281f2c10_1471x794.png 424w, https://substackcdn.com/image/fetch/$s_!Slh8!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd285ac0e-d56c-4adb-ad7e-dc43281f2c10_1471x794.png 848w, https://substackcdn.com/image/fetch/$s_!Slh8!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd285ac0e-d56c-4adb-ad7e-dc43281f2c10_1471x794.png 1272w, https://substackcdn.com/image/fetch/$s_!Slh8!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd285ac0e-d56c-4adb-ad7e-dc43281f2c10_1471x794.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/d285ac0e-d56c-4adb-ad7e-dc43281f2c10_1471x794.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:786,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;786&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!Slh8!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd285ac0e-d56c-4adb-ad7e-dc43281f2c10_1471x794.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!Slh8!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd285ac0e-d56c-4adb-ad7e-dc43281f2c10_1471x794.png 424w, https://substackcdn.com/image/fetch/$s_!Slh8!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd285ac0e-d56c-4adb-ad7e-dc43281f2c10_1471x794.png 848w, https://substackcdn.com/image/fetch/$s_!Slh8!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd285ac0e-d56c-4adb-ad7e-dc43281f2c10_1471x794.png 1272w, https://substackcdn.com/image/fetch/$s_!Slh8!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd285ac0e-d56c-4adb-ad7e-dc43281f2c10_1471x794.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Strix Halo shows low latencies in line with zero-copy behavior. It’s worth noting that not all integrated GPUs can avoid a copy under the hood.
  &lt;/p&gt;
  &lt;p&gt;
   Copy APIs like clEnqueueReadBuffer and clEnqueueWriteBuffer are still relevant, because they’re the traditional way to work with discrete GPUs. Those APIs often use the copy queue and DMA engines, which handle data movement without involving general purpose compute units. Strix Halo can achieve high copy bandwidth in the CPU to GPU direction, but not the other way around.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!goLS!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1f91989e-707d-432c-a025-044160346258_1108x583.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!goLS!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1f91989e-707d-432c-a025-044160346258_1108x583.png 424w, https://substackcdn.com/image/fetch/$s_!goLS!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1f91989e-707d-432c-a025-044160346258_1108x583.png 848w, https://substackcdn.com/image/fetch/$s_!goLS!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1f91989e-707d-432c-a025-044160346258_1108x583.png 1272w, https://substackcdn.com/image/fetch/$s_!goLS!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1f91989e-707d-432c-a025-044160346258_1108x583.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/1f91989e-707d-432c-a025-044160346258_1108x583.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:583,&quot;width&quot;:1108,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;583&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!goLS!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1f91989e-707d-432c-a025-044160346258_1108x583.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!goLS!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1f91989e-707d-432c-a025-044160346258_1108x583.png 424w, https://substackcdn.com/image/fetch/$s_!goLS!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1f91989e-707d-432c-a025-044160346258_1108x583.png 848w, https://substackcdn.com/image/fetch/$s_!goLS!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1f91989e-707d-432c-a025-044160346258_1108x583.png 1272w, https://substackcdn.com/image/fetch/$s_!goLS!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1f91989e-707d-432c-a025-044160346258_1108x583.png 1456w&quot; width=&quot;1108&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Performance counter data suggests copies to the GPU don’t go through the Infinity Cache. During a copy, the shared memory controllers should observe both a read from CPU-side memory and a write to GPU-side memory. But there’s nowhere near 100% overhead compared to software measurements.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!KuDp!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3409a0aa-e598-4435-b185-fb40d8dd58ef_1116x580.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!KuDp!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3409a0aa-e598-4435-b185-fb40d8dd58ef_1116x580.png 424w, https://substackcdn.com/image/fetch/$s_!KuDp!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3409a0aa-e598-4435-b185-fb40d8dd58ef_1116x580.png 848w, https://substackcdn.com/image/fetch/$s_!KuDp!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3409a0aa-e598-4435-b185-fb40d8dd58ef_1116x580.png 1272w, https://substackcdn.com/image/fetch/$s_!KuDp!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3409a0aa-e598-4435-b185-fb40d8dd58ef_1116x580.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/3409a0aa-e598-4435-b185-fb40d8dd58ef_1116x580.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:580,&quot;width&quot;:1116,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;580&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!KuDp!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3409a0aa-e598-4435-b185-fb40d8dd58ef_1116x580.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!KuDp!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3409a0aa-e598-4435-b185-fb40d8dd58ef_1116x580.png 424w, https://substackcdn.com/image/fetch/$s_!KuDp!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3409a0aa-e598-4435-b185-fb40d8dd58ef_1116x580.png 848w, https://substackcdn.com/image/fetch/$s_!KuDp!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3409a0aa-e598-4435-b185-fb40d8dd58ef_1116x580.png 1272w, https://substackcdn.com/image/fetch/$s_!KuDp!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3409a0aa-e598-4435-b185-fb40d8dd58ef_1116x580.png 1456w&quot; width=&quot;1116&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Bandwidth is lower in the other direction, but curiously CS-level bandwidth is similar. The memory controllers see less bandwidth, indicating some requests were handled on-chip, likely by Infinity Cache. Curiously, there’s way more than 100% overhead when comparing PMU data to software-visible copy bandwidth.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!9yZC!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F21c371c8-c0cf-4e48-910d-6f6b006d2b99_1118x583.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!9yZC!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F21c371c8-c0cf-4e48-910d-6f6b006d2b99_1118x583.png 424w, https://substackcdn.com/image/fetch/$s_!9yZC!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F21c371c8-c0cf-4e48-910d-6f6b006d2b99_1118x583.png 848w, https://substackcdn.com/image/fetch/$s_!9yZC!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F21c371c8-c0cf-4e48-910d-6f6b006d2b99_1118x583.png 1272w, https://substackcdn.com/image/fetch/$s_!9yZC!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F21c371c8-c0cf-4e48-910d-6f6b006d2b99_1118x583.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/21c371c8-c0cf-4e48-910d-6f6b006d2b99_1118x583.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:583,&quot;width&quot;:1118,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;583&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!9yZC!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F21c371c8-c0cf-4e48-910d-6f6b006d2b99_1118x583.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!9yZC!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F21c371c8-c0cf-4e48-910d-6f6b006d2b99_1118x583.png 424w, https://substackcdn.com/image/fetch/$s_!9yZC!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F21c371c8-c0cf-4e48-910d-6f6b006d2b99_1118x583.png 848w, https://substackcdn.com/image/fetch/$s_!9yZC!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F21c371c8-c0cf-4e48-910d-6f6b006d2b99_1118x583.png 1272w, https://substackcdn.com/image/fetch/$s_!9yZC!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F21c371c8-c0cf-4e48-910d-6f6b006d2b99_1118x583.png 1456w&quot; width=&quot;1118&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;h1&gt;
   CPU
  &lt;/h1&gt;
  &lt;p&gt;
   Strix Halo’s CPU side superficially resembles AMD’s flagship desktop parts, with 16 Zen 5 cores split across two Core Complex Dies (CCDs). However, these CCDs use TSMC’s InFO_oS for connectivity to the IO die rather than on-PCB traces. The CCD has 32B/cycle of bandwidth to the system in both the read and write directions.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!4HRw!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4baf47ea-53a4-4ab8-b015-c2f7fd4632cd_600x137.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!4HRw!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4baf47ea-53a4-4ab8-b015-c2f7fd4632cd_600x137.png 424w, https://substackcdn.com/image/fetch/$s_!4HRw!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4baf47ea-53a4-4ab8-b015-c2f7fd4632cd_600x137.png 848w, https://substackcdn.com/image/fetch/$s_!4HRw!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4baf47ea-53a4-4ab8-b015-c2f7fd4632cd_600x137.png 1272w, https://substackcdn.com/image/fetch/$s_!4HRw!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4baf47ea-53a4-4ab8-b015-c2f7fd4632cd_600x137.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/4baf47ea-53a4-4ab8-b015-c2f7fd4632cd_600x137.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:137,&quot;width&quot;:600,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;137&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!4HRw!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4baf47ea-53a4-4ab8-b015-c2f7fd4632cd_600x137.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!4HRw!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4baf47ea-53a4-4ab8-b015-c2f7fd4632cd_600x137.png 424w, https://substackcdn.com/image/fetch/$s_!4HRw!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4baf47ea-53a4-4ab8-b015-c2f7fd4632cd_600x137.png 848w, https://substackcdn.com/image/fetch/$s_!4HRw!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4baf47ea-53a4-4ab8-b015-c2f7fd4632cd_600x137.png 1272w, https://substackcdn.com/image/fetch/$s_!4HRw!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4baf47ea-53a4-4ab8-b015-c2f7fd4632cd_600x137.png 1456w&quot; width=&quot;600&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
      &lt;div&gt;
      &lt;/div&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Therefore, Strix Halo’s CCDs have more bandwidth at the die boundary than their desktop counterparts, but only in the write direction. It’s an advantage that’s likely to have minimal impact because reads often outnumber writes by a large margin.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!lMbE!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5574f149-b579-4437-89f9-8ebf8012b210_1309x602.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!lMbE!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5574f149-b579-4437-89f9-8ebf8012b210_1309x602.png 424w, https://substackcdn.com/image/fetch/$s_!lMbE!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5574f149-b579-4437-89f9-8ebf8012b210_1309x602.png 848w, https://substackcdn.com/image/fetch/$s_!lMbE!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5574f149-b579-4437-89f9-8ebf8012b210_1309x602.png 1272w, https://substackcdn.com/image/fetch/$s_!lMbE!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5574f149-b579-4437-89f9-8ebf8012b210_1309x602.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/5574f149-b579-4437-89f9-8ebf8012b210_1309x602.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:602,&quot;width&quot;:1309,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;602&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!lMbE!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5574f149-b579-4437-89f9-8ebf8012b210_1309x602.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!lMbE!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5574f149-b579-4437-89f9-8ebf8012b210_1309x602.png 424w, https://substackcdn.com/image/fetch/$s_!lMbE!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5574f149-b579-4437-89f9-8ebf8012b210_1309x602.png 848w, https://substackcdn.com/image/fetch/$s_!lMbE!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5574f149-b579-4437-89f9-8ebf8012b210_1309x602.png 1272w, https://substackcdn.com/image/fetch/$s_!lMbE!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5574f149-b579-4437-89f9-8ebf8012b210_1309x602.png 1456w&quot; width=&quot;1309&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Other CPU chiplet designs have more bandwidth at die boundaries, including the Compute Tile on Intel’s Meteor Lake and AMD’s own “GMI-Wide” configuration. GMI-Wide uses two links between the CCD and IO die to maximize cross-die bandwidth in lower core count server chips. Even though GMI-Wide doesn’t use advanced packaging, it has significantly more cross-die bandwidth than Strix Halo.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!xJDB!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7078095f-9ff2-4516-b9ca-0beda352a02d_1321x705.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!xJDB!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7078095f-9ff2-4516-b9ca-0beda352a02d_1321x705.png 424w, https://substackcdn.com/image/fetch/$s_!xJDB!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7078095f-9ff2-4516-b9ca-0beda352a02d_1321x705.png 848w, https://substackcdn.com/image/fetch/$s_!xJDB!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7078095f-9ff2-4516-b9ca-0beda352a02d_1321x705.png 1272w, https://substackcdn.com/image/fetch/$s_!xJDB!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7078095f-9ff2-4516-b9ca-0beda352a02d_1321x705.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/7078095f-9ff2-4516-b9ca-0beda352a02d_1321x705.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:705,&quot;width&quot;:1321,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;705&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!xJDB!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7078095f-9ff2-4516-b9ca-0beda352a02d_1321x705.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!xJDB!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7078095f-9ff2-4516-b9ca-0beda352a02d_1321x705.png 424w, https://substackcdn.com/image/fetch/$s_!xJDB!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7078095f-9ff2-4516-b9ca-0beda352a02d_1321x705.png 848w, https://substackcdn.com/image/fetch/$s_!xJDB!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7078095f-9ff2-4516-b9ca-0beda352a02d_1321x705.png 1272w, https://substackcdn.com/image/fetch/$s_!xJDB!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7078095f-9ff2-4516-b9ca-0beda352a02d_1321x705.png 1456w&quot; width=&quot;1321&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
    &lt;figcaption&gt;
     Add = adding a constant to an array, creating a read-modify-write pattern with an equal amount of reads and writes. NT Write = non-temporal writes. These bypass cache and in many CPUs trigger a special case that avoids read-for-ownership for cachelines that are entirely overwritten
    &lt;/figcaption&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   In a loaded latency test with reads, a Strix Halo CCD can reach high bandwidth levels at lower latency than standard GMI-Narrow CCDs. Part of that is likely down to its high bandwidth LPDDR5X setup, which a single CCD can’t come close to saturating. But that advantage doesn’t come through until bandwidth loads pass 45-55 GB/s. Before that, LPDDR5X’s high baseline latency puts Strix Halo at a disadvantage. At very high bandwidth load, Intel Meteor Lake’s higher cross-die bandwidth keeps it ahead. AMD’s GMI-Wide setup shows what a bandwidth-focused cross-die link can do, providing excellent bandwidth at low latency.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!wpBY!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa000e417-00b9-4ed5-9da4-96164a1baceb_1600x735.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!wpBY!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa000e417-00b9-4ed5-9da4-96164a1baceb_1600x735.png 424w, https://substackcdn.com/image/fetch/$s_!wpBY!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa000e417-00b9-4ed5-9da4-96164a1baceb_1600x735.png 848w, https://substackcdn.com/image/fetch/$s_!wpBY!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa000e417-00b9-4ed5-9da4-96164a1baceb_1600x735.png 1272w, https://substackcdn.com/image/fetch/$s_!wpBY!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa000e417-00b9-4ed5-9da4-96164a1baceb_1600x735.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/a000e417-00b9-4ed5-9da4-96164a1baceb_1600x735.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:669,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;669&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!wpBY!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa000e417-00b9-4ed5-9da4-96164a1baceb_1600x735.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!wpBY!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa000e417-00b9-4ed5-9da4-96164a1baceb_1600x735.png 424w, https://substackcdn.com/image/fetch/$s_!wpBY!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa000e417-00b9-4ed5-9da4-96164a1baceb_1600x735.png 848w, https://substackcdn.com/image/fetch/$s_!wpBY!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa000e417-00b9-4ed5-9da4-96164a1baceb_1600x735.png 1272w, https://substackcdn.com/image/fetch/$s_!wpBY!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa000e417-00b9-4ed5-9da4-96164a1baceb_1600x735.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Bringing both CCDs into play gives Strix Halo a lead over Meteor Lake. I’m starting the test by placing bandwidth load on CCD1 while running the latency test on CCD0. That gives lower latency at bandwidth loads below 60 GB/s because contention at the CCD interface is taken out of the picture. Latency does increase as I spread bandwidth load across both dies, and rises beyond 200 ns as the test approaches die-to-die bandwidth limits. However, a read-only pattern is still limited by cross-die bandwidth and falls far short of the 256 GB/s that the LPDDR5X setup is theoretically capable of.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!ckIK!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3e6e686c-39be-491e-997d-99a49a7f7aff_1457x758.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!ckIK!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3e6e686c-39be-491e-997d-99a49a7f7aff_1457x758.png 424w, https://substackcdn.com/image/fetch/$s_!ckIK!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3e6e686c-39be-491e-997d-99a49a7f7aff_1457x758.png 848w, https://substackcdn.com/image/fetch/$s_!ckIK!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3e6e686c-39be-491e-997d-99a49a7f7aff_1457x758.png 1272w, https://substackcdn.com/image/fetch/$s_!ckIK!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3e6e686c-39be-491e-997d-99a49a7f7aff_1457x758.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/3e6e686c-39be-491e-997d-99a49a7f7aff_1457x758.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:757,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;757&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!ckIK!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3e6e686c-39be-491e-997d-99a49a7f7aff_1457x758.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!ckIK!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3e6e686c-39be-491e-997d-99a49a7f7aff_1457x758.png 424w, https://substackcdn.com/image/fetch/$s_!ckIK!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3e6e686c-39be-491e-997d-99a49a7f7aff_1457x758.png 848w, https://substackcdn.com/image/fetch/$s_!ckIK!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3e6e686c-39be-491e-997d-99a49a7f7aff_1457x758.png 1272w, https://substackcdn.com/image/fetch/$s_!ckIK!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3e6e686c-39be-491e-997d-99a49a7f7aff_1457x758.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Advanced packaging may provide latency benefits too. Regular AMD CCDs use SerDes (serializer-deserializer) blocks, which convert signals for transport over lower quality PCB traces. Zen 2’s Infinity Fabric On-Package (IFOP) SerDes for example uses 32 transmit and 40 receive lanes running at a very high clock. Forwarded clock signals per lane data bundle help tackle clock skew that comes up with high speed parallel transmission over wires of unequal lengths. CRC helps ensure data integrity.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!JCVU!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F44778945-0073-42eb-8b1d-d3ff2dcace9f_860x709.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!JCVU!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F44778945-0073-42eb-8b1d-d3ff2dcace9f_860x709.png 424w, https://substackcdn.com/image/fetch/$s_!JCVU!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F44778945-0073-42eb-8b1d-d3ff2dcace9f_860x709.png 848w, https://substackcdn.com/image/fetch/$s_!JCVU!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F44778945-0073-42eb-8b1d-d3ff2dcace9f_860x709.png 1272w, https://substackcdn.com/image/fetch/$s_!JCVU!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F44778945-0073-42eb-8b1d-d3ff2dcace9f_860x709.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/44778945-0073-42eb-8b1d-d3ff2dcace9f_860x709.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:709,&quot;width&quot;:860,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;709&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!JCVU!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F44778945-0073-42eb-8b1d-d3ff2dcace9f_860x709.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!JCVU!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F44778945-0073-42eb-8b1d-d3ff2dcace9f_860x709.png 424w, https://substackcdn.com/image/fetch/$s_!JCVU!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F44778945-0073-42eb-8b1d-d3ff2dcace9f_860x709.png 848w, https://substackcdn.com/image/fetch/$s_!JCVU!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F44778945-0073-42eb-8b1d-d3ff2dcace9f_860x709.png 1272w, https://substackcdn.com/image/fetch/$s_!JCVU!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F44778945-0073-42eb-8b1d-d3ff2dcace9f_860x709.png 1456w&quot; width=&quot;860&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   All of that adds power and latency overhead. Strix Halo’s InFO_oS packaging doesn’t require SerDes. But any latency advantage is difficult to observe in practice. DRAM requests are the most common type of off-CCD traffic. High LPDDR5X latency masks any latency advantage when looking at DRAM requests, as shown above. Cache coherency traffic is another form of off-CCD traffic, and doesn’t involve DRAM. However, testing that with a “core to core latency” test that bounces cachelines between core pairs also doesn’t provide favorable results for Strix Halo.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!P1G_!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F81ce08f2-1ee4-4034-bec0-e0ca0d53c49c_1600x784.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!P1G_!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F81ce08f2-1ee4-4034-bec0-e0ca0d53c49c_1600x784.png 424w, https://substackcdn.com/image/fetch/$s_!P1G_!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F81ce08f2-1ee4-4034-bec0-e0ca0d53c49c_1600x784.png 848w, https://substackcdn.com/image/fetch/$s_!P1G_!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F81ce08f2-1ee4-4034-bec0-e0ca0d53c49c_1600x784.png 1272w, https://substackcdn.com/image/fetch/$s_!P1G_!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F81ce08f2-1ee4-4034-bec0-e0ca0d53c49c_1600x784.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/81ce08f2-1ee4-4034-bec0-e0ca0d53c49c_1600x784.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:713,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;713&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!P1G_!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F81ce08f2-1ee4-4034-bec0-e0ca0d53c49c_1600x784.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!P1G_!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F81ce08f2-1ee4-4034-bec0-e0ca0d53c49c_1600x784.png 424w, https://substackcdn.com/image/fetch/$s_!P1G_!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F81ce08f2-1ee4-4034-bec0-e0ca0d53c49c_1600x784.png 848w, https://substackcdn.com/image/fetch/$s_!P1G_!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F81ce08f2-1ee4-4034-bec0-e0ca0d53c49c_1600x784.png 1272w, https://substackcdn.com/image/fetch/$s_!P1G_!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F81ce08f2-1ee4-4034-bec0-e0ca0d53c49c_1600x784.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
    &lt;figcaption&gt;
     A run that produced good cross-CCX latencies
    &lt;/figcaption&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   AMD handles cross-CCX cache coherency at Coherent Stations (CS-es) that sit right in front of the memory controllers. Memory traffic is interleaved across memory channels and thus CS instances based on their physical address. I try hitting different physical addresses by testing with various cacheline offsets into a 4 KB page, which gives me different combinations of L3 slices and memory controller + CS pairs. Values within a single run reflect variation based on the tested core pair, while different runs display variation from different memory subsystem blocks owning the tested address.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!7xPq!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fec243735-86d4-40db-8231-f4aef065f874_1600x784.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!7xPq!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fec243735-86d4-40db-8231-f4aef065f874_1600x784.png 424w, https://substackcdn.com/image/fetch/$s_!7xPq!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fec243735-86d4-40db-8231-f4aef065f874_1600x784.png 848w, https://substackcdn.com/image/fetch/$s_!7xPq!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fec243735-86d4-40db-8231-f4aef065f874_1600x784.png 1272w, https://substackcdn.com/image/fetch/$s_!7xPq!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fec243735-86d4-40db-8231-f4aef065f874_1600x784.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/ec243735-86d4-40db-8231-f4aef065f874_1600x784.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:713,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;713&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!7xPq!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fec243735-86d4-40db-8231-f4aef065f874_1600x784.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!7xPq!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fec243735-86d4-40db-8231-f4aef065f874_1600x784.png 424w, https://substackcdn.com/image/fetch/$s_!7xPq!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fec243735-86d4-40db-8231-f4aef065f874_1600x784.png 848w, https://substackcdn.com/image/fetch/$s_!7xPq!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fec243735-86d4-40db-8231-f4aef065f874_1600x784.png 1272w, https://substackcdn.com/image/fetch/$s_!7xPq!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fec243735-86d4-40db-8231-f4aef065f874_1600x784.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
    &lt;figcaption&gt;
     A run on the worse end with respect to cross-CCX latencies, likely hitting a CS farther away from the CPU endpoints
    &lt;/figcaption&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Cross-CCX latencies on Strix Halo land in the 100-120 ns range depending on the location of the tested core pair, responsible L3 slice, and responsible CS. It’s significantly higher on typical desktop systems or prior mobile chips from AMD. For example, the Ryzen 9 9900X tends to have cross-CCX latencies in the 80-90 ns range, which is in line with prior Zen generations. It’s about 20 ns faster than Strix Halo.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!_RZY!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe0308ce2-dd55-44d3-873e-c3c297da1337_1001x521.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!_RZY!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe0308ce2-dd55-44d3-873e-c3c297da1337_1001x521.png 424w, https://substackcdn.com/image/fetch/$s_!_RZY!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe0308ce2-dd55-44d3-873e-c3c297da1337_1001x521.png 848w, https://substackcdn.com/image/fetch/$s_!_RZY!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe0308ce2-dd55-44d3-873e-c3c297da1337_1001x521.png 1272w, https://substackcdn.com/image/fetch/$s_!_RZY!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe0308ce2-dd55-44d3-873e-c3c297da1337_1001x521.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/e0308ce2-dd55-44d3-873e-c3c297da1337_1001x521.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:521,&quot;width&quot;:1001,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;521&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!_RZY!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe0308ce2-dd55-44d3-873e-c3c297da1337_1001x521.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!_RZY!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe0308ce2-dd55-44d3-873e-c3c297da1337_1001x521.png 424w, https://substackcdn.com/image/fetch/$s_!_RZY!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe0308ce2-dd55-44d3-873e-c3c297da1337_1001x521.png 848w, https://substackcdn.com/image/fetch/$s_!_RZY!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe0308ce2-dd55-44d3-873e-c3c297da1337_1001x521.png 1272w, https://substackcdn.com/image/fetch/$s_!_RZY!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe0308ce2-dd55-44d3-873e-c3c297da1337_1001x521.png 1456w&quot; width=&quot;1001&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Therefore, I don’t have a satisfactory answer about Strix Halo’s cross-die latency. Latency may indeed be lower at die boundaries. But everything past that boundary has higher latency compared to other client systems, making any advantage invisible to software.
  &lt;/p&gt;
  &lt;h1&gt;
   Balancing CPU and GPU Bandwidth Demands
  &lt;/h1&gt;
  &lt;p&gt;
   &lt;span&gt;
    Sharing a memory controller across the CPU and GPU comes with advantages, like making zero-copy behavior more natural to pull off. But it comes with challenges too. CPU and GPU memory requests can contend with each other for DRAM access. Contention surfaces as higher latency. From Zen 4 onward, AMD’s L3 performance monitoring unit (PMU) can measure average latency in nanoseconds for requests external to the core cluster. PMU data isn’t directly comparable to software measurements, because it only accounts for latency after the point of a L3 miss. But it is consistent in slightly under-estimating software observed latency when running a simple latency microbenchmark. When gaming, I typically see low CPU bandwidth demands and
   &lt;/span&gt;
   &lt;a href=&quot;https://chipsandcheese.com/p/running-gaming-workloads-through&quot; rel=&quot;&quot;&gt;
    correspondingly mild latency increases over the baseline
   &lt;/a&gt;
   &lt;span&gt;
    .
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!SJbO!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb4b7653a-d997-410d-90a0-f46f1b0fdb39_1479x1021.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!SJbO!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb4b7653a-d997-410d-90a0-f46f1b0fdb39_1479x1021.png 424w, https://substackcdn.com/image/fetch/$s_!SJbO!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb4b7653a-d997-410d-90a0-f46f1b0fdb39_1479x1021.png 848w, https://substackcdn.com/image/fetch/$s_!SJbO!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb4b7653a-d997-410d-90a0-f46f1b0fdb39_1479x1021.png 1272w, https://substackcdn.com/image/fetch/$s_!SJbO!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb4b7653a-d997-410d-90a0-f46f1b0fdb39_1479x1021.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/b4b7653a-d997-410d-90a0-f46f1b0fdb39_1479x1021.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:1005,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;1005&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!SJbO!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb4b7653a-d997-410d-90a0-f46f1b0fdb39_1479x1021.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!SJbO!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb4b7653a-d997-410d-90a0-f46f1b0fdb39_1479x1021.png 424w, https://substackcdn.com/image/fetch/$s_!SJbO!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb4b7653a-d997-410d-90a0-f46f1b0fdb39_1479x1021.png 848w, https://substackcdn.com/image/fetch/$s_!SJbO!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb4b7653a-d997-410d-90a0-f46f1b0fdb39_1479x1021.png 1272w, https://substackcdn.com/image/fetch/$s_!SJbO!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb4b7653a-d997-410d-90a0-f46f1b0fdb39_1479x1021.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   The same doesn’t hold true when gaming on Strix Halo’s integrated GPU. Latency rises far above the baseline of around 140 ns. I logged average latency over 1 second intervals, and many of those intervals saw latency figures around 200 ns across several games
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!52q5!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc8b90f48-f990-4e29-808f-cc7fbe023549_1572x767.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!52q5!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc8b90f48-f990-4e29-808f-cc7fbe023549_1572x767.png 424w, https://substackcdn.com/image/fetch/$s_!52q5!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc8b90f48-f990-4e29-808f-cc7fbe023549_1572x767.png 848w, https://substackcdn.com/image/fetch/$s_!52q5!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc8b90f48-f990-4e29-808f-cc7fbe023549_1572x767.png 1272w, https://substackcdn.com/image/fetch/$s_!52q5!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc8b90f48-f990-4e29-808f-cc7fbe023549_1572x767.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/c8b90f48-f990-4e29-808f-cc7fbe023549_1572x767.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:710,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;710&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!52q5!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc8b90f48-f990-4e29-808f-cc7fbe023549_1572x767.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!52q5!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc8b90f48-f990-4e29-808f-cc7fbe023549_1572x767.png 424w, https://substackcdn.com/image/fetch/$s_!52q5!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc8b90f48-f990-4e29-808f-cc7fbe023549_1572x767.png 848w, https://substackcdn.com/image/fetch/$s_!52q5!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc8b90f48-f990-4e29-808f-cc7fbe023549_1572x767.png 1272w, https://substackcdn.com/image/fetch/$s_!52q5!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc8b90f48-f990-4e29-808f-cc7fbe023549_1572x767.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   I wrote a microbenchmark to investigate how CPU memory latency is impacted by GPU-sde bandwidth load. As with the CPU loaded latency test, I run a latency test thread on a CPU core. But instead of using a read-only pattern, I do a standard C=A+B computation across large arrays on the GPU. To control GPU bandwidth load, I can have each OpenCL kernel invocation do more math with A and B before writing the result to C. Results show increased latency at higher GPU bandwidth demands. Other recent iGPUs show similar behavior.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!6N1M!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd7494f44-fe40-493d-8e44-686407e80804_1600x739.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!6N1M!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd7494f44-fe40-493d-8e44-686407e80804_1600x739.png 424w, https://substackcdn.com/image/fetch/$s_!6N1M!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd7494f44-fe40-493d-8e44-686407e80804_1600x739.png 848w, https://substackcdn.com/image/fetch/$s_!6N1M!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd7494f44-fe40-493d-8e44-686407e80804_1600x739.png 1272w, https://substackcdn.com/image/fetch/$s_!6N1M!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd7494f44-fe40-493d-8e44-686407e80804_1600x739.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/d7494f44-fe40-493d-8e44-686407e80804_1600x739.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:672,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;672&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!6N1M!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd7494f44-fe40-493d-8e44-686407e80804_1600x739.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!6N1M!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd7494f44-fe40-493d-8e44-686407e80804_1600x739.png 424w, https://substackcdn.com/image/fetch/$s_!6N1M!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd7494f44-fe40-493d-8e44-686407e80804_1600x739.png 848w, https://substackcdn.com/image/fetch/$s_!6N1M!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd7494f44-fe40-493d-8e44-686407e80804_1600x739.png 1272w, https://substackcdn.com/image/fetch/$s_!6N1M!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd7494f44-fe40-493d-8e44-686407e80804_1600x739.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   In-game CPU bandwidth demands are low, but not as low as a simple latency test. I tried running a couple of read bandwidth threads on top of the test above. Strix Halo seems to let its GPU squeeze out the CPU when under extreme bandwidth demands. Latency suffers, passing 300 ns at one point.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!Euuc!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fdf3465a5-0088-414f-921b-d520c714224a_1600x739.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!Euuc!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fdf3465a5-0088-414f-921b-d520c714224a_1600x739.png 424w, https://substackcdn.com/image/fetch/$s_!Euuc!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fdf3465a5-0088-414f-921b-d520c714224a_1600x739.png 848w, https://substackcdn.com/image/fetch/$s_!Euuc!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fdf3465a5-0088-414f-921b-d520c714224a_1600x739.png 1272w, https://substackcdn.com/image/fetch/$s_!Euuc!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fdf3465a5-0088-414f-921b-d520c714224a_1600x739.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/df3465a5-0088-414f-921b-d520c714224a_1600x739.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:672,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;672&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!Euuc!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fdf3465a5-0088-414f-921b-d520c714224a_1600x739.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!Euuc!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fdf3465a5-0088-414f-921b-d520c714224a_1600x739.png 424w, https://substackcdn.com/image/fetch/$s_!Euuc!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fdf3465a5-0088-414f-921b-d520c714224a_1600x739.png 848w, https://substackcdn.com/image/fetch/$s_!Euuc!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fdf3465a5-0088-414f-921b-d520c714224a_1600x739.png 1272w, https://substackcdn.com/image/fetch/$s_!Euuc!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fdf3465a5-0088-414f-921b-d520c714224a_1600x739.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Plotting L3 and memory controller PMU data with 1 second intervals helps capture the relationship between latency and bandwidth usage in more complex workloads. The points don’t track well with microbenchmark data collected with a single CPU-side latency test thread. Perhaps there’s enough CPU-side bandwidth demand to cause contention at both the die-to-die interface and the memory controllers. Or maybe, CPU and GPU bandwidth spikes tend to line up within those 1 second intervals. Whatever the case, PMU data highlights how Strix Halo’s CPU cores need high cache hitrates more than their desktop counterparts.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!Zj6i!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fffdd6560-4a4d-4e45-a46a-51ed8f70fcff_1600x857.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!Zj6i!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fffdd6560-4a4d-4e45-a46a-51ed8f70fcff_1600x857.png 424w, https://substackcdn.com/image/fetch/$s_!Zj6i!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fffdd6560-4a4d-4e45-a46a-51ed8f70fcff_1600x857.png 848w, https://substackcdn.com/image/fetch/$s_!Zj6i!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fffdd6560-4a4d-4e45-a46a-51ed8f70fcff_1600x857.png 1272w, https://substackcdn.com/image/fetch/$s_!Zj6i!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fffdd6560-4a4d-4e45-a46a-51ed8f70fcff_1600x857.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/ffdd6560-4a4d-4e45-a46a-51ed8f70fcff_1600x857.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:780,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;780&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!Zj6i!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fffdd6560-4a4d-4e45-a46a-51ed8f70fcff_1600x857.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!Zj6i!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fffdd6560-4a4d-4e45-a46a-51ed8f70fcff_1600x857.png 424w, https://substackcdn.com/image/fetch/$s_!Zj6i!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fffdd6560-4a4d-4e45-a46a-51ed8f70fcff_1600x857.png 848w, https://substackcdn.com/image/fetch/$s_!Zj6i!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fffdd6560-4a4d-4e45-a46a-51ed8f70fcff_1600x857.png 1272w, https://substackcdn.com/image/fetch/$s_!Zj6i!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fffdd6560-4a4d-4e45-a46a-51ed8f70fcff_1600x857.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Memory latency under load is largely not a problem with CPU-only workloads, even when considering heavily multithreaded ones. Total bandwidth demands are much lower and actually well within the capabilities of a 128-bit DDR5 setup. That explains why AMD was able to take on quad channel HEDT parts using a desktop dual channel platform back in the Zen 2 days. Good caching likely played a role, and Strix Halo continues to have 4 MB of last level cache per core. PMU data from Cinebench, code compilation, and AV1 video encoding loosely align with microbenchmark results. Latency barely strays above the baseline. Y-Cruncher is an exception. It’s very bandwidth hungry and not cache friendly. Its bandwidth demands are several times higher, and often go beyond a dual channel DDR5-5600 setup’s capabilities. Strix Halo is a good choice for that type of workload. But in the client space, bandwidth hungry CPU applications tend to be exceptions.
  &lt;/p&gt;
  &lt;h1&gt;
   Final Words: A GPU with an Integrated CPU?
  &lt;/h1&gt;
  &lt;p&gt;
   Observations above suggest Strix Halo’s Infinity Fabric and DRAM setup focuses on feeding the GPU and as a result the CPU gets the short end of the stick. High Infinity Fabric endpoint count and a wide LPDDR5X bus provide high bandwidth at high latency. CPU workloads tend to be latency sensitive and contention can make that even worse.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!6z0B!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0421d907-b5ef-4b1b-8435-fef2ade2a74f_1600x736.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!6z0B!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0421d907-b5ef-4b1b-8435-fef2ade2a74f_1600x736.png 424w, https://substackcdn.com/image/fetch/$s_!6z0B!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0421d907-b5ef-4b1b-8435-fef2ade2a74f_1600x736.png 848w, https://substackcdn.com/image/fetch/$s_!6z0B!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0421d907-b5ef-4b1b-8435-fef2ade2a74f_1600x736.png 1272w, https://substackcdn.com/image/fetch/$s_!6z0B!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0421d907-b5ef-4b1b-8435-fef2ade2a74f_1600x736.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/0421d907-b5ef-4b1b-8435-fef2ade2a74f_1600x736.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:670,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;670&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!6z0B!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0421d907-b5ef-4b1b-8435-fef2ade2a74f_1600x736.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!6z0B!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0421d907-b5ef-4b1b-8435-fef2ade2a74f_1600x736.png 424w, https://substackcdn.com/image/fetch/$s_!6z0B!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0421d907-b5ef-4b1b-8435-fef2ade2a74f_1600x736.png 848w, https://substackcdn.com/image/fetch/$s_!6z0B!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0421d907-b5ef-4b1b-8435-fef2ade2a74f_1600x736.png 1272w, https://substackcdn.com/image/fetch/$s_!6z0B!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0421d907-b5ef-4b1b-8435-fef2ade2a74f_1600x736.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
    &lt;figcaption&gt;
     Strix Halo shows AMD can move hundreds of gigabytes per second over Infinity Fabric within mobile power budgets. It’s impressive in that respect, but CPU-side latency is high
    &lt;/figcaption&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   &lt;span&gt;
    Other aspects of the memory subsystem de-prioritize the CPU as well. CPU accesses don’t fill into that cache, but
   &lt;/span&gt;
   &lt;a href=&quot;https://chipsandcheese.com/p/amds-strix-halo-under-the-hood&quot; rel=&quot;&quot;&gt;
    still do a lookup
   &lt;/a&gt;
   &lt;span&gt;
    likely to maintain cache coherency with the GPU. That cache lookup at the very least costs power and might add latency, even though it’ll almost never result in a hit. Lack of GMI-Wide style bandwidth is another example.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!QzcR!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe4eb2142-5196-4b55-a64f-370c528d122e_1600x1273.jpeg&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!QzcR!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe4eb2142-5196-4b55-a64f-370c528d122e_1600x1273.jpeg 424w, https://substackcdn.com/image/fetch/$s_!QzcR!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe4eb2142-5196-4b55-a64f-370c528d122e_1600x1273.jpeg 848w, https://substackcdn.com/image/fetch/$s_!QzcR!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe4eb2142-5196-4b55-a64f-370c528d122e_1600x1273.jpeg 1272w, https://substackcdn.com/image/fetch/$s_!QzcR!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe4eb2142-5196-4b55-a64f-370c528d122e_1600x1273.jpeg 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/e4eb2142-5196-4b55-a64f-370c528d122e_1600x1273.jpeg&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:1158,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;1158&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!QzcR!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe4eb2142-5196-4b55-a64f-370c528d122e_1600x1273.jpeg&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!QzcR!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe4eb2142-5196-4b55-a64f-370c528d122e_1600x1273.jpeg 424w, https://substackcdn.com/image/fetch/$s_!QzcR!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe4eb2142-5196-4b55-a64f-370c528d122e_1600x1273.jpeg 848w, https://substackcdn.com/image/fetch/$s_!QzcR!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe4eb2142-5196-4b55-a64f-370c528d122e_1600x1273.jpeg 1272w, https://substackcdn.com/image/fetch/$s_!QzcR!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe4eb2142-5196-4b55-a64f-370c528d122e_1600x1273.jpeg 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
    &lt;figcaption&gt;
     ASUS’s ROG Flow Z13 placed next to the original Surface Pro for comparison. A hypothetical larger iGPU would be difficult to accommodate in such a form factor, and would face stiff competition from discrete GPU setups
    &lt;/figcaption&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   AMD’s decisions are understandable. Most client workloads have light bandwidth requirements.Strix Halo’s memory system design lets it perform well in portable gaming devices like the ROG Flow Z13. But it does make tradeoffs. And extrapolating from those tradeoffs suggests iGPU designs will face steeper challenges at higher performance tiers.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!4OuG!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6c244480-b997-4180-9c1e-af3a2559f365_601x216.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!4OuG!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6c244480-b997-4180-9c1e-af3a2559f365_601x216.png 424w, https://substackcdn.com/image/fetch/$s_!4OuG!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6c244480-b997-4180-9c1e-af3a2559f365_601x216.png 848w, https://substackcdn.com/image/fetch/$s_!4OuG!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6c244480-b997-4180-9c1e-af3a2559f365_601x216.png 1272w, https://substackcdn.com/image/fetch/$s_!4OuG!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6c244480-b997-4180-9c1e-af3a2559f365_601x216.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/6c244480-b997-4180-9c1e-af3a2559f365_601x216.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:216,&quot;width&quot;:601,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;216&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!4OuG!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6c244480-b997-4180-9c1e-af3a2559f365_601x216.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!4OuG!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6c244480-b997-4180-9c1e-af3a2559f365_601x216.png 424w, https://substackcdn.com/image/fetch/$s_!4OuG!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6c244480-b997-4180-9c1e-af3a2559f365_601x216.png 848w, https://substackcdn.com/image/fetch/$s_!4OuG!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6c244480-b997-4180-9c1e-af3a2559f365_601x216.png 1272w, https://substackcdn.com/image/fetch/$s_!4OuG!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6c244480-b997-4180-9c1e-af3a2559f365_601x216.png 1456w&quot; width=&quot;601&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
      &lt;div&gt;
      &lt;/div&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   For its part, Strix Halo strikes a good balance. It enjoys iGPU advantages without being large enough for the disadvantages to hurt. I hope AMD continues to target Strix Halo’s market segment with updated designs, and look forward to seeing where they go next.
  &lt;/p&gt;
  &lt;p&gt;
   &lt;span&gt;
    If you like the content then consider heading over to the
   &lt;/span&gt;
   &lt;a href=&quot;https://www.patreon.com/ChipsandCheese&quot; rel=&quot;&quot;&gt;
    Patreon
   &lt;/a&gt;
   &lt;span&gt;
    or
   &lt;/span&gt;
   &lt;a href=&quot;https://www.paypal.com/donate/?hosted_button_id=4EMPH66SBGVSQ&quot; rel=&quot;&quot;&gt;
    PayPal
   &lt;/a&gt;
   &lt;span&gt;
    if you want to toss a few bucks to Chips and Cheese. Also consider joining the
   &lt;/span&gt;
   &lt;a href=&quot;https://discord.gg/TwVnRhxgY2&quot; rel=&quot;&quot;&gt;
    Discord
   &lt;/a&gt;
   &lt;span&gt;
    .
   &lt;/span&gt;
  &lt;/p&gt;
 &lt;/div&gt;
&lt;/div&gt;

</description>
</item>
<item>
<title> Evaluating the Infinity Cache in AMD Strix Halo </title>
<link>https://chipsandcheese.com/p/evaluating-the-infinity-cache-in</link>
<pubDate>Wed, 22 Oct 2025 03:58:42 -0000</pubDate>
<description>
&lt;div&gt;
 &lt;div dir=&quot;auto&quot;&gt;
  &lt;p&gt;
   Strix Halo is the codename for AMD’s highest end mobile chip, which is used in the Ryzen AI MAX series. It combines a powerful CPU with 16 Zen 5 cores and a large GPU with 20 RDNA 3.5 Workgroup Processors (WGPs). The sizeable iGPU makes Strix Halo particularly interesting because GPUs have high bandwidth requirements. Strix Halo tackles that with a 256-bit LPDDR5X-8000 setup combined with 32 MB of memory side cache. The latter is often referred to as Infinity Cache, or MALL (Memory Attached Last Level). I’ll refer to it as Infinity Cache for brevity.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!Il1z!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7bdb0948-6a82-4441-927a-4dcdce851029_847x714.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!Il1z!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7bdb0948-6a82-4441-927a-4dcdce851029_847x714.png 424w, https://substackcdn.com/image/fetch/$s_!Il1z!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7bdb0948-6a82-4441-927a-4dcdce851029_847x714.png 848w, https://substackcdn.com/image/fetch/$s_!Il1z!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7bdb0948-6a82-4441-927a-4dcdce851029_847x714.png 1272w, https://substackcdn.com/image/fetch/$s_!Il1z!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7bdb0948-6a82-4441-927a-4dcdce851029_847x714.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/7bdb0948-6a82-4441-927a-4dcdce851029_847x714.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:714,&quot;width&quot;:847,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:false,&quot;topImage&quot;:true,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; fetchpriority=&quot;high&quot; height=&quot;714&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!Il1z!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7bdb0948-6a82-4441-927a-4dcdce851029_847x714.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!Il1z!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7bdb0948-6a82-4441-927a-4dcdce851029_847x714.png 424w, https://substackcdn.com/image/fetch/$s_!Il1z!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7bdb0948-6a82-4441-927a-4dcdce851029_847x714.png 848w, https://substackcdn.com/image/fetch/$s_!Il1z!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7bdb0948-6a82-4441-927a-4dcdce851029_847x714.png 1272w, https://substackcdn.com/image/fetch/$s_!Il1z!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7bdb0948-6a82-4441-927a-4dcdce851029_847x714.png 1456w&quot; width=&quot;847&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Infinity Cache has been around since RDNA2 in AMD’s discrete consumer GPU lineup, where it helped AMD hit high performance targets with lower DRAM bandwidth requirements. However, Infinity Cache’s efficacy has so far been difficult for me to evaluate. AMD’s discrete GPUs have performance monitoring facilities accessible through AMD’s developer tools. But those tools stop providing information past L2. Strix Halo stands out because it has an Infinity Cache implementation, and all the accessible performance monitoring features typical of a recent AMD GPU. That includes programmable performance counters at Infinity Fabric and memory controllers. It’s an opportunity to finally get insight into how well AMD’s Infinity Cache does its job in various graphics workloads.
  &lt;/p&gt;
  &lt;h1&gt;
   Acknowledgements
  &lt;/h1&gt;
  &lt;p&gt;
   Special thanks goes out to ASUS for sampling their ROG Flow Z13. This device implements AMD’s Ryzen AI MAX+ 395 with 32 GB of LPDDR5X in a thin and light form factor. It superficially represents a convertible tablet from Microsoft’s Surface line, and is remarkably portable for a device with gaming credentials. Without ASUS’s help, this article wouldn’t have been possible.
  &lt;/p&gt;
  &lt;h1&gt;
   Infinity Fabric, Performance Monitoring, and Theory
  &lt;/h1&gt;
  &lt;p&gt;
   AMD’s Infinity Fabric aims to abstract away details of how data travels across the chip. It does so by providing endpoints with well defined interfaces to let blocks make or handle memory requests. Infinity Fabric also provides a set of programmable performance counters. AMD documents a single DATA_BW performance event that counts data beats at endpoints. DATA_BW targets an endpoint via its 8-bit instance ID, and can count either reads or writes. AMD never documented Infinity Fabric instance IDs for Strix Halo. So, I did some guessing by generating traffic at various blocks and observing bandwidth counts at all possible instance IDs.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!cH9c!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb9c7e404-6987-45a7-8816-916580073352_959x411.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!cH9c!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb9c7e404-6987-45a7-8816-916580073352_959x411.png 424w, https://substackcdn.com/image/fetch/$s_!cH9c!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb9c7e404-6987-45a7-8816-916580073352_959x411.png 848w, https://substackcdn.com/image/fetch/$s_!cH9c!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb9c7e404-6987-45a7-8816-916580073352_959x411.png 1272w, https://substackcdn.com/image/fetch/$s_!cH9c!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb9c7e404-6987-45a7-8816-916580073352_959x411.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/b9c7e404-6987-45a7-8816-916580073352_959x411.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:411,&quot;width&quot;:959,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:false,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;411&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!cH9c!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb9c7e404-6987-45a7-8816-916580073352_959x411.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!cH9c!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb9c7e404-6987-45a7-8816-916580073352_959x411.png 424w, https://substackcdn.com/image/fetch/$s_!cH9c!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb9c7e404-6987-45a7-8816-916580073352_959x411.png 848w, https://substackcdn.com/image/fetch/$s_!cH9c!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb9c7e404-6987-45a7-8816-916580073352_959x411.png 1272w, https://substackcdn.com/image/fetch/$s_!cH9c!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb9c7e404-6987-45a7-8816-916580073352_959x411.png 1456w&quot; width=&quot;959&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Instance IDs start from the Coherent Stations (CS-es), just like on server platforms. CS blocks sit in front of memory controllers and ensure cache coherency by probing another block if it might have a modified copy of the requested cacheline. If it doesn’t, which is most of the time, the CS will pass the request on to its attached Unified Memory Controller (UMC). Because CS blocks observe all requests to physical memory backed by DRAM, it’s a logical place to implement a memory side cache. That’s exactly what AMD does on chips with Infinity Cache. Cache hits let the CS avoid going to the UMC.
  &lt;/p&gt;
  &lt;p&gt;
   Strix Halo has 16 memory controllers and CS instances, each handling a 16-bit LPDDR5X channel. The GPU occupies the next eight instance IDs, suggesting it has a wide interface to Infinity Fabric. CPU core clusters come next. Each octa-core Zen 5 Core Complex (CCX) connects to Infinity Fabric via one endpoint. Miscellaneous blocks follow. These include the NPU, media engine, the display engine, and a mystery.
  &lt;/p&gt;
  &lt;h2&gt;
   Setting up Performance Monitoring
  &lt;/h2&gt;
  &lt;p&gt;
   Cache misses usually cause a request to the next level in the memory hierarchy, while cache hits do not. Therefore, my idea is to compare traffic levels at the CS and UMC levels. Traffic that shows up at the CS but not at the UMCs can be used as a proxy for Infinity Cache hits. There are a few problems with that approach though.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!FxOO!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F07bf475d-4ec5-4a2b-b748-bb0094222fc8_1101x358.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!FxOO!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F07bf475d-4ec5-4a2b-b748-bb0094222fc8_1101x358.png 424w, https://substackcdn.com/image/fetch/$s_!FxOO!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F07bf475d-4ec5-4a2b-b748-bb0094222fc8_1101x358.png 848w, https://substackcdn.com/image/fetch/$s_!FxOO!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F07bf475d-4ec5-4a2b-b748-bb0094222fc8_1101x358.png 1272w, https://substackcdn.com/image/fetch/$s_!FxOO!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F07bf475d-4ec5-4a2b-b748-bb0094222fc8_1101x358.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/07bf475d-4ec5-4a2b-b748-bb0094222fc8_1101x358.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:358,&quot;width&quot;:1101,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;358&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!FxOO!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F07bf475d-4ec5-4a2b-b748-bb0094222fc8_1101x358.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!FxOO!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F07bf475d-4ec5-4a2b-b748-bb0094222fc8_1101x358.png 424w, https://substackcdn.com/image/fetch/$s_!FxOO!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F07bf475d-4ec5-4a2b-b748-bb0094222fc8_1101x358.png 848w, https://substackcdn.com/image/fetch/$s_!FxOO!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F07bf475d-4ec5-4a2b-b748-bb0094222fc8_1101x358.png 1272w, https://substackcdn.com/image/fetch/$s_!FxOO!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F07bf475d-4ec5-4a2b-b748-bb0094222fc8_1101x358.png 1456w&quot; width=&quot;1101&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   First, Strix Halo only provides eight Infinity Fabric performance counters. I have to use two counters per endpoint to count both read and write data beats, so I can only monitor four CS-es simultaneously. Memory traffic is interleaved across channels, so taking bandwidth observed at four CS-es and multiplying by four should give a reasonably accurate estimate of overall bandwidth. But interleaving isn’t perfectly even in practice, so I expect a few percentage points of error. The UMC situation is easier. Each UMC has its own set of four performance counters, letting me monitor all of them at the same time. I’m using one counter per UMC to count Column Address Strobe (CAS) commands. Other available UMC events allow monitoring memory controller frequency, bus utilization, and ACTIVATE or PRECHARGE commands. But that stuff goes beyond what I want to focus on here, and collecting more data points would make for annoyingly large spreadsheets.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!HXhV!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2caf6cd2-64db-48f1-bd75-d9fbf4cd3632_800x216.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!HXhV!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2caf6cd2-64db-48f1-bd75-d9fbf4cd3632_800x216.png 424w, https://substackcdn.com/image/fetch/$s_!HXhV!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2caf6cd2-64db-48f1-bd75-d9fbf4cd3632_800x216.png 848w, https://substackcdn.com/image/fetch/$s_!HXhV!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2caf6cd2-64db-48f1-bd75-d9fbf4cd3632_800x216.png 1272w, https://substackcdn.com/image/fetch/$s_!HXhV!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2caf6cd2-64db-48f1-bd75-d9fbf4cd3632_800x216.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/2caf6cd2-64db-48f1-bd75-d9fbf4cd3632_800x216.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:216,&quot;width&quot;:800,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;216&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!HXhV!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2caf6cd2-64db-48f1-bd75-d9fbf4cd3632_800x216.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!HXhV!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2caf6cd2-64db-48f1-bd75-d9fbf4cd3632_800x216.png 424w, https://substackcdn.com/image/fetch/$s_!HXhV!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2caf6cd2-64db-48f1-bd75-d9fbf4cd3632_800x216.png 848w, https://substackcdn.com/image/fetch/$s_!HXhV!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2caf6cd2-64db-48f1-bd75-d9fbf4cd3632_800x216.png 1272w, https://substackcdn.com/image/fetch/$s_!HXhV!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2caf6cd2-64db-48f1-bd75-d9fbf4cd3632_800x216.png 1456w&quot; width=&quot;800&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
      &lt;div&gt;
      &lt;/div&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Cross-CCX traffic presents a second source of error as mentioned above. If a CS sends a probe that hits a modified line, it won’t send a request to the UMC. The request is still being satisfied out of cache, just not the Infinity Cache that I’m interested in. I expect this to be rare because cross-CCX traffic in general is usually low compared to requests satisfied from DRAM. It’ll be especially rare in the graphics workloads I’m targeting here because Strix Halo’s second CCD tends to be parked in Windows.
  &lt;/p&gt;
  &lt;p&gt;
   &lt;span&gt;
    CPU-side traffic in general presents a more significant issue. Strix Halo’s Infinity Cache narrowly targets the GPU, and
   &lt;/span&gt;
   &lt;a href=&quot;https://chipsandcheese.com/p/amds-strix-halo-under-the-hood&quot; rel=&quot;&quot;&gt;
    only GPU-side memory requests cause cache fills
   &lt;/a&gt;
   &lt;span&gt;
    . CPU memory accesses will be counted as misses in a hitrate calculation. That may be technically correct, but misses the point of Infinity Cache. Most memory traffic comes from the GPU, but there’s enough CPU-side traffic to create a bit more of an error bar than I’d like. Therefore, I want to focus on whether Infinity Cache is handling enough traffic to avoid hitting DRAM bandwidth bottlenecks.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!aNVH!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb7b48d2a-ec15-44ef-bfba-cd5edcffd261_1412x451.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!aNVH!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb7b48d2a-ec15-44ef-bfba-cd5edcffd261_1412x451.png 424w, https://substackcdn.com/image/fetch/$s_!aNVH!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb7b48d2a-ec15-44ef-bfba-cd5edcffd261_1412x451.png 848w, https://substackcdn.com/image/fetch/$s_!aNVH!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb7b48d2a-ec15-44ef-bfba-cd5edcffd261_1412x451.png 1272w, https://substackcdn.com/image/fetch/$s_!aNVH!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb7b48d2a-ec15-44ef-bfba-cd5edcffd261_1412x451.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/b7b48d2a-ec15-44ef-bfba-cd5edcffd261_1412x451.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:451,&quot;width&quot;:1412,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;451&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!aNVH!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb7b48d2a-ec15-44ef-bfba-cd5edcffd261_1412x451.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!aNVH!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb7b48d2a-ec15-44ef-bfba-cd5edcffd261_1412x451.png 424w, https://substackcdn.com/image/fetch/$s_!aNVH!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb7b48d2a-ec15-44ef-bfba-cd5edcffd261_1412x451.png 848w, https://substackcdn.com/image/fetch/$s_!aNVH!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb7b48d2a-ec15-44ef-bfba-cd5edcffd261_1412x451.png 1272w, https://substackcdn.com/image/fetch/$s_!aNVH!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb7b48d2a-ec15-44ef-bfba-cd5edcffd261_1412x451.png 1456w&quot; width=&quot;1412&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
    &lt;figcaption&gt;
     Traffic captured at the CCD endpoints and two of the GPU’s (multiplied by 4)
    &lt;/figcaption&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   A final limitation is that I’m sampling performance counters with a tool I wrote years ago. I wrote it so I could look at hardware performance stats just like how I like looking at Task Manager or other monitoring utilities to see how my system is doing. Because I’m updating a graphical interface, I sample data every second and thus have lower resolution compared to some vendor tools. Those can often sample at millisecond granularity or better. That opens the window to underestimating bandwidth demands if a bandwidth spike only occurs over a small fraction of a second. In theory I could write another tool. But Chips and Cheese is an unpaid hobby project that has to be balanced with a separate full time job as well as other free time interests. Quickly rigging an existing project to do my bidding makes more efficient use of time, because there’s never enough time to do everything I want.
  &lt;/p&gt;
  &lt;h1&gt;
   Results
  &lt;/h1&gt;
  &lt;p&gt;
   I logged data over some arbitrarily selected graphics workloads, then selected the 1-second interval with the highest DRAM bandwidth usage. That should give an idea of whether Strix Halo comes close to reaching DRAM bandwidth limits. Overall, the 32 MB cache seems to do its job. Strix Halo is able to stay well clear of the 256 GB/s theoretical bandwidth limit that its LPDDR5X-8000 setup can deliver.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!C1NN!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F49e44e20-a4f7-46ad-9eff-3849449cf6d6_1254x765.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!C1NN!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F49e44e20-a4f7-46ad-9eff-3849449cf6d6_1254x765.png 424w, https://substackcdn.com/image/fetch/$s_!C1NN!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F49e44e20-a4f7-46ad-9eff-3849449cf6d6_1254x765.png 848w, https://substackcdn.com/image/fetch/$s_!C1NN!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F49e44e20-a4f7-46ad-9eff-3849449cf6d6_1254x765.png 1272w, https://substackcdn.com/image/fetch/$s_!C1NN!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F49e44e20-a4f7-46ad-9eff-3849449cf6d6_1254x765.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/49e44e20-a4f7-46ad-9eff-3849449cf6d6_1254x765.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:765,&quot;width&quot;:1254,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;765&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!C1NN!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F49e44e20-a4f7-46ad-9eff-3849449cf6d6_1254x765.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!C1NN!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F49e44e20-a4f7-46ad-9eff-3849449cf6d6_1254x765.png 424w, https://substackcdn.com/image/fetch/$s_!C1NN!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F49e44e20-a4f7-46ad-9eff-3849449cf6d6_1254x765.png 848w, https://substackcdn.com/image/fetch/$s_!C1NN!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F49e44e20-a4f7-46ad-9eff-3849449cf6d6_1254x765.png 1272w, https://substackcdn.com/image/fetch/$s_!C1NN!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F49e44e20-a4f7-46ad-9eff-3849449cf6d6_1254x765.png 1456w&quot; width=&quot;1254&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Approximate CS-side bandwidth demands do indicate several workloads can push uncomfortably close to 256 GB/s. A workload doesn’t necessarily have to get right up to bandwidth limits for memory-related performance issues to start cropping up. Under high bandwidth demand, requests can start to pile up in various queues and end-to-end memory latency can increase. GHPC and Ungine Valley fall into that category. 3DMark Time Spy Extreme would definitely be DRAM bandwidth bound without the memory side cache.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!1IAO!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7c604135-f6ac-4107-bb9b-0ec6275210ee_1258x759.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!1IAO!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7c604135-f6ac-4107-bb9b-0ec6275210ee_1258x759.png 424w, https://substackcdn.com/image/fetch/$s_!1IAO!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7c604135-f6ac-4107-bb9b-0ec6275210ee_1258x759.png 848w, https://substackcdn.com/image/fetch/$s_!1IAO!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7c604135-f6ac-4107-bb9b-0ec6275210ee_1258x759.png 1272w, https://substackcdn.com/image/fetch/$s_!1IAO!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7c604135-f6ac-4107-bb9b-0ec6275210ee_1258x759.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/7c604135-f6ac-4107-bb9b-0ec6275210ee_1258x759.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:759,&quot;width&quot;:1258,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;759&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!1IAO!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7c604135-f6ac-4107-bb9b-0ec6275210ee_1258x759.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!1IAO!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7c604135-f6ac-4107-bb9b-0ec6275210ee_1258x759.png 424w, https://substackcdn.com/image/fetch/$s_!1IAO!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7c604135-f6ac-4107-bb9b-0ec6275210ee_1258x759.png 848w, https://substackcdn.com/image/fetch/$s_!1IAO!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7c604135-f6ac-4107-bb9b-0ec6275210ee_1258x759.png 1272w, https://substackcdn.com/image/fetch/$s_!1IAO!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7c604135-f6ac-4107-bb9b-0ec6275210ee_1258x759.png 1456w&quot; width=&quot;1258&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Picking an interval with maximum bandwidth demands at the CS gives an idea of how much bandwidth Strix Halo’s GPU can demand. Strix Halo has the same 2 MB of graphics L2 cache that AMD’s older 7000 series “Phoenix” mobile chip had, despite more than doubling GPU compute throughput. Unsurprisingly, the GPU can draw a lot of bandwidth across Infinity Fabric. 3DMark Time Spy again stands out. If AMD wanted to simply scale up DRAM bandwidth without spending die area on cache, they would need well over 335 GB/s from DRAM.
  &lt;/p&gt;
  &lt;p&gt;
   Curiously, Digital Foundry notes that Strix Halo has very similar graphics performance to the PS5. The PS5 uses a 256-bit, 14 GT/s GDDR6 setup that’s good for 448 GB/s of theoretical bandwidth, and doesn’t have a memory side cache like Strix Halo. 448 GB/s looks just about adequate for satisfying Time Spy Extreme’s bandwidth needs, if just barely. If Strix Halo didn’t need to work in power constrained mobile devices, and didn’t need high memory capacity for multitasking, perhaps AMD could have considered a GDDR6 setup. To bring things back around to Infinity Cache, it seems to do very well at that interval above. It captures approximately 73% of memory traffic going through Infinity Fabric, which is good even from a hitrate point of view.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!yi5W!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5319a316-0b50-475c-8e70-29c8fa1fe6c5_1520x761.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!yi5W!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5319a316-0b50-475c-8e70-29c8fa1fe6c5_1520x761.png 424w, https://substackcdn.com/image/fetch/$s_!yi5W!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5319a316-0b50-475c-8e70-29c8fa1fe6c5_1520x761.png 848w, https://substackcdn.com/image/fetch/$s_!yi5W!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5319a316-0b50-475c-8e70-29c8fa1fe6c5_1520x761.png 1272w, https://substackcdn.com/image/fetch/$s_!yi5W!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5319a316-0b50-475c-8e70-29c8fa1fe6c5_1520x761.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/5319a316-0b50-475c-8e70-29c8fa1fe6c5_1520x761.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:729,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;729&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!yi5W!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5319a316-0b50-475c-8e70-29c8fa1fe6c5_1520x761.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!yi5W!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5319a316-0b50-475c-8e70-29c8fa1fe6c5_1520x761.png 424w, https://substackcdn.com/image/fetch/$s_!yi5W!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5319a316-0b50-475c-8e70-29c8fa1fe6c5_1520x761.png 848w, https://substackcdn.com/image/fetch/$s_!yi5W!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5319a316-0b50-475c-8e70-29c8fa1fe6c5_1520x761.png 1272w, https://substackcdn.com/image/fetch/$s_!yi5W!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5319a316-0b50-475c-8e70-29c8fa1fe6c5_1520x761.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   The two bar graphs above already hint at how bandwidth demands and cache hitrates vary across workloads. Those figures vary within a workload as well, though plotting all of the logged data would be excessive. Variation both across and within workloads makes it extremely difficult to summarize cache efficacy with a single hitrate figure. Plotting the percentage of traffic at the CS not observed at the UMCs as a proxy for hitrate further emphasizes that point.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!wEdj!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F487baf64-b146-4177-b647-e92b33c1cef3_1515x766.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!wEdj!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F487baf64-b146-4177-b647-e92b33c1cef3_1515x766.png 424w, https://substackcdn.com/image/fetch/$s_!wEdj!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F487baf64-b146-4177-b647-e92b33c1cef3_1515x766.png 848w, https://substackcdn.com/image/fetch/$s_!wEdj!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F487baf64-b146-4177-b647-e92b33c1cef3_1515x766.png 1272w, https://substackcdn.com/image/fetch/$s_!wEdj!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F487baf64-b146-4177-b647-e92b33c1cef3_1515x766.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/487baf64-b146-4177-b647-e92b33c1cef3_1515x766.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:736,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;736&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!wEdj!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F487baf64-b146-4177-b647-e92b33c1cef3_1515x766.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!wEdj!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F487baf64-b146-4177-b647-e92b33c1cef3_1515x766.png 424w, https://substackcdn.com/image/fetch/$s_!wEdj!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F487baf64-b146-4177-b647-e92b33c1cef3_1515x766.png 848w, https://substackcdn.com/image/fetch/$s_!wEdj!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F487baf64-b146-4177-b647-e92b33c1cef3_1515x766.png 1272w, https://substackcdn.com/image/fetch/$s_!wEdj!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F487baf64-b146-4177-b647-e92b33c1cef3_1515x766.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Resolution settings can impact cache hitrate as well. While I don’t have a direct look at hitrate figures, plotting with the data I do have suggests increasing resolution in the Ungine Valley benchmark tends to depress hitrate.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!wWlm!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3206e377-786a-4394-8aec-eeaf272ca797_1591x799.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!wWlm!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3206e377-786a-4394-8aec-eeaf272ca797_1591x799.png 424w, https://substackcdn.com/image/fetch/$s_!wWlm!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3206e377-786a-4394-8aec-eeaf272ca797_1591x799.png 848w, https://substackcdn.com/image/fetch/$s_!wWlm!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3206e377-786a-4394-8aec-eeaf272ca797_1591x799.png 1272w, https://substackcdn.com/image/fetch/$s_!wWlm!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3206e377-786a-4394-8aec-eeaf272ca797_1591x799.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/3206e377-786a-4394-8aec-eeaf272ca797_1591x799.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:731,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;731&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!wWlm!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3206e377-786a-4394-8aec-eeaf272ca797_1591x799.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!wWlm!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3206e377-786a-4394-8aec-eeaf272ca797_1591x799.png 424w, https://substackcdn.com/image/fetch/$s_!wWlm!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3206e377-786a-4394-8aec-eeaf272ca797_1591x799.png 848w, https://substackcdn.com/image/fetch/$s_!wWlm!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3206e377-786a-4394-8aec-eeaf272ca797_1591x799.png 1272w, https://substackcdn.com/image/fetch/$s_!wWlm!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3206e377-786a-4394-8aec-eeaf272ca797_1591x799.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   AMD presented a slide at Hot Chips 2021 with three lines for different resolutions across a set of different cache capacities. I obviously can’t test different cache capacities. But AMD’s slide does beg the question of how well a 32 MB cache can do at a wider range of resolutions, and whether bandwidth demands remain under control at resolutions higher than what AMD may have optimized the platform for.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!1cea!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F64463e94-ee70-402d-8866-247c71736042_1278x719.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!1cea!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F64463e94-ee70-402d-8866-247c71736042_1278x719.png 424w, https://substackcdn.com/image/fetch/$s_!1cea!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F64463e94-ee70-402d-8866-247c71736042_1278x719.png 848w, https://substackcdn.com/image/fetch/$s_!1cea!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F64463e94-ee70-402d-8866-247c71736042_1278x719.png 1272w, https://substackcdn.com/image/fetch/$s_!1cea!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F64463e94-ee70-402d-8866-247c71736042_1278x719.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/64463e94-ee70-402d-8866-247c71736042_1278x719.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:719,&quot;width&quot;:1278,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;719&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!1cea!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F64463e94-ee70-402d-8866-247c71736042_1278x719.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!1cea!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F64463e94-ee70-402d-8866-247c71736042_1278x719.png 424w, https://substackcdn.com/image/fetch/$s_!1cea!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F64463e94-ee70-402d-8866-247c71736042_1278x719.png 848w, https://substackcdn.com/image/fetch/$s_!1cea!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F64463e94-ee70-402d-8866-247c71736042_1278x719.png 1272w, https://substackcdn.com/image/fetch/$s_!1cea!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F64463e94-ee70-402d-8866-247c71736042_1278x719.png 1456w&quot; width=&quot;1278&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Ungine Superposition and 3DMark workloads can both target a variety of resolutions without regard to monitor resolution. Logging data throughout benchmark runs at different resolutions shows the 32 MB cache providing reasonable “bandwidth amplification” at reasonable resolutions. At unreasonable resolutions, the cache is still able to do something. But it’s not as effective as it was at lower resolutions.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!3xES!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fafc7e963-5b57-41e0-8581-3b0aa67a1c97_1354x790.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!3xES!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fafc7e963-5b57-41e0-8581-3b0aa67a1c97_1354x790.png 424w, https://substackcdn.com/image/fetch/$s_!3xES!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fafc7e963-5b57-41e0-8581-3b0aa67a1c97_1354x790.png 848w, https://substackcdn.com/image/fetch/$s_!3xES!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fafc7e963-5b57-41e0-8581-3b0aa67a1c97_1354x790.png 1272w, https://substackcdn.com/image/fetch/$s_!3xES!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fafc7e963-5b57-41e0-8581-3b0aa67a1c97_1354x790.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/afc7e963-5b57-41e0-8581-3b0aa67a1c97_1354x790.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:790,&quot;width&quot;:1354,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;790&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!3xES!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fafc7e963-5b57-41e0-8581-3b0aa67a1c97_1354x790.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!3xES!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fafc7e963-5b57-41e0-8581-3b0aa67a1c97_1354x790.png 424w, https://substackcdn.com/image/fetch/$s_!3xES!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fafc7e963-5b57-41e0-8581-3b0aa67a1c97_1354x790.png 848w, https://substackcdn.com/image/fetch/$s_!3xES!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fafc7e963-5b57-41e0-8581-3b0aa67a1c97_1354x790.png 1272w, https://substackcdn.com/image/fetch/$s_!3xES!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fafc7e963-5b57-41e0-8581-3b0aa67a1c97_1354x790.png 1456w&quot; width=&quot;1354&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Plotting data over time shows spikes and dips in Infinity Cache efficacy occur at remarkably consistent times, even at different resolutions. 8K is an exception with the Superposition benchmark. The 8K line looks stretched out, possibly because Strix Halo’s GPU was only able to average a bit over 10 FPS, and time got slowed a bit.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!5GSJ!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0cb1a153-8e7f-481e-8060-9aae6e95a99f_1600x715.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!5GSJ!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0cb1a153-8e7f-481e-8060-9aae6e95a99f_1600x715.png 424w, https://substackcdn.com/image/fetch/$s_!5GSJ!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0cb1a153-8e7f-481e-8060-9aae6e95a99f_1600x715.png 848w, https://substackcdn.com/image/fetch/$s_!5GSJ!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0cb1a153-8e7f-481e-8060-9aae6e95a99f_1600x715.png 1272w, https://substackcdn.com/image/fetch/$s_!5GSJ!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0cb1a153-8e7f-481e-8060-9aae6e95a99f_1600x715.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/0cb1a153-8e7f-481e-8060-9aae6e95a99f_1600x715.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:651,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;651&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!5GSJ!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0cb1a153-8e7f-481e-8060-9aae6e95a99f_1600x715.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!5GSJ!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0cb1a153-8e7f-481e-8060-9aae6e95a99f_1600x715.png 424w, https://substackcdn.com/image/fetch/$s_!5GSJ!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0cb1a153-8e7f-481e-8060-9aae6e95a99f_1600x715.png 848w, https://substackcdn.com/image/fetch/$s_!5GSJ!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0cb1a153-8e7f-481e-8060-9aae6e95a99f_1600x715.png 1272w, https://substackcdn.com/image/fetch/$s_!5GSJ!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0cb1a153-8e7f-481e-8060-9aae6e95a99f_1600x715.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   If Strix Halo’s iGPU were capable of delivering over 30 FPS in Superposition, AMD would definitely need a larger cache, more DRAM bandwidth, or a combination of both. Taking a simplistic view and tripling maximum observed 8K bandwidth demands would give a figure just north of 525 GB/s. But Strix Halo’s iGPU clearly wasn’t built with such a scenario in mind, and AMD’s selected combination of cache capacity and DRAM bandwidth works well enough at all tested resolutions. While high resolutions create the most DRAM traffic, 1080P shows the heaviest bandwidth demands at the Infinity Fabric level.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!Q1FQ!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3a35935a-a75a-4e3a-9148-1f5411cbff0e_1360x753.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!Q1FQ!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3a35935a-a75a-4e3a-9148-1f5411cbff0e_1360x753.png 424w, https://substackcdn.com/image/fetch/$s_!Q1FQ!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3a35935a-a75a-4e3a-9148-1f5411cbff0e_1360x753.png 848w, https://substackcdn.com/image/fetch/$s_!Q1FQ!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3a35935a-a75a-4e3a-9148-1f5411cbff0e_1360x753.png 1272w, https://substackcdn.com/image/fetch/$s_!Q1FQ!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3a35935a-a75a-4e3a-9148-1f5411cbff0e_1360x753.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/3a35935a-a75a-4e3a-9148-1f5411cbff0e_1360x753.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:753,&quot;width&quot;:1360,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;753&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!Q1FQ!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3a35935a-a75a-4e3a-9148-1f5411cbff0e_1360x753.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!Q1FQ!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3a35935a-a75a-4e3a-9148-1f5411cbff0e_1360x753.png 424w, https://substackcdn.com/image/fetch/$s_!Q1FQ!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3a35935a-a75a-4e3a-9148-1f5411cbff0e_1360x753.png 848w, https://substackcdn.com/image/fetch/$s_!Q1FQ!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3a35935a-a75a-4e3a-9148-1f5411cbff0e_1360x753.png 1272w, https://substackcdn.com/image/fetch/$s_!Q1FQ!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3a35935a-a75a-4e3a-9148-1f5411cbff0e_1360x753.png 1456w&quot; width=&quot;1360&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   3DMark Wild Life Extreme is a better example because it’s a lightweight benchmark designed to run on mobile devices. Strix Halo’s iGPU can average above 30 FPS even when rendering at 8K. Again, DRAM bandwidth demands increase and Infinity Cache becomes less effective as resolution goes up. But Infinity Cache still does enough to keep the chip well clear of DRAM bandwidth limits. Thus the cache does its job, and the bandwidth situation remains under control across a wide range of resolutions.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!ThiM!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff7d2dd26-ddd4-4246-bfe4-7862813778f1_1406x750.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!ThiM!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff7d2dd26-ddd4-4246-bfe4-7862813778f1_1406x750.png 424w, https://substackcdn.com/image/fetch/$s_!ThiM!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff7d2dd26-ddd4-4246-bfe4-7862813778f1_1406x750.png 848w, https://substackcdn.com/image/fetch/$s_!ThiM!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff7d2dd26-ddd4-4246-bfe4-7862813778f1_1406x750.png 1272w, https://substackcdn.com/image/fetch/$s_!ThiM!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff7d2dd26-ddd4-4246-bfe4-7862813778f1_1406x750.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/f7d2dd26-ddd4-4246-bfe4-7862813778f1_1406x750.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:750,&quot;width&quot;:1406,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;750&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!ThiM!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff7d2dd26-ddd4-4246-bfe4-7862813778f1_1406x750.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!ThiM!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff7d2dd26-ddd4-4246-bfe4-7862813778f1_1406x750.png 424w, https://substackcdn.com/image/fetch/$s_!ThiM!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff7d2dd26-ddd4-4246-bfe4-7862813778f1_1406x750.png 848w, https://substackcdn.com/image/fetch/$s_!ThiM!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff7d2dd26-ddd4-4246-bfe4-7862813778f1_1406x750.png 1272w, https://substackcdn.com/image/fetch/$s_!ThiM!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff7d2dd26-ddd4-4246-bfe4-7862813778f1_1406x750.png 1456w&quot; width=&quot;1406&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Bandwidth demands are more important than hitrates. Curiously though, Wild Life Extreme experiences increasingly severe hitrate dips at higher resolutions around the 16-19 and 45-52 second intervals. Those dips barely show at 1440P or below. Perhaps a 32 MB cache’s efficacy also shows more variation as resolution increases.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!yKG7!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F43df6977-f633-47de-83eb-5c57ef243782_1600x791.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!yKG7!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F43df6977-f633-47de-83eb-5c57ef243782_1600x791.png 424w, https://substackcdn.com/image/fetch/$s_!yKG7!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F43df6977-f633-47de-83eb-5c57ef243782_1600x791.png 848w, https://substackcdn.com/image/fetch/$s_!yKG7!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F43df6977-f633-47de-83eb-5c57ef243782_1600x791.png 1272w, https://substackcdn.com/image/fetch/$s_!yKG7!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F43df6977-f633-47de-83eb-5c57ef243782_1600x791.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/43df6977-f633-47de-83eb-5c57ef243782_1600x791.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:720,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;720&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!yKG7!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F43df6977-f633-47de-83eb-5c57ef243782_1600x791.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!yKG7!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F43df6977-f633-47de-83eb-5c57ef243782_1600x791.png 424w, https://substackcdn.com/image/fetch/$s_!yKG7!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F43df6977-f633-47de-83eb-5c57ef243782_1600x791.png 848w, https://substackcdn.com/image/fetch/$s_!yKG7!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F43df6977-f633-47de-83eb-5c57ef243782_1600x791.png 1272w, https://substackcdn.com/image/fetch/$s_!yKG7!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F43df6977-f633-47de-83eb-5c57ef243782_1600x791.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;h1&gt;
   A Video?
  &lt;/h1&gt;
  &lt;p&gt;
   A few errors here - I said Core Coherent Master read/write beats were 32B and 64B/cycle. It’s not per cycle, it’s per data beat. And I meant to say reads outnumber writes at the end.
  &lt;/p&gt;
  &lt;div data-attrs=&#x27;{&quot;videoId&quot;:&quot;JACYz0YS_bc&quot;,&quot;startTime&quot;:null,&quot;endTime&quot;:null}&#x27; data-component-name=&quot;Youtube2ToDOM&quot;&gt;
   &lt;div&gt;
    &lt;iframe allow=&quot;autoplay; fullscreen&quot; allowautoplay=&quot;true&quot; allowfullscreen=&quot;true&quot; frameborder=&quot;0&quot; gesture=&quot;media&quot; height=&quot;409&quot; loading=&quot;lazy&quot; src=&quot;https://www.youtube-nocookie.com/embed/JACYz0YS_bc?rel=0&amp;autoplay=0&amp;showinfo=0&amp;enablejsapi=0&quot; width=&quot;728&quot;&gt;
    &lt;/iframe&gt;
   &lt;/div&gt;
  &lt;/div&gt;
  &lt;h1&gt;
   Final Words
  &lt;/h1&gt;
  &lt;p&gt;
   Chip designers have to tune their designs to perform well across a wide variety of workloads. Cache sizes are one parameter on the list. AMD chose to combine a 32 MB cache with 256 GB/s of DRAM bandwidth, and it seems to do well enough across the workloads I tested. Monitoring at the CS-es and UMCs also supports AMD’s data showing that higher resolutions tend to depress hitrate. Those results explain why larger GPUs tend to have larger caches and higher DRAM bandwidth.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!Jk45!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F81c05631-9eea-47b7-b316-8146e03b3e0f_877x320.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!Jk45!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F81c05631-9eea-47b7-b316-8146e03b3e0f_877x320.png 424w, https://substackcdn.com/image/fetch/$s_!Jk45!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F81c05631-9eea-47b7-b316-8146e03b3e0f_877x320.png 848w, https://substackcdn.com/image/fetch/$s_!Jk45!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F81c05631-9eea-47b7-b316-8146e03b3e0f_877x320.png 1272w, https://substackcdn.com/image/fetch/$s_!Jk45!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F81c05631-9eea-47b7-b316-8146e03b3e0f_877x320.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/81c05631-9eea-47b7-b316-8146e03b3e0f_877x320.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:320,&quot;width&quot;:877,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;320&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!Jk45!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F81c05631-9eea-47b7-b316-8146e03b3e0f_877x320.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!Jk45!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F81c05631-9eea-47b7-b316-8146e03b3e0f_877x320.png 424w, https://substackcdn.com/image/fetch/$s_!Jk45!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F81c05631-9eea-47b7-b316-8146e03b3e0f_877x320.png 848w, https://substackcdn.com/image/fetch/$s_!Jk45!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F81c05631-9eea-47b7-b316-8146e03b3e0f_877x320.png 1272w, https://substackcdn.com/image/fetch/$s_!Jk45!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F81c05631-9eea-47b7-b316-8146e03b3e0f_877x320.png 1456w&quot; width=&quot;877&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   At a higher level, GPU bandwidth demands have been a persistent challenge for large iGPUs and have driven a diverse set of solutions. Over a decade ago, Intel created “halo” iGPU variants and paired a 128 MB eDRAM cache while sticking with a typical 128-bit client memory bus. AMD’s console chips use large and fast DRAM buses. The PS5 is one example. Strix Halo does a bit of both. It combines modest cache capacity with a more DRAM bandwidth than typical client chips, but doesn’t rely as much on DRAM bandwidth as console chips.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!FxEQ!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F32a3cead-075c-4b4e-b4e4-f7c89bbba388_1600x851.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!FxEQ!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F32a3cead-075c-4b4e-b4e4-f7c89bbba388_1600x851.png 424w, https://substackcdn.com/image/fetch/$s_!FxEQ!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F32a3cead-075c-4b4e-b4e4-f7c89bbba388_1600x851.png 848w, https://substackcdn.com/image/fetch/$s_!FxEQ!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F32a3cead-075c-4b4e-b4e4-f7c89bbba388_1600x851.png 1272w, https://substackcdn.com/image/fetch/$s_!FxEQ!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F32a3cead-075c-4b4e-b4e4-f7c89bbba388_1600x851.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/32a3cead-075c-4b4e-b4e4-f7c89bbba388_1600x851.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:774,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;774&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!FxEQ!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F32a3cead-075c-4b4e-b4e4-f7c89bbba388_1600x851.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!FxEQ!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F32a3cead-075c-4b4e-b4e4-f7c89bbba388_1600x851.png 424w, https://substackcdn.com/image/fetch/$s_!FxEQ!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F32a3cead-075c-4b4e-b4e4-f7c89bbba388_1600x851.png 848w, https://substackcdn.com/image/fetch/$s_!FxEQ!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F32a3cead-075c-4b4e-b4e4-f7c89bbba388_1600x851.png 1272w, https://substackcdn.com/image/fetch/$s_!FxEQ!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F32a3cead-075c-4b4e-b4e4-f7c89bbba388_1600x851.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Those varied approaches to the bandwidth problem are fascinating. Watching how Infinity Cache behaves in various graphics workloads has been fascinating as well. But everything would be so much more fun if AMD’s tools provided direct data on Infinity Cache hitrates. That applies to both integrated and discrete GPUs. Infinity Cache is a well established part of AMD’s strategy. It has been around for several generations, and now has a presence in AMD’s mobile lineup too. I suspect developers would love to see Infinity Cache hitrates in addition to the data on GPU-private caches that AMD’s current tools show.
  &lt;/p&gt;
  &lt;p&gt;
   &lt;span&gt;
    If you like the content then consider heading over to the
   &lt;/span&gt;
   &lt;a href=&quot;https://www.patreon.com/ChipsandCheese&quot; rel=&quot;&quot;&gt;
    Patreon
   &lt;/a&gt;
   &lt;span&gt;
    or
   &lt;/span&gt;
   &lt;a href=&quot;https://www.paypal.com/donate/?hosted_button_id=4EMPH66SBGVSQ&quot; rel=&quot;&quot;&gt;
    PayPal
   &lt;/a&gt;
   &lt;span&gt;
    if you want to toss a few bucks to Chips and Cheese. Also consider joining the
   &lt;/span&gt;
   &lt;a href=&quot;https://discord.gg/TwVnRhxgY2&quot; rel=&quot;&quot;&gt;
    Discord
   &lt;/a&gt;
   &lt;span&gt;
    .
   &lt;/span&gt;
  &lt;/p&gt;
 &lt;/div&gt;
&lt;/div&gt;

</description>
</item>
<item>
<title> AMD’s Chiplet APU: An Overview of Strix Halo </title>
<link>https://chipsandcheese.com/p/amds-chiplet-apu-an-overview-of-strix</link>
<pubDate>Sat, 18 Oct 2025 03:52:18 -0000</pubDate>
<description>
&lt;div&gt;
 &lt;div dir=&quot;auto&quot;&gt;
  &lt;p&gt;
   Hello you fine Internet folks!
  &lt;/p&gt;
  &lt;p&gt;
   Today we are looking at AMD’s largest client APU to date, Strix Halo. This is an APU designed to be a true all-in-one processor, able to handle high end CPU and GPU workloads without compromise. Offering a TDP range of 55W to 120W, the chip targets a far higher power envelope compared to standard Strix Point, but eschews the need for dedicated graphics.
  &lt;/p&gt;
  &lt;p&gt;
   To get y’all all caught up on the history and specifications of this APU, AMD first announced Strix Halo at CES 2025 earlier this year to much fanfare. Strix Halo is AMD’s first chiplet APU in the consumer market with AMD using Strix Halo as a bit of a show piece for what both CPU and GPU performance can look like with a sufficiently large APU.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!-bvE!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa9060b1d-2fda-47a7-8bb8-2fd447f602d0_393x330.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!-bvE!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa9060b1d-2fda-47a7-8bb8-2fd447f602d0_393x330.png 424w, https://substackcdn.com/image/fetch/$s_!-bvE!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa9060b1d-2fda-47a7-8bb8-2fd447f602d0_393x330.png 848w, https://substackcdn.com/image/fetch/$s_!-bvE!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa9060b1d-2fda-47a7-8bb8-2fd447f602d0_393x330.png 1272w, https://substackcdn.com/image/fetch/$s_!-bvE!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa9060b1d-2fda-47a7-8bb8-2fd447f602d0_393x330.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/a9060b1d-2fda-47a7-8bb8-2fd447f602d0_393x330.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:330,&quot;width&quot;:393,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:false,&quot;topImage&quot;:true,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; fetchpriority=&quot;high&quot; height=&quot;330&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!-bvE!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa9060b1d-2fda-47a7-8bb8-2fd447f602d0_393x330.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!-bvE!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa9060b1d-2fda-47a7-8bb8-2fd447f602d0_393x330.png 424w, https://substackcdn.com/image/fetch/$s_!-bvE!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa9060b1d-2fda-47a7-8bb8-2fd447f602d0_393x330.png 848w, https://substackcdn.com/image/fetch/$s_!-bvE!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa9060b1d-2fda-47a7-8bb8-2fd447f602d0_393x330.png 1272w, https://substackcdn.com/image/fetch/$s_!-bvE!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa9060b1d-2fda-47a7-8bb8-2fd447f602d0_393x330.png 1456w&quot; width=&quot;393&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   AMD’s Strix Halo can be equipped with dual 8 core Zen 5 CCDs for a total of 16 cores that feature the same 512b FPU as the desktop parts. This is a change from the more mainstream and monolithic Strix Point APU which has “double-pumped” 256b FPUs similar to Zen 4 for use with AVX512 code. What is similar to the more mainstream Strix Point is the same 5.1GHz max boost clock which is a 600MHz deficit compared to the desktop flagship Zen 5 CPU, the Ryzen 9 9950X.
  &lt;/p&gt;
  &lt;p&gt;
   Moving to the 3rd die on a Strix Halo package, a RDNA 3.5 iGPU takes up the majority of the SoC die with 40 compute units, 32MB of Infinity Cache, and a boost clock of up to 2.9GHz placing raw compute capability somewhere between the RX 7600 XT and RX 7700.
  &lt;/p&gt;
  &lt;p&gt;
   To feed this chip, AMD has equipped Strix Halo with a 256b LPDDR5X-8000 memory bus, which provides up to 256GB/s shared between all of the components. This is slightly lower than the 288GB/s available to the RX 7600 XT but is much higher than any other APU we have tested.
  &lt;/p&gt;
  &lt;h2&gt;
   Acknowledgments
  &lt;/h2&gt;
  &lt;p&gt;
   &lt;span&gt;
    A massive thank you to both
   &lt;/span&gt;
   &lt;a href=&quot;https://rog.asus.com/laptops/rog-flow/rog-flow-z13-2025/&quot; rel=&quot;&quot;&gt;
    Asus
   &lt;/a&gt;
   &lt;span&gt;
    and
   &lt;/span&gt;
   &lt;a href=&quot;https://www.hp.com/us-en/workstations/zbook-ultra.html&quot; rel=&quot;&quot;&gt;
    HP
   &lt;/a&gt;
   &lt;span&gt;
    for sending over a
   &lt;/span&gt;
   &lt;a href=&quot;https://rog.asus.com/laptops/rog-flow/rog-flow-z13-2025/&quot; rel=&quot;&quot;&gt;
    ROG Flow Z13 (2025)
   &lt;/a&gt;
   &lt;span&gt;
    and a
   &lt;/span&gt;
   &lt;a href=&quot;https://www.hp.com/us-en/workstations/zbook-ultra.html&quot; rel=&quot;&quot;&gt;
    ZBook Ultra G1a 14”
   &lt;/a&gt;
   &lt;span&gt;
    for testing which were both equipped with an
   &lt;/span&gt;
   &lt;a href=&quot;https://www.amd.com/en/products/processors/laptop/ryzen/ai-300-series/amd-ryzen-ai-max-plus-395.html&quot; rel=&quot;&quot;&gt;
    AMD Ryzen AI Max+ 395
   &lt;/a&gt;
   &lt;span&gt;
    . All of the gaming tests were done on the
   &lt;/span&gt;
   &lt;a href=&quot;https://rog.asus.com/laptops/rog-flow/rog-flow-z13-2025/&quot; rel=&quot;&quot;&gt;
    Flow Z13
   &lt;/a&gt;
   &lt;span&gt;
    due to that being a more gaming focused device and all of the microbenchmarking was done on the
   &lt;/span&gt;
   &lt;a href=&quot;https://www.hp.com/us-en/workstations/zbook-ultra.html&quot; rel=&quot;&quot;&gt;
    ZBook Ultra G1a
   &lt;/a&gt;
   &lt;span&gt;
    .
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!Tqer!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F533709c7-ba55-444e-ae8f-045da6aef137_1200x1600.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!Tqer!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F533709c7-ba55-444e-ae8f-045da6aef137_1200x1600.png 424w, https://substackcdn.com/image/fetch/$s_!Tqer!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F533709c7-ba55-444e-ae8f-045da6aef137_1200x1600.png 848w, https://substackcdn.com/image/fetch/$s_!Tqer!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F533709c7-ba55-444e-ae8f-045da6aef137_1200x1600.png 1272w, https://substackcdn.com/image/fetch/$s_!Tqer!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F533709c7-ba55-444e-ae8f-045da6aef137_1200x1600.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/533709c7-ba55-444e-ae8f-045da6aef137_1200x1600.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:1600,&quot;width&quot;:1200,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;1600&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!Tqer!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F533709c7-ba55-444e-ae8f-045da6aef137_1200x1600.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!Tqer!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F533709c7-ba55-444e-ae8f-045da6aef137_1200x1600.png 424w, https://substackcdn.com/image/fetch/$s_!Tqer!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F533709c7-ba55-444e-ae8f-045da6aef137_1200x1600.png 848w, https://substackcdn.com/image/fetch/$s_!Tqer!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F533709c7-ba55-444e-ae8f-045da6aef137_1200x1600.png 1272w, https://substackcdn.com/image/fetch/$s_!Tqer!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F533709c7-ba55-444e-ae8f-045da6aef137_1200x1600.png 1456w&quot; width=&quot;1200&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
    &lt;figcaption&gt;
     &lt;a href=&quot;https://www.hp.com/us-en/workstations/zbook-ultra.html&quot; rel=&quot;&quot;&gt;
      HP ZBook Ultra G1a 14”
     &lt;/a&gt;
     &lt;span&gt;
      which has become my daily go-to laptop for the past few months.
     &lt;/span&gt;
    &lt;/figcaption&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;h2&gt;
   Memory Subsystem from the CPU’s Perspective
  &lt;/h2&gt;
  &lt;p&gt;
   &lt;span&gt;
    Starting with the memory latency from Zen 5’s perspective, we see that the latency difference between Strix Point and Strix Halo is negligible with Strix Point at ~128ns of memory latency and Strix Halo at ~123ns of memory latency. However, as you can see the CPU does not have access to the 32MB of Infinity Cache on the IO die. This behavior was confirmed by Mahesh Subramony
   &lt;/span&gt;
   &lt;a href=&quot;https://www.youtube.com/watch?v=yR4BwzgwQns&quot; rel=&quot;&quot;&gt;
    during our interview about Strix Halo at CES 2025
   &lt;/a&gt;
   &lt;span&gt;
    .
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!Owcs!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fba5e1c7e-1a60-4c52-b8e5-021baaeafd81_1600x677.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!Owcs!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fba5e1c7e-1a60-4c52-b8e5-021baaeafd81_1600x677.png 424w, https://substackcdn.com/image/fetch/$s_!Owcs!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fba5e1c7e-1a60-4c52-b8e5-021baaeafd81_1600x677.png 848w, https://substackcdn.com/image/fetch/$s_!Owcs!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fba5e1c7e-1a60-4c52-b8e5-021baaeafd81_1600x677.png 1272w, https://substackcdn.com/image/fetch/$s_!Owcs!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fba5e1c7e-1a60-4c52-b8e5-021baaeafd81_1600x677.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/ba5e1c7e-1a60-4c52-b8e5-021baaeafd81_1600x677.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:616,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;616&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!Owcs!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fba5e1c7e-1a60-4c52-b8e5-021baaeafd81_1600x677.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!Owcs!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fba5e1c7e-1a60-4c52-b8e5-021baaeafd81_1600x677.png 424w, https://substackcdn.com/image/fetch/$s_!Owcs!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fba5e1c7e-1a60-4c52-b8e5-021baaeafd81_1600x677.png 848w, https://substackcdn.com/image/fetch/$s_!Owcs!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fba5e1c7e-1a60-4c52-b8e5-021baaeafd81_1600x677.png 1272w, https://substackcdn.com/image/fetch/$s_!Owcs!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fba5e1c7e-1a60-4c52-b8e5-021baaeafd81_1600x677.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   While the 123ns DRAM latency seen here is quite good for a mobile part, desktop processors like our 9950X fare much better at 75-80ns.
  &lt;/p&gt;
  &lt;p&gt;
   Moving on to memory bandwidth, we see Strix Halo fall into a category of its own of the SoCs we have tested.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!25fP!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1815f48c-8358-42de-b3eb-afbfef1924be_1118x686.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!25fP!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1815f48c-8358-42de-b3eb-afbfef1924be_1118x686.png 424w, https://substackcdn.com/image/fetch/$s_!25fP!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1815f48c-8358-42de-b3eb-afbfef1924be_1118x686.png 848w, https://substackcdn.com/image/fetch/$s_!25fP!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1815f48c-8358-42de-b3eb-afbfef1924be_1118x686.png 1272w, https://substackcdn.com/image/fetch/$s_!25fP!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1815f48c-8358-42de-b3eb-afbfef1924be_1118x686.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/1815f48c-8358-42de-b3eb-afbfef1924be_1118x686.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:686,&quot;width&quot;:1118,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;686&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!25fP!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1815f48c-8358-42de-b3eb-afbfef1924be_1118x686.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!25fP!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1815f48c-8358-42de-b3eb-afbfef1924be_1118x686.png 424w, https://substackcdn.com/image/fetch/$s_!25fP!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1815f48c-8358-42de-b3eb-afbfef1924be_1118x686.png 848w, https://substackcdn.com/image/fetch/$s_!25fP!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1815f48c-8358-42de-b3eb-afbfef1924be_1118x686.png 1272w, https://substackcdn.com/image/fetch/$s_!25fP!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1815f48c-8358-42de-b3eb-afbfef1924be_1118x686.png 1456w&quot; width=&quot;1118&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   When doing read-modify-add operations across both CCDs, the 16 Zen 5 cores can pull over 175GB/s of bandwidth from the memory with reads being no slouch at 124GB/s across both CCDs.
  &lt;/p&gt;
  &lt;p&gt;
   However, looking at the bandwidth of a single CCD and just like the desktop CPUs a single Strix-Halo CCD only has a 32 byte per cycle read link to the IO die. And just like the desktop chips, the chip to chip link runs at ~2000MHz, which caps out the single CCD read at 64GB/s. Unlike the desktop chips, the write link is 32 bytes per cycle and we are seeing about 43GB/s for the write bandwidth. That brings the total theoretical single CCD bandwidth to 128GB/s and the observed bandwidth is just over 103GB/s.
  &lt;/p&gt;
  &lt;h2&gt;
   CPU’s Performance
  &lt;/h2&gt;
  &lt;p&gt;
   The performance of Strix Halo’s CPU packs quite a bit more of a punch than Strix Point’s CPU.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!Z6Dv!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F69ab58b0-4d2e-4427-a4f7-8bd2ade7f177_702x466.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!Z6Dv!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F69ab58b0-4d2e-4427-a4f7-8bd2ade7f177_702x466.png 424w, https://substackcdn.com/image/fetch/$s_!Z6Dv!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F69ab58b0-4d2e-4427-a4f7-8bd2ade7f177_702x466.png 848w, https://substackcdn.com/image/fetch/$s_!Z6Dv!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F69ab58b0-4d2e-4427-a4f7-8bd2ade7f177_702x466.png 1272w, https://substackcdn.com/image/fetch/$s_!Z6Dv!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F69ab58b0-4d2e-4427-a4f7-8bd2ade7f177_702x466.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/69ab58b0-4d2e-4427-a4f7-8bd2ade7f177_702x466.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:466,&quot;width&quot;:702,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;466&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!Z6Dv!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F69ab58b0-4d2e-4427-a4f7-8bd2ade7f177_702x466.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!Z6Dv!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F69ab58b0-4d2e-4427-a4f7-8bd2ade7f177_702x466.png 424w, https://substackcdn.com/image/fetch/$s_!Z6Dv!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F69ab58b0-4d2e-4427-a4f7-8bd2ade7f177_702x466.png 848w, https://substackcdn.com/image/fetch/$s_!Z6Dv!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F69ab58b0-4d2e-4427-a4f7-8bd2ade7f177_702x466.png 1272w, https://substackcdn.com/image/fetch/$s_!Z6Dv!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F69ab58b0-4d2e-4427-a4f7-8bd2ade7f177_702x466.png 1456w&quot; width=&quot;702&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Strix Halo’s CPU can match a last generation desktop flagship CPU, the 7950X, in Integer performance despite a 11.7% clock speed delta. And nearly matches AMD current desktop flagship CPU, the 9950X, in Floating Point performance again with a 11.7% clock speed deficit.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!9TkE!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F832bf5e9-8026-44f7-97f8-ac5b97836c35_1197x1103.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!9TkE!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F832bf5e9-8026-44f7-97f8-ac5b97836c35_1197x1103.png 424w, https://substackcdn.com/image/fetch/$s_!9TkE!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F832bf5e9-8026-44f7-97f8-ac5b97836c35_1197x1103.png 848w, https://substackcdn.com/image/fetch/$s_!9TkE!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F832bf5e9-8026-44f7-97f8-ac5b97836c35_1197x1103.png 1272w, https://substackcdn.com/image/fetch/$s_!9TkE!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F832bf5e9-8026-44f7-97f8-ac5b97836c35_1197x1103.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/832bf5e9-8026-44f7-97f8-ac5b97836c35_1197x1103.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:1103,&quot;width&quot;:1197,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;1103&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!9TkE!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F832bf5e9-8026-44f7-97f8-ac5b97836c35_1197x1103.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!9TkE!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F832bf5e9-8026-44f7-97f8-ac5b97836c35_1197x1103.png 424w, https://substackcdn.com/image/fetch/$s_!9TkE!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F832bf5e9-8026-44f7-97f8-ac5b97836c35_1197x1103.png 848w, https://substackcdn.com/image/fetch/$s_!9TkE!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F832bf5e9-8026-44f7-97f8-ac5b97836c35_1197x1103.png 1272w, https://substackcdn.com/image/fetch/$s_!9TkE!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F832bf5e9-8026-44f7-97f8-ac5b97836c35_1197x1103.png 1456w&quot; width=&quot;1197&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Looking at the SPEC CPU 2017 Integer subtests and while Strix Halo can’t quite match the desktop 9950X, likely due to the higher memory latency of Strix Halo’s LPDDR5X bus, it does get close in a number of subtests.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!HOnd!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F198f15be-ca4e-478d-bb92-a3e1e854bb84_1444x1308.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!HOnd!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F198f15be-ca4e-478d-bb92-a3e1e854bb84_1444x1308.png 424w, https://substackcdn.com/image/fetch/$s_!HOnd!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F198f15be-ca4e-478d-bb92-a3e1e854bb84_1444x1308.png 848w, https://substackcdn.com/image/fetch/$s_!HOnd!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F198f15be-ca4e-478d-bb92-a3e1e854bb84_1444x1308.png 1272w, https://substackcdn.com/image/fetch/$s_!HOnd!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F198f15be-ca4e-478d-bb92-a3e1e854bb84_1444x1308.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/198f15be-ca4e-478d-bb92-a3e1e854bb84_1444x1308.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:1308,&quot;width&quot;:1444,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;1308&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!HOnd!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F198f15be-ca4e-478d-bb92-a3e1e854bb84_1444x1308.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!HOnd!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F198f15be-ca4e-478d-bb92-a3e1e854bb84_1444x1308.png 424w, https://substackcdn.com/image/fetch/$s_!HOnd!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F198f15be-ca4e-478d-bb92-a3e1e854bb84_1444x1308.png 848w, https://substackcdn.com/image/fetch/$s_!HOnd!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F198f15be-ca4e-478d-bb92-a3e1e854bb84_1444x1308.png 1272w, https://substackcdn.com/image/fetch/$s_!HOnd!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F198f15be-ca4e-478d-bb92-a3e1e854bb84_1444x1308.png 1456w&quot; width=&quot;1444&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Moving to the FP subtests and the story is similar to the Integer subtests but Strix Halo can get even closer to the 9950X and even beat it in the fotonik3d subtest.
  &lt;/p&gt;
  &lt;h2&gt;
   Memory from the GPU’s Perspective
  &lt;/h2&gt;
  &lt;p&gt;
   Moving to the GPU side of things and this is where Strix Halo really shines. The laptop we used as a comparison to Strix Halo was the HP Omen Transcend 14 2025 with a 5070M equipped which maxed out at about 75 Watts for the GPU.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!yuGY!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa5dd2993-0c6f-4e5b-bd1b-907abeacc74c_1063x626.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!yuGY!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa5dd2993-0c6f-4e5b-bd1b-907abeacc74c_1063x626.png 424w, https://substackcdn.com/image/fetch/$s_!yuGY!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa5dd2993-0c6f-4e5b-bd1b-907abeacc74c_1063x626.png 848w, https://substackcdn.com/image/fetch/$s_!yuGY!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa5dd2993-0c6f-4e5b-bd1b-907abeacc74c_1063x626.png 1272w, https://substackcdn.com/image/fetch/$s_!yuGY!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa5dd2993-0c6f-4e5b-bd1b-907abeacc74c_1063x626.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/a5dd2993-0c6f-4e5b-bd1b-907abeacc74c_1063x626.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:626,&quot;width&quot;:1063,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;626&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!yuGY!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa5dd2993-0c6f-4e5b-bd1b-907abeacc74c_1063x626.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!yuGY!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa5dd2993-0c6f-4e5b-bd1b-907abeacc74c_1063x626.png 424w, https://substackcdn.com/image/fetch/$s_!yuGY!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa5dd2993-0c6f-4e5b-bd1b-907abeacc74c_1063x626.png 848w, https://substackcdn.com/image/fetch/$s_!yuGY!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa5dd2993-0c6f-4e5b-bd1b-907abeacc74c_1063x626.png 1272w, https://substackcdn.com/image/fetch/$s_!yuGY!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa5dd2993-0c6f-4e5b-bd1b-907abeacc74c_1063x626.png 1456w&quot; width=&quot;1063&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Strix Halo has over double the memory bandwidth of any of the other mobile SoCs that we have tested. However, the RTX 5070 Mobile does have about 50% more memory bandwidth compared to Strix Halo.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!GL83!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0605e91d-2326-4e93-a6c5-d2ee5d093fee_1600x898.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!GL83!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0605e91d-2326-4e93-a6c5-d2ee5d093fee_1600x898.png 424w, https://substackcdn.com/image/fetch/$s_!GL83!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0605e91d-2326-4e93-a6c5-d2ee5d093fee_1600x898.png 848w, https://substackcdn.com/image/fetch/$s_!GL83!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0605e91d-2326-4e93-a6c5-d2ee5d093fee_1600x898.png 1272w, https://substackcdn.com/image/fetch/$s_!GL83!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0605e91d-2326-4e93-a6c5-d2ee5d093fee_1600x898.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/0605e91d-2326-4e93-a6c5-d2ee5d093fee_1600x898.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:817,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;817&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!GL83!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0605e91d-2326-4e93-a6c5-d2ee5d093fee_1600x898.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!GL83!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0605e91d-2326-4e93-a6c5-d2ee5d093fee_1600x898.png 424w, https://substackcdn.com/image/fetch/$s_!GL83!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0605e91d-2326-4e93-a6c5-d2ee5d093fee_1600x898.png 848w, https://substackcdn.com/image/fetch/$s_!GL83!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0605e91d-2326-4e93-a6c5-d2ee5d093fee_1600x898.png 1272w, https://substackcdn.com/image/fetch/$s_!GL83!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0605e91d-2326-4e93-a6c5-d2ee5d093fee_1600x898.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Looking at the caches of Strix Halo, the Infinity Cache, AKA MALL, is able to deliver over 40% higher bandwidth compared to the 5070M’s L2 while having 33% more capacity. Plus Strix Halo has a 4MB L2 which is capable of providing 2.5TB/s of bandwidth to the GPU.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!LHJo!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F925f51b0-7857-42d4-8980-eefdef474d8a_1600x897.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!LHJo!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F925f51b0-7857-42d4-8980-eefdef474d8a_1600x897.png 424w, https://substackcdn.com/image/fetch/$s_!LHJo!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F925f51b0-7857-42d4-8980-eefdef474d8a_1600x897.png 848w, https://substackcdn.com/image/fetch/$s_!LHJo!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F925f51b0-7857-42d4-8980-eefdef474d8a_1600x897.png 1272w, https://substackcdn.com/image/fetch/$s_!LHJo!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F925f51b0-7857-42d4-8980-eefdef474d8a_1600x897.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/925f51b0-7857-42d4-8980-eefdef474d8a_1600x897.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:816,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;816&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!LHJo!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F925f51b0-7857-42d4-8980-eefdef474d8a_1600x897.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!LHJo!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F925f51b0-7857-42d4-8980-eefdef474d8a_1600x897.png 424w, https://substackcdn.com/image/fetch/$s_!LHJo!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F925f51b0-7857-42d4-8980-eefdef474d8a_1600x897.png 848w, https://substackcdn.com/image/fetch/$s_!LHJo!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F925f51b0-7857-42d4-8980-eefdef474d8a_1600x897.png 1272w, https://substackcdn.com/image/fetch/$s_!LHJo!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F925f51b0-7857-42d4-8980-eefdef474d8a_1600x897.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Moving to the latency, the more complex cache layout of Strix Halo does give it a latency advantage after the 128KB with Strix Halo’s L2 being significantly lower latency than the 5070M’s L2 and the larger 32MB MALL that Strix Halo has a similar latency to the 5070M’s L2. And Strix Halo’s memory latency is about 35% lower than the 5070M’s memory latency.
  &lt;/p&gt;
  &lt;h2&gt;
   The GPU’s Compute Throughput
  &lt;/h2&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!_JSa!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc1657e5b-6b0a-4c0e-bb38-2c76bd9eb782_1600x1395.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!_JSa!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc1657e5b-6b0a-4c0e-bb38-2c76bd9eb782_1600x1395.png 424w, https://substackcdn.com/image/fetch/$s_!_JSa!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc1657e5b-6b0a-4c0e-bb38-2c76bd9eb782_1600x1395.png 848w, https://substackcdn.com/image/fetch/$s_!_JSa!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc1657e5b-6b0a-4c0e-bb38-2c76bd9eb782_1600x1395.png 1272w, https://substackcdn.com/image/fetch/$s_!_JSa!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc1657e5b-6b0a-4c0e-bb38-2c76bd9eb782_1600x1395.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/c1657e5b-6b0a-4c0e-bb38-2c76bd9eb782_1600x1395.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:1269,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;1269&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!_JSa!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc1657e5b-6b0a-4c0e-bb38-2c76bd9eb782_1600x1395.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!_JSa!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc1657e5b-6b0a-4c0e-bb38-2c76bd9eb782_1600x1395.png 424w, https://substackcdn.com/image/fetch/$s_!_JSa!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc1657e5b-6b0a-4c0e-bb38-2c76bd9eb782_1600x1395.png 848w, https://substackcdn.com/image/fetch/$s_!_JSa!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc1657e5b-6b0a-4c0e-bb38-2c76bd9eb782_1600x1395.png 1272w, https://substackcdn.com/image/fetch/$s_!_JSa!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc1657e5b-6b0a-4c0e-bb38-2c76bd9eb782_1600x1395.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Looking at the floating point throughput, we see that Strix Halo unsurprisingly has about 2.5x the throughput of Strix Point considering it has about two and a half times the number of Compute Units. Strix Halo oftentimes can match or even pull ahead of the 5070 Mobile in terms of throughput. I will note that the FP16 results for the 5070 Mobile are half of what I would expect; the FP16:FP32 ratio for the 5070 Mobile should be 1:1 so I am not positive about what is going on there.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!smrC!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5230aaa7-b52b-4a4e-89e0-0031ac2e805f_1241x976.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!smrC!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5230aaa7-b52b-4a4e-89e0-0031ac2e805f_1241x976.png 424w, https://substackcdn.com/image/fetch/$s_!smrC!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5230aaa7-b52b-4a4e-89e0-0031ac2e805f_1241x976.png 848w, https://substackcdn.com/image/fetch/$s_!smrC!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5230aaa7-b52b-4a4e-89e0-0031ac2e805f_1241x976.png 1272w, https://substackcdn.com/image/fetch/$s_!smrC!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5230aaa7-b52b-4a4e-89e0-0031ac2e805f_1241x976.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/5230aaa7-b52b-4a4e-89e0-0031ac2e805f_1241x976.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:976,&quot;width&quot;:1241,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;976&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!smrC!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5230aaa7-b52b-4a4e-89e0-0031ac2e805f_1241x976.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!smrC!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5230aaa7-b52b-4a4e-89e0-0031ac2e805f_1241x976.png 424w, https://substackcdn.com/image/fetch/$s_!smrC!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5230aaa7-b52b-4a4e-89e0-0031ac2e805f_1241x976.png 848w, https://substackcdn.com/image/fetch/$s_!smrC!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5230aaa7-b52b-4a4e-89e0-0031ac2e805f_1241x976.png 1272w, https://substackcdn.com/image/fetch/$s_!smrC!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5230aaa7-b52b-4a4e-89e0-0031ac2e805f_1241x976.png 1456w&quot; width=&quot;1241&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Moving to the integer throughput and we see the 5070 Mobile soundly pulling ahead of the Radeon 8060S.
  &lt;/p&gt;
  &lt;h2&gt;
   GPU Performance
  &lt;/h2&gt;
  &lt;p&gt;
   Looking at the GPU performance, we see Strix Halo once again shine, with a staggering level of performance available for an iGPU, courtesy of the large CU count paired with relatively high memory bandwidth. Our comparison suite includes several recent iGPU’s from Intel/AMD, along with the newest generation RTX 5070 Mobile @ 75W to act as a reference for mid to high-range laptop dedicated graphics, and the antiquated GTX 1050 as a reference for budget dedicated graphics.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!5BSx!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ffc604818-3f17-4001-9812-c25b9ac6acd2_1209x737.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!5BSx!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ffc604818-3f17-4001-9812-c25b9ac6acd2_1209x737.png 424w, https://substackcdn.com/image/fetch/$s_!5BSx!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ffc604818-3f17-4001-9812-c25b9ac6acd2_1209x737.png 848w, https://substackcdn.com/image/fetch/$s_!5BSx!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ffc604818-3f17-4001-9812-c25b9ac6acd2_1209x737.png 1272w, https://substackcdn.com/image/fetch/$s_!5BSx!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ffc604818-3f17-4001-9812-c25b9ac6acd2_1209x737.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/fc604818-3f17-4001-9812-c25b9ac6acd2_1209x737.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:737,&quot;width&quot;:1209,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;737&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!5BSx!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ffc604818-3f17-4001-9812-c25b9ac6acd2_1209x737.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!5BSx!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ffc604818-3f17-4001-9812-c25b9ac6acd2_1209x737.png 424w, https://substackcdn.com/image/fetch/$s_!5BSx!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ffc604818-3f17-4001-9812-c25b9ac6acd2_1209x737.png 848w, https://substackcdn.com/image/fetch/$s_!5BSx!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ffc604818-3f17-4001-9812-c25b9ac6acd2_1209x737.png 1272w, https://substackcdn.com/image/fetch/$s_!5BSx!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ffc604818-3f17-4001-9812-c25b9ac6acd2_1209x737.png 1456w&quot; width=&quot;1209&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Looking at Fluid X3D for a compute-heavy workload, we can see the Radeon 8060S absolutely obliterates the other iGPU’s from Intel/AMD, putting itself firmly in a class above. The 5070 is no slouch though, and still holds a substantial 64.1% lead largely due to the higher memory bandwidth afforded to the 5070M.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!A1AB!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff4c7364d-3abd-48c1-b000-8b8ba1df9728_1090x626.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!A1AB!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff4c7364d-3abd-48c1-b000-8b8ba1df9728_1090x626.png 424w, https://substackcdn.com/image/fetch/$s_!A1AB!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff4c7364d-3abd-48c1-b000-8b8ba1df9728_1090x626.png 848w, https://substackcdn.com/image/fetch/$s_!A1AB!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff4c7364d-3abd-48c1-b000-8b8ba1df9728_1090x626.png 1272w, https://substackcdn.com/image/fetch/$s_!A1AB!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff4c7364d-3abd-48c1-b000-8b8ba1df9728_1090x626.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/f4c7364d-3abd-48c1-b000-8b8ba1df9728_1090x626.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:626,&quot;width&quot;:1090,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:42437,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/176468031?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff4c7364d-3abd-48c1-b000-8b8ba1df9728_1090x626.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;626&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!A1AB!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff4c7364d-3abd-48c1-b000-8b8ba1df9728_1090x626.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!A1AB!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff4c7364d-3abd-48c1-b000-8b8ba1df9728_1090x626.png 424w, https://substackcdn.com/image/fetch/$s_!A1AB!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff4c7364d-3abd-48c1-b000-8b8ba1df9728_1090x626.png 848w, https://substackcdn.com/image/fetch/$s_!A1AB!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff4c7364d-3abd-48c1-b000-8b8ba1df9728_1090x626.png 1272w, https://substackcdn.com/image/fetch/$s_!A1AB!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff4c7364d-3abd-48c1-b000-8b8ba1df9728_1090x626.png 1456w&quot; width=&quot;1090&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Switching to gaming workloads with Cyberpunk 2077, we start with a benchmark conducted while on battery power. The gap with other iGPU’s is still wide, but now the 5070M is limited to 55W and exhibits 7.5% worse performance at 1080p low settings when compared to the Radeon 8060S.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!G3FB!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F55f044e0-25a4-4a2f-9976-73b738ac08dc_1090x626.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!G3FB!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F55f044e0-25a4-4a2f-9976-73b738ac08dc_1090x626.png 424w, https://substackcdn.com/image/fetch/$s_!G3FB!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F55f044e0-25a4-4a2f-9976-73b738ac08dc_1090x626.png 848w, https://substackcdn.com/image/fetch/$s_!G3FB!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F55f044e0-25a4-4a2f-9976-73b738ac08dc_1090x626.png 1272w, https://substackcdn.com/image/fetch/$s_!G3FB!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F55f044e0-25a4-4a2f-9976-73b738ac08dc_1090x626.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/55f044e0-25a4-4a2f-9976-73b738ac08dc_1090x626.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:626,&quot;width&quot;:1090,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:38953,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/176468031?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F55f044e0-25a4-4a2f-9976-73b738ac08dc_1090x626.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;626&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!G3FB!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F55f044e0-25a4-4a2f-9976-73b738ac08dc_1090x626.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!G3FB!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F55f044e0-25a4-4a2f-9976-73b738ac08dc_1090x626.png 424w, https://substackcdn.com/image/fetch/$s_!G3FB!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F55f044e0-25a4-4a2f-9976-73b738ac08dc_1090x626.png 848w, https://substackcdn.com/image/fetch/$s_!G3FB!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F55f044e0-25a4-4a2f-9976-73b738ac08dc_1090x626.png 1272w, https://substackcdn.com/image/fetch/$s_!G3FB!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F55f044e0-25a4-4a2f-9976-73b738ac08dc_1090x626.png 1456w&quot; width=&quot;1090&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Finally, moving to wall power and allowing both the Radeon 8060S and 5070M to access the full power limit in CP2077, we can see that the 8060S still pulls ahead at 1080p low by 2.5%, while at 1440p medium we see a reversal, with the 5070M commanding an 8.3% lead. Overall the two provide a comparable experience in Cyberpunk 2077, with changes in settings or power limits adjusting the lead between the two. This is a seriously impressive turnaround for an iGPU working against dedicated graphics, and demonstrates the versatility of the chip in workloads like gaming, where iGPU’s have traditionally struggled.
  &lt;/p&gt;
  &lt;h2&gt;
   Conclusion
  &lt;/h2&gt;
  &lt;p&gt;
   Strix Halo follows in the footsteps of many other companies in the goal of designing an SoC for desktop and laptop usage that is truly all encompassing. The CPU and GPU performance is truly a class above standard low power laptop chips, and is even able to compete with larger systems boasting dedicated graphics. CPU performance is especially impressive with a comparable showing to the desktop Zen 5 CPUs. GPU performance is comparable to mid range dedicated graphics, while still offering the efficiency and integration of an iGPU. High end dedicated graphics still have a place above Strix Halo, but the versatility of this design for smaller form factor devices is class leading.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!SrML!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff3e47456-dd28-42b7-90b6-4d2415364c5e_1600x1008.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!SrML!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff3e47456-dd28-42b7-90b6-4d2415364c5e_1600x1008.png 424w, https://substackcdn.com/image/fetch/$s_!SrML!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff3e47456-dd28-42b7-90b6-4d2415364c5e_1600x1008.png 848w, https://substackcdn.com/image/fetch/$s_!SrML!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff3e47456-dd28-42b7-90b6-4d2415364c5e_1600x1008.png 1272w, https://substackcdn.com/image/fetch/$s_!SrML!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff3e47456-dd28-42b7-90b6-4d2415364c5e_1600x1008.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/f3e47456-dd28-42b7-90b6-4d2415364c5e_1600x1008.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:917,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;917&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!SrML!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff3e47456-dd28-42b7-90b6-4d2415364c5e_1600x1008.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!SrML!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff3e47456-dd28-42b7-90b6-4d2415364c5e_1600x1008.png 424w, https://substackcdn.com/image/fetch/$s_!SrML!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff3e47456-dd28-42b7-90b6-4d2415364c5e_1600x1008.png 848w, https://substackcdn.com/image/fetch/$s_!SrML!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff3e47456-dd28-42b7-90b6-4d2415364c5e_1600x1008.png 1272w, https://substackcdn.com/image/fetch/$s_!SrML!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff3e47456-dd28-42b7-90b6-4d2415364c5e_1600x1008.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
    &lt;figcaption&gt;
     &lt;a href=&quot;https://rog.asus.com/laptops/rog-flow/rog-flow-z13-2025/&quot; rel=&quot;&quot;&gt;
      Asus ROG Flow Z13 2025
     &lt;/a&gt;
     &lt;span&gt;
      which is a very similar form factor to the Microsoft Surface but has a Strix Halo inside of it instead of a lower power Intel chip. Image credit goes to Chester.
     &lt;/span&gt;
    &lt;/figcaption&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   However, this is not to say that Strix Halo is perfect. I was hoping to have a section dedicated to the ML performance of Strix Halo in this article, however AMD only just released preview support for Strix Halo in the ROCm 7.0.2 release which came out about a week ago from time of publication. As a result of the long delay between the launch of Strix Halo and the release of ROCm 7.0.2, the ML performance will have to wait until a future article.
  &lt;/p&gt;
  &lt;p&gt;
   However, putting aside ROCm, Strix Halo is a very, very cool piece of technology and I would love to see successors to Strix Halo with newer CPU and GPU IP and possibly even larger memory buses similar to Apple’s Max and Ultra series of SoCs with 512b and 1024b memory respectively. AMD has a formula for building bigger APUs with Strix Halo, which opens the door to a lot of interesting hardware possibilities in the future.
  &lt;/p&gt;
  &lt;p&gt;
   &lt;span&gt;
    If you like the content then consider heading over to the
   &lt;/span&gt;
   &lt;a href=&quot;https://www.patreon.com/ChipsandCheese&quot; rel=&quot;&quot;&gt;
    Patreon
   &lt;/a&gt;
   &lt;span&gt;
    or
   &lt;/span&gt;
   &lt;a href=&quot;https://www.paypal.com/donate/?hosted_button_id=4EMPH66SBGVSQ&quot; rel=&quot;&quot;&gt;
    PayPal
   &lt;/a&gt;
   &lt;span&gt;
    if you want to toss a few bucks to Chips and Cheese. Also consider joining the
   &lt;/span&gt;
   &lt;a href=&quot;https://discord.gg/TwVnRhxgY2&quot; rel=&quot;&quot;&gt;
    Discord
   &lt;/a&gt;
   &lt;span&gt;
    .
   &lt;/span&gt;
  &lt;/p&gt;
 &lt;/div&gt;
&lt;/div&gt;

</description>
</item>
<item>
<title> Panther Lake’s Reveal at ITT 2025 </title>
<link>https://chipsandcheese.com/p/panther-lakes-reveal-at-itt-2025</link>
<pubDate>Tue, 14 Oct 2025 17:01:17 -0000</pubDate>
<description>
&lt;div&gt;
 &lt;div dir=&quot;auto&quot;&gt;
  &lt;p&gt;
   Hello you fine Internet folks,
  &lt;/p&gt;
  &lt;p&gt;
   &lt;span&gt;
    At this year’s ITT, Intel announced their upcoming client SoC, Panther Lake (PTL) along with all of the improvements that they have made to this latest SoC. With a new node, improvements to the CPU cores, a brand new GPU, and more, PTL is an evolution of Intel’s prior SoC designs. So without further ado, let’s dive in.
   &lt;/span&gt;
   &lt;br/&gt;
   &lt;br/&gt;
   &lt;span&gt;
    Hope y’all enjoy!
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;div data-attrs=&#x27;{&quot;videoId&quot;:&quot;BHssAMUZzew&quot;,&quot;startTime&quot;:null,&quot;endTime&quot;:null}&#x27; data-component-name=&quot;Youtube2ToDOM&quot;&gt;
   &lt;div&gt;
    &lt;iframe allow=&quot;autoplay; fullscreen&quot; allowautoplay=&quot;true&quot; allowfullscreen=&quot;true&quot; frameborder=&quot;0&quot; gesture=&quot;media&quot; height=&quot;409&quot; loading=&quot;lazy&quot; src=&quot;https://www.youtube-nocookie.com/embed/BHssAMUZzew?rel=0&amp;autoplay=0&amp;showinfo=0&amp;enablejsapi=0&quot; width=&quot;728&quot;&gt;
    &lt;/iframe&gt;
   &lt;/div&gt;
  &lt;/div&gt;
  &lt;h2&gt;
   SoC Layout
  &lt;/h2&gt;
  &lt;p&gt;
   Starting with the SoC layout of Panther Lake, there are 3 active tiles on a Panther Lake CPU: Compute tile, GPU tile, and the Platform Controller tile.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!ZdNw!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd847f560-b347-43f5-806b-dde08a9c9af1_625x350.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!ZdNw!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd847f560-b347-43f5-806b-dde08a9c9af1_625x350.png 424w, https://substackcdn.com/image/fetch/$s_!ZdNw!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd847f560-b347-43f5-806b-dde08a9c9af1_625x350.png 848w, https://substackcdn.com/image/fetch/$s_!ZdNw!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd847f560-b347-43f5-806b-dde08a9c9af1_625x350.png 1272w, https://substackcdn.com/image/fetch/$s_!ZdNw!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd847f560-b347-43f5-806b-dde08a9c9af1_625x350.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/d847f560-b347-43f5-806b-dde08a9c9af1_625x350.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:350,&quot;width&quot;:625,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:false,&quot;topImage&quot;:true,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; fetchpriority=&quot;high&quot; height=&quot;350&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!ZdNw!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd847f560-b347-43f5-806b-dde08a9c9af1_625x350.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!ZdNw!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd847f560-b347-43f5-806b-dde08a9c9af1_625x350.png 424w, https://substackcdn.com/image/fetch/$s_!ZdNw!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd847f560-b347-43f5-806b-dde08a9c9af1_625x350.png 848w, https://substackcdn.com/image/fetch/$s_!ZdNw!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd847f560-b347-43f5-806b-dde08a9c9af1_625x350.png 1272w, https://substackcdn.com/image/fetch/$s_!ZdNw!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd847f560-b347-43f5-806b-dde08a9c9af1_625x350.png 1456w&quot; width=&quot;625&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Starting with the Compute tile, the Compute tile has the main CPU complex, the Low Power CPU complex, the ISP, the NPU, the Media engines, and the 8MB Memory Side Cache alongside the 128b memory bus. The GPU tile only has the GPU compute on board and nothing else. The Platform Controller tile houses all of the I/O IP such as the PCIe, Thunderbolt, USB, etc.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!cQlb!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8d8f9430-5f56-4e93-8522-0b43c5290b73_625x351.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!cQlb!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8d8f9430-5f56-4e93-8522-0b43c5290b73_625x351.png 424w, https://substackcdn.com/image/fetch/$s_!cQlb!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8d8f9430-5f56-4e93-8522-0b43c5290b73_625x351.png 848w, https://substackcdn.com/image/fetch/$s_!cQlb!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8d8f9430-5f56-4e93-8522-0b43c5290b73_625x351.png 1272w, https://substackcdn.com/image/fetch/$s_!cQlb!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8d8f9430-5f56-4e93-8522-0b43c5290b73_625x351.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/8d8f9430-5f56-4e93-8522-0b43c5290b73_625x351.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:351,&quot;width&quot;:625,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:false,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;351&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!cQlb!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8d8f9430-5f56-4e93-8522-0b43c5290b73_625x351.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!cQlb!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8d8f9430-5f56-4e93-8522-0b43c5290b73_625x351.png 424w, https://substackcdn.com/image/fetch/$s_!cQlb!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8d8f9430-5f56-4e93-8522-0b43c5290b73_625x351.png 848w, https://substackcdn.com/image/fetch/$s_!cQlb!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8d8f9430-5f56-4e93-8522-0b43c5290b73_625x351.png 1272w, https://substackcdn.com/image/fetch/$s_!cQlb!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8d8f9430-5f56-4e93-8522-0b43c5290b73_625x351.png 1456w&quot; width=&quot;625&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Starting with the smallest Panther Lake configuration, we have 4 P-Cores and 4 LP E-Cores paired with 8MB Memory-side Cache on the Compute Tile which is fabricated on Intel’s newest node 18A. That Compute Tile is paired with a 4 core Xe3 iGPU fabricated on Intel’s 3 process which makes this the first Intel Arc product fabricated at Intel. The Platform Controller Tile has 12 PCIe lanes split between 4 Gen 5 lanes and 8 Gen 4 lanes along with 4 Thunderbolt 4 controllers, 2 USB 3.2 &amp; 8 USB 2.0 ports, and Wi-Fi 7 and Bluetooth 6.0.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!UVJO!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F14282810-7504-41fe-b096-ccbb712de44c_625x351.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!UVJO!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F14282810-7504-41fe-b096-ccbb712de44c_625x351.png 424w, https://substackcdn.com/image/fetch/$s_!UVJO!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F14282810-7504-41fe-b096-ccbb712de44c_625x351.png 848w, https://substackcdn.com/image/fetch/$s_!UVJO!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F14282810-7504-41fe-b096-ccbb712de44c_625x351.png 1272w, https://substackcdn.com/image/fetch/$s_!UVJO!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F14282810-7504-41fe-b096-ccbb712de44c_625x351.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/14282810-7504-41fe-b096-ccbb712de44c_625x351.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:351,&quot;width&quot;:625,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;351&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!UVJO!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F14282810-7504-41fe-b096-ccbb712de44c_625x351.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!UVJO!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F14282810-7504-41fe-b096-ccbb712de44c_625x351.png 424w, https://substackcdn.com/image/fetch/$s_!UVJO!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F14282810-7504-41fe-b096-ccbb712de44c_625x351.png 848w, https://substackcdn.com/image/fetch/$s_!UVJO!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F14282810-7504-41fe-b096-ccbb712de44c_625x351.png 1272w, https://substackcdn.com/image/fetch/$s_!UVJO!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F14282810-7504-41fe-b096-ccbb712de44c_625x351.png 1456w&quot; width=&quot;625&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Moving to the middle configuration of Panther Lake, there has been a large change in both the Compute Tile and the Platform Controller Tile. The Compute Tile now has 4 P-Cores and 8 E-Cores which share a 18MB L3 cache with an extra 4 LP E-Cores, all of which can access the 8MB memory-side cache on board the Compute tile.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!7hob!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb90fa19c-127a-400d-8f8b-154a6c0c6695_625x350.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!7hob!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb90fa19c-127a-400d-8f8b-154a6c0c6695_625x350.png 424w, https://substackcdn.com/image/fetch/$s_!7hob!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb90fa19c-127a-400d-8f8b-154a6c0c6695_625x350.png 848w, https://substackcdn.com/image/fetch/$s_!7hob!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb90fa19c-127a-400d-8f8b-154a6c0c6695_625x350.png 1272w, https://substackcdn.com/image/fetch/$s_!7hob!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb90fa19c-127a-400d-8f8b-154a6c0c6695_625x350.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/b90fa19c-127a-400d-8f8b-154a6c0c6695_625x350.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:350,&quot;width&quot;:625,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;350&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!7hob!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb90fa19c-127a-400d-8f8b-154a6c0c6695_625x350.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!7hob!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb90fa19c-127a-400d-8f8b-154a6c0c6695_625x350.png 424w, https://substackcdn.com/image/fetch/$s_!7hob!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb90fa19c-127a-400d-8f8b-154a6c0c6695_625x350.png 848w, https://substackcdn.com/image/fetch/$s_!7hob!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb90fa19c-127a-400d-8f8b-154a6c0c6695_625x350.png 1272w, https://substackcdn.com/image/fetch/$s_!7hob!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb90fa19c-127a-400d-8f8b-154a6c0c6695_625x350.png 1456w&quot; width=&quot;625&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   The Platform Controller tile now has an extra 8 Gen 5 PCIe lanes for a total of 20 PCIe lanes on the SoC. It was not made clear if all versions of Panther Lake use the same Platform Controller Tile fabricated on TSMC N6 or if there are 2 versions of this tile but it seems likely that all Panther Lake SoCs reuse the same physical die but with different configurations enabled.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!JOoH!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd2ebe868-2b7f-47fc-8f6a-96c873668d99_625x351.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!JOoH!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd2ebe868-2b7f-47fc-8f6a-96c873668d99_625x351.png 424w, https://substackcdn.com/image/fetch/$s_!JOoH!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd2ebe868-2b7f-47fc-8f6a-96c873668d99_625x351.png 848w, https://substackcdn.com/image/fetch/$s_!JOoH!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd2ebe868-2b7f-47fc-8f6a-96c873668d99_625x351.png 1272w, https://substackcdn.com/image/fetch/$s_!JOoH!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd2ebe868-2b7f-47fc-8f6a-96c873668d99_625x351.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/d2ebe868-2b7f-47fc-8f6a-96c873668d99_625x351.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:351,&quot;width&quot;:625,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;351&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!JOoH!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd2ebe868-2b7f-47fc-8f6a-96c873668d99_625x351.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!JOoH!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd2ebe868-2b7f-47fc-8f6a-96c873668d99_625x351.png 424w, https://substackcdn.com/image/fetch/$s_!JOoH!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd2ebe868-2b7f-47fc-8f6a-96c873668d99_625x351.png 848w, https://substackcdn.com/image/fetch/$s_!JOoH!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd2ebe868-2b7f-47fc-8f6a-96c873668d99_625x351.png 1272w, https://substackcdn.com/image/fetch/$s_!JOoH!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd2ebe868-2b7f-47fc-8f6a-96c873668d99_625x351.png 1456w&quot; width=&quot;625&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Moving to the largest configuration of Panther Lake which keeps the same 4 P-Core, 8 E-Core, and 4 LP E-Core configuration as the middle configuration and drops the I/O configuration to the same as the smallest Panther Lake, but in exchange gains a 12 Xe3 core GPU tile which is fabricated on TSMC’s N3E process. This is the largest iGPU that Intel has made for a client SoC.
  &lt;/p&gt;
  &lt;h2&gt;
   Xe3 Architecture
  &lt;/h2&gt;
  &lt;p&gt;
   For many people the most exciting part of Panther Lake is going to be the brand new Xe3 architecture found in Panther Lake.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!5Xsz!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9f04e08c-788c-4e5e-9c71-b179c6c8c881_625x353.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!5Xsz!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9f04e08c-788c-4e5e-9c71-b179c6c8c881_625x353.png 424w, https://substackcdn.com/image/fetch/$s_!5Xsz!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9f04e08c-788c-4e5e-9c71-b179c6c8c881_625x353.png 848w, https://substackcdn.com/image/fetch/$s_!5Xsz!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9f04e08c-788c-4e5e-9c71-b179c6c8c881_625x353.png 1272w, https://substackcdn.com/image/fetch/$s_!5Xsz!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9f04e08c-788c-4e5e-9c71-b179c6c8c881_625x353.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/9f04e08c-788c-4e5e-9c71-b179c6c8c881_625x353.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:353,&quot;width&quot;:625,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;353&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!5Xsz!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9f04e08c-788c-4e5e-9c71-b179c6c8c881_625x353.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!5Xsz!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9f04e08c-788c-4e5e-9c71-b179c6c8c881_625x353.png 424w, https://substackcdn.com/image/fetch/$s_!5Xsz!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9f04e08c-788c-4e5e-9c71-b179c6c8c881_625x353.png 848w, https://substackcdn.com/image/fetch/$s_!5Xsz!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9f04e08c-788c-4e5e-9c71-b179c6c8c881_625x353.png 1272w, https://substackcdn.com/image/fetch/$s_!5Xsz!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9f04e08c-788c-4e5e-9c71-b179c6c8c881_625x353.png 1456w&quot; width=&quot;625&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   However, this new architecture will not be marketed as Intel Arc C-Series but instead will be marketed under Intel Arc B-Series just like the Battlemage series of dGPUs e.g. the B580 and B570. This is quite perplexing due to the new architecture yet the old branding which even Tom Petersen said was “confusing”.
  &lt;/p&gt;
  &lt;p&gt;
   Moving on from the strange marketing decisions, one of the big changes in Xe3 is making the render slice capable of handling up to 6 Xe Cores from the 4 Xe Cores that the Xe2 render slice could support.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!T04R!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fec40abe5-fa3b-460d-8369-11f4577ed492_625x352.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!T04R!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fec40abe5-fa3b-460d-8369-11f4577ed492_625x352.png 424w, https://substackcdn.com/image/fetch/$s_!T04R!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fec40abe5-fa3b-460d-8369-11f4577ed492_625x352.png 848w, https://substackcdn.com/image/fetch/$s_!T04R!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fec40abe5-fa3b-460d-8369-11f4577ed492_625x352.png 1272w, https://substackcdn.com/image/fetch/$s_!T04R!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fec40abe5-fa3b-460d-8369-11f4577ed492_625x352.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/ec40abe5-fa3b-460d-8369-11f4577ed492_625x352.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:352,&quot;width&quot;:625,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;352&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!T04R!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fec40abe5-fa3b-460d-8369-11f4577ed492_625x352.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!T04R!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fec40abe5-fa3b-460d-8369-11f4577ed492_625x352.png 424w, https://substackcdn.com/image/fetch/$s_!T04R!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fec40abe5-fa3b-460d-8369-11f4577ed492_625x352.png 848w, https://substackcdn.com/image/fetch/$s_!T04R!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fec40abe5-fa3b-460d-8369-11f4577ed492_625x352.png 1272w, https://substackcdn.com/image/fetch/$s_!T04R!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fec40abe5-fa3b-460d-8369-11f4577ed492_625x352.png 1456w&quot; width=&quot;625&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   The ability of the render slice to accommodate up to 6 Xe Cores allows for the 12 Xe core configuration that is found in the largest version of Panther Lake.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!o3hj!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4520d256-2ad2-4bc3-8535-6962a13612ea_625x356.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!o3hj!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4520d256-2ad2-4bc3-8535-6962a13612ea_625x356.png 424w, https://substackcdn.com/image/fetch/$s_!o3hj!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4520d256-2ad2-4bc3-8535-6962a13612ea_625x356.png 848w, https://substackcdn.com/image/fetch/$s_!o3hj!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4520d256-2ad2-4bc3-8535-6962a13612ea_625x356.png 1272w, https://substackcdn.com/image/fetch/$s_!o3hj!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4520d256-2ad2-4bc3-8535-6962a13612ea_625x356.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/4520d256-2ad2-4bc3-8535-6962a13612ea_625x356.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:356,&quot;width&quot;:625,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;356&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!o3hj!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4520d256-2ad2-4bc3-8535-6962a13612ea_625x356.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!o3hj!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4520d256-2ad2-4bc3-8535-6962a13612ea_625x356.png 424w, https://substackcdn.com/image/fetch/$s_!o3hj!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4520d256-2ad2-4bc3-8535-6962a13612ea_625x356.png 848w, https://substackcdn.com/image/fetch/$s_!o3hj!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4520d256-2ad2-4bc3-8535-6962a13612ea_625x356.png 1272w, https://substackcdn.com/image/fetch/$s_!o3hj!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4520d256-2ad2-4bc3-8535-6962a13612ea_625x356.png 1456w&quot; width=&quot;625&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   The 16MB L2 found in the 12Xe GPU reduces the traffic on the SoC fabric by up to 36% depending on the workload in question compared to a 8MB L2.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!L0a-!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2244305e-a942-4979-809d-7ab265c08c7b_625x351.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!L0a-!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2244305e-a942-4979-809d-7ab265c08c7b_625x351.png 424w, https://substackcdn.com/image/fetch/$s_!L0a-!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2244305e-a942-4979-809d-7ab265c08c7b_625x351.png 848w, https://substackcdn.com/image/fetch/$s_!L0a-!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2244305e-a942-4979-809d-7ab265c08c7b_625x351.png 1272w, https://substackcdn.com/image/fetch/$s_!L0a-!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2244305e-a942-4979-809d-7ab265c08c7b_625x351.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/2244305e-a942-4979-809d-7ab265c08c7b_625x351.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:351,&quot;width&quot;:625,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;351&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!L0a-!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2244305e-a942-4979-809d-7ab265c08c7b_625x351.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!L0a-!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2244305e-a942-4979-809d-7ab265c08c7b_625x351.png 424w, https://substackcdn.com/image/fetch/$s_!L0a-!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2244305e-a942-4979-809d-7ab265c08c7b_625x351.png 848w, https://substackcdn.com/image/fetch/$s_!L0a-!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2244305e-a942-4979-809d-7ab265c08c7b_625x351.png 1272w, https://substackcdn.com/image/fetch/$s_!L0a-!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2244305e-a942-4979-809d-7ab265c08c7b_625x351.png 1456w&quot; width=&quot;625&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Going into the Xe Core, the amount of compute throughput that Xe3 has not changed compared to Xe2 with the same 8 512 bit Vector Engines and 8 2048 bit Matrix Engines per Xe Core but the L1/SLM capacity has increased from 192KB to 256KB.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!DiNc!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F122fec25-9c88-455b-8f57-199b2693137a_625x354.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!DiNc!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F122fec25-9c88-455b-8f57-199b2693137a_625x354.png 424w, https://substackcdn.com/image/fetch/$s_!DiNc!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F122fec25-9c88-455b-8f57-199b2693137a_625x354.png 848w, https://substackcdn.com/image/fetch/$s_!DiNc!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F122fec25-9c88-455b-8f57-199b2693137a_625x354.png 1272w, https://substackcdn.com/image/fetch/$s_!DiNc!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F122fec25-9c88-455b-8f57-199b2693137a_625x354.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/122fec25-9c88-455b-8f57-199b2693137a_625x354.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:354,&quot;width&quot;:625,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;354&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!DiNc!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F122fec25-9c88-455b-8f57-199b2693137a_625x354.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!DiNc!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F122fec25-9c88-455b-8f57-199b2693137a_625x354.png 424w, https://substackcdn.com/image/fetch/$s_!DiNc!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F122fec25-9c88-455b-8f57-199b2693137a_625x354.png 848w, https://substackcdn.com/image/fetch/$s_!DiNc!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F122fec25-9c88-455b-8f57-199b2693137a_625x354.png 1272w, https://substackcdn.com/image/fetch/$s_!DiNc!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F122fec25-9c88-455b-8f57-199b2693137a_625x354.png 1456w&quot; width=&quot;625&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   And while Intel hasn’t increased the compute throughput of Xe3, they have made some large improvements to the frontend capabilities of Xe3. A XVE can now track up to 10 threads up from the 8 threads in Xe2’s XVE along with the single largest improvement being what Intel is calling “Variable Register Allocation”.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!Wesx!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F245ba18e-d80b-4917-9de8-f3a74c211120_624x351.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!Wesx!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F245ba18e-d80b-4917-9de8-f3a74c211120_624x351.png 424w, https://substackcdn.com/image/fetch/$s_!Wesx!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F245ba18e-d80b-4917-9de8-f3a74c211120_624x351.png 848w, https://substackcdn.com/image/fetch/$s_!Wesx!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F245ba18e-d80b-4917-9de8-f3a74c211120_624x351.png 1272w, https://substackcdn.com/image/fetch/$s_!Wesx!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F245ba18e-d80b-4917-9de8-f3a74c211120_624x351.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/245ba18e-d80b-4917-9de8-f3a74c211120_624x351.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:351,&quot;width&quot;:624,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;351&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!Wesx!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F245ba18e-d80b-4917-9de8-f3a74c211120_624x351.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!Wesx!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F245ba18e-d80b-4917-9de8-f3a74c211120_624x351.png 424w, https://substackcdn.com/image/fetch/$s_!Wesx!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F245ba18e-d80b-4917-9de8-f3a74c211120_624x351.png 848w, https://substackcdn.com/image/fetch/$s_!Wesx!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F245ba18e-d80b-4917-9de8-f3a74c211120_624x351.png 1272w, https://substackcdn.com/image/fetch/$s_!Wesx!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F245ba18e-d80b-4917-9de8-f3a74c211120_624x351.png 1456w&quot; width=&quot;624&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   In Xe1 and prior Intel GPUs, a thread would be allocated 128 registers regardless of if that thread needed all 128 registers or not. In Xe2, Intel added the “Large GRF” mode which allows a thread to pick between 128 registers or 256 registers. Xe3 now allows a thread to allocate up to 256 registers in 32 register increments.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!hdWR!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd0f9020c-e55f-43d3-afbb-3ed8d5e110d6_625x378.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!hdWR!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd0f9020c-e55f-43d3-afbb-3ed8d5e110d6_625x378.png 424w, https://substackcdn.com/image/fetch/$s_!hdWR!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd0f9020c-e55f-43d3-afbb-3ed8d5e110d6_625x378.png 848w, https://substackcdn.com/image/fetch/$s_!hdWR!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd0f9020c-e55f-43d3-afbb-3ed8d5e110d6_625x378.png 1272w, https://substackcdn.com/image/fetch/$s_!hdWR!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd0f9020c-e55f-43d3-afbb-3ed8d5e110d6_625x378.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/d0f9020c-e55f-43d3-afbb-3ed8d5e110d6_625x378.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:378,&quot;width&quot;:625,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;378&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!hdWR!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd0f9020c-e55f-43d3-afbb-3ed8d5e110d6_625x378.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!hdWR!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd0f9020c-e55f-43d3-afbb-3ed8d5e110d6_625x378.png 424w, https://substackcdn.com/image/fetch/$s_!hdWR!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd0f9020c-e55f-43d3-afbb-3ed8d5e110d6_625x378.png 848w, https://substackcdn.com/image/fetch/$s_!hdWR!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd0f9020c-e55f-43d3-afbb-3ed8d5e110d6_625x378.png 1272w, https://substackcdn.com/image/fetch/$s_!hdWR!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd0f9020c-e55f-43d3-afbb-3ed8d5e110d6_625x378.png 1456w&quot; width=&quot;625&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   So while Xe3 kept the same 64KB per XVE register file as Xe2, the register file can now be better utilized thanks to more granularity in register allocation.
  &lt;/p&gt;
  &lt;p&gt;
   All of this, along with ray tracing units now capable of dynamic ray management, adds up to an approximate 50% performance uplift for the 12 Xe3 core iGPU in comparison to Lunar Lake’s iGPU in 3D Mark Solar Bay, Cyberpunk 2077, and Borderlands 3 albeit at higher power.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!cIV0!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa3d48e6f-edee-43a7-a645-a82649d9c723_625x351.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!cIV0!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa3d48e6f-edee-43a7-a645-a82649d9c723_625x351.png 424w, https://substackcdn.com/image/fetch/$s_!cIV0!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa3d48e6f-edee-43a7-a645-a82649d9c723_625x351.png 848w, https://substackcdn.com/image/fetch/$s_!cIV0!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa3d48e6f-edee-43a7-a645-a82649d9c723_625x351.png 1272w, https://substackcdn.com/image/fetch/$s_!cIV0!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa3d48e6f-edee-43a7-a645-a82649d9c723_625x351.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/a3d48e6f-edee-43a7-a645-a82649d9c723_625x351.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:351,&quot;width&quot;:625,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;351&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!cIV0!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa3d48e6f-edee-43a7-a645-a82649d9c723_625x351.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!cIV0!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa3d48e6f-edee-43a7-a645-a82649d9c723_625x351.png 424w, https://substackcdn.com/image/fetch/$s_!cIV0!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa3d48e6f-edee-43a7-a645-a82649d9c723_625x351.png 848w, https://substackcdn.com/image/fetch/$s_!cIV0!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa3d48e6f-edee-43a7-a645-a82649d9c723_625x351.png 1272w, https://substackcdn.com/image/fetch/$s_!cIV0!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa3d48e6f-edee-43a7-a645-a82649d9c723_625x351.png 1456w&quot; width=&quot;625&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;h2&gt;
   Cougar Cove and Darkmont
  &lt;/h2&gt;
  &lt;p&gt;
   &lt;span&gt;
    Going to the CPU cores found in Panther Lake, and they are much more evolution rather than revolution. If you’d like a deeper dive into the CPU cores found in Panther Cove,
   &lt;/span&gt;
   &lt;a href=&quot;https://chipsandcheese.com/p/interviewing-intels-chief-architect&quot; rel=&quot;&quot;&gt;
    we did an interview with the Chief Architect of x86 Cores at Intel, Stephen Robinson, at ITT
   &lt;/a&gt;
   &lt;span&gt;
    .
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!rDNA!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0cbd64a1-8dd3-4db1-9476-19927b8352c8_625x356.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!rDNA!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0cbd64a1-8dd3-4db1-9476-19927b8352c8_625x356.png 424w, https://substackcdn.com/image/fetch/$s_!rDNA!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0cbd64a1-8dd3-4db1-9476-19927b8352c8_625x356.png 848w, https://substackcdn.com/image/fetch/$s_!rDNA!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0cbd64a1-8dd3-4db1-9476-19927b8352c8_625x356.png 1272w, https://substackcdn.com/image/fetch/$s_!rDNA!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0cbd64a1-8dd3-4db1-9476-19927b8352c8_625x356.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/0cbd64a1-8dd3-4db1-9476-19927b8352c8_625x356.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:356,&quot;width&quot;:625,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;356&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!rDNA!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0cbd64a1-8dd3-4db1-9476-19927b8352c8_625x356.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!rDNA!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0cbd64a1-8dd3-4db1-9476-19927b8352c8_625x356.png 424w, https://substackcdn.com/image/fetch/$s_!rDNA!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0cbd64a1-8dd3-4db1-9476-19927b8352c8_625x356.png 848w, https://substackcdn.com/image/fetch/$s_!rDNA!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0cbd64a1-8dd3-4db1-9476-19927b8352c8_625x356.png 1272w, https://substackcdn.com/image/fetch/$s_!rDNA!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0cbd64a1-8dd3-4db1-9476-19927b8352c8_625x356.png 1456w&quot; width=&quot;625&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Starting with the P-Cores, codenamed Cougar Cove, Intel had increased the TLB capacity by 50% compared to Lion Cove along with improving the branch predictor by increasing some of the structure sizes in the BPU along with porting over some of the novel BPU algorithms that Intel tested in Lunar Lake.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!Okdc!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F85c13ff3-3589-427c-a112-45cf10e7da37_625x351.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!Okdc!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F85c13ff3-3589-427c-a112-45cf10e7da37_625x351.png 424w, https://substackcdn.com/image/fetch/$s_!Okdc!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F85c13ff3-3589-427c-a112-45cf10e7da37_625x351.png 848w, https://substackcdn.com/image/fetch/$s_!Okdc!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F85c13ff3-3589-427c-a112-45cf10e7da37_625x351.png 1272w, https://substackcdn.com/image/fetch/$s_!Okdc!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F85c13ff3-3589-427c-a112-45cf10e7da37_625x351.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/85c13ff3-3589-427c-a112-45cf10e7da37_625x351.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:351,&quot;width&quot;:625,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;351&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!Okdc!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F85c13ff3-3589-427c-a112-45cf10e7da37_625x351.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!Okdc!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F85c13ff3-3589-427c-a112-45cf10e7da37_625x351.png 424w, https://substackcdn.com/image/fetch/$s_!Okdc!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F85c13ff3-3589-427c-a112-45cf10e7da37_625x351.png 848w, https://substackcdn.com/image/fetch/$s_!Okdc!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F85c13ff3-3589-427c-a112-45cf10e7da37_625x351.png 1272w, https://substackcdn.com/image/fetch/$s_!Okdc!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F85c13ff3-3589-427c-a112-45cf10e7da37_625x351.png 1456w&quot; width=&quot;625&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   &lt;span&gt;
    Moving to the E-Core found in Panther Lake, codenamed Darkmont, the major improvements to Darkmont are also found in the BPU by increasing structure sizes, improving the prefetcher, and
   &lt;/span&gt;
   &lt;a href=&quot;https://chipsandcheese.com/p/intel-details-skymont&quot; rel=&quot;&quot;&gt;
    improved nanocode behavior
   &lt;/a&gt;
   &lt;span&gt;
    .
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!yMmP!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4b499a12-0324-412f-824a-8472c569f146_625x353.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!yMmP!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4b499a12-0324-412f-824a-8472c569f146_625x353.png 424w, https://substackcdn.com/image/fetch/$s_!yMmP!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4b499a12-0324-412f-824a-8472c569f146_625x353.png 848w, https://substackcdn.com/image/fetch/$s_!yMmP!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4b499a12-0324-412f-824a-8472c569f146_625x353.png 1272w, https://substackcdn.com/image/fetch/$s_!yMmP!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4b499a12-0324-412f-824a-8472c569f146_625x353.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/4b499a12-0324-412f-824a-8472c569f146_625x353.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:353,&quot;width&quot;:625,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;353&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!yMmP!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4b499a12-0324-412f-824a-8472c569f146_625x353.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!yMmP!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4b499a12-0324-412f-824a-8472c569f146_625x353.png 424w, https://substackcdn.com/image/fetch/$s_!yMmP!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4b499a12-0324-412f-824a-8472c569f146_625x353.png 848w, https://substackcdn.com/image/fetch/$s_!yMmP!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4b499a12-0324-412f-824a-8472c569f146_625x353.png 1272w, https://substackcdn.com/image/fetch/$s_!yMmP!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4b499a12-0324-412f-824a-8472c569f146_625x353.png 1456w&quot; width=&quot;625&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Interestingly, both Cougar Cove and Darkmont have improved the memory disambiguation (Store to Load) behavior but they each use different techniques for the improved memory disambiguation behavior. This is a case of having 2 different teams trying out different things and coming to a similar solution with different implementations.
  &lt;/p&gt;
  &lt;p&gt;
   Putting all of the microarchitecture improvements and cache improvements together and Intel is claiming a 10% single threaded improvement compared to both Arrow Lake and Lunar Lake.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!wOZf!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd80bc071-1e2f-4f46-af88-d7addf120e44_625x353.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!wOZf!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd80bc071-1e2f-4f46-af88-d7addf120e44_625x353.png 424w, https://substackcdn.com/image/fetch/$s_!wOZf!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd80bc071-1e2f-4f46-af88-d7addf120e44_625x353.png 848w, https://substackcdn.com/image/fetch/$s_!wOZf!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd80bc071-1e2f-4f46-af88-d7addf120e44_625x353.png 1272w, https://substackcdn.com/image/fetch/$s_!wOZf!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd80bc071-1e2f-4f46-af88-d7addf120e44_625x353.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/d80bc071-1e2f-4f46-af88-d7addf120e44_625x353.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:353,&quot;width&quot;:625,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;353&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!wOZf!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd80bc071-1e2f-4f46-af88-d7addf120e44_625x353.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!wOZf!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd80bc071-1e2f-4f46-af88-d7addf120e44_625x353.png 424w, https://substackcdn.com/image/fetch/$s_!wOZf!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd80bc071-1e2f-4f46-af88-d7addf120e44_625x353.png 848w, https://substackcdn.com/image/fetch/$s_!wOZf!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd80bc071-1e2f-4f46-af88-d7addf120e44_625x353.png 1272w, https://substackcdn.com/image/fetch/$s_!wOZf!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd80bc071-1e2f-4f46-af88-d7addf120e44_625x353.png 1456w&quot; width=&quot;625&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Intel is also claiming a 40% performance per watt improvement over Arrow Lake.
  &lt;/p&gt;
  &lt;p&gt;
   Moving to multi-thread performance, Intel is claiming a 50% performance improvement over Lunar Lake and a 30% decrease in power consumption at similar multi-thread performance.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!Cw9X!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe74c6602-784e-4ae6-a266-f945a82d7f46_624x348.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!Cw9X!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe74c6602-784e-4ae6-a266-f945a82d7f46_624x348.png 424w, https://substackcdn.com/image/fetch/$s_!Cw9X!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe74c6602-784e-4ae6-a266-f945a82d7f46_624x348.png 848w, https://substackcdn.com/image/fetch/$s_!Cw9X!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe74c6602-784e-4ae6-a266-f945a82d7f46_624x348.png 1272w, https://substackcdn.com/image/fetch/$s_!Cw9X!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe74c6602-784e-4ae6-a266-f945a82d7f46_624x348.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/e74c6602-784e-4ae6-a266-f945a82d7f46_624x348.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:348,&quot;width&quot;:624,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;348&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!Cw9X!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe74c6602-784e-4ae6-a266-f945a82d7f46_624x348.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!Cw9X!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe74c6602-784e-4ae6-a266-f945a82d7f46_624x348.png 424w, https://substackcdn.com/image/fetch/$s_!Cw9X!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe74c6602-784e-4ae6-a266-f945a82d7f46_624x348.png 848w, https://substackcdn.com/image/fetch/$s_!Cw9X!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe74c6602-784e-4ae6-a266-f945a82d7f46_624x348.png 1272w, https://substackcdn.com/image/fetch/$s_!Cw9X!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe74c6602-784e-4ae6-a266-f945a82d7f46_624x348.png 1456w&quot; width=&quot;624&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;h2&gt;
   NPU and Media Engine
  &lt;/h2&gt;
  &lt;p&gt;
   Panther Lake also comes with some improvements to other parts of the SoC such as the Media Engine now supporting AVC 10b decode and encode.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!jOMZ!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3c84d80c-73d0-4318-bd49-9346cecc58d1_624x356.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!jOMZ!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3c84d80c-73d0-4318-bd49-9346cecc58d1_624x356.png 424w, https://substackcdn.com/image/fetch/$s_!jOMZ!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3c84d80c-73d0-4318-bd49-9346cecc58d1_624x356.png 848w, https://substackcdn.com/image/fetch/$s_!jOMZ!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3c84d80c-73d0-4318-bd49-9346cecc58d1_624x356.png 1272w, https://substackcdn.com/image/fetch/$s_!jOMZ!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3c84d80c-73d0-4318-bd49-9346cecc58d1_624x356.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/3c84d80c-73d0-4318-bd49-9346cecc58d1_624x356.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:356,&quot;width&quot;:624,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;356&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!jOMZ!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3c84d80c-73d0-4318-bd49-9346cecc58d1_624x356.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!jOMZ!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3c84d80c-73d0-4318-bd49-9346cecc58d1_624x356.png 424w, https://substackcdn.com/image/fetch/$s_!jOMZ!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3c84d80c-73d0-4318-bd49-9346cecc58d1_624x356.png 848w, https://substackcdn.com/image/fetch/$s_!jOMZ!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3c84d80c-73d0-4318-bd49-9346cecc58d1_624x356.png 1272w, https://substackcdn.com/image/fetch/$s_!jOMZ!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3c84d80c-73d0-4318-bd49-9346cecc58d1_624x356.png 1456w&quot; width=&quot;624&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   The NPU also got an upgrade with FP8 support along with shrinking the NPU by about 40% compared to the NPU found in Lunar Lake.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!wg7s!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F032856b8-0b8c-4174-90fe-1a83de9525af_624x359.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!wg7s!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F032856b8-0b8c-4174-90fe-1a83de9525af_624x359.png 424w, https://substackcdn.com/image/fetch/$s_!wg7s!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F032856b8-0b8c-4174-90fe-1a83de9525af_624x359.png 848w, https://substackcdn.com/image/fetch/$s_!wg7s!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F032856b8-0b8c-4174-90fe-1a83de9525af_624x359.png 1272w, https://substackcdn.com/image/fetch/$s_!wg7s!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F032856b8-0b8c-4174-90fe-1a83de9525af_624x359.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/032856b8-0b8c-4174-90fe-1a83de9525af_624x359.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:359,&quot;width&quot;:624,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;359&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!wg7s!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F032856b8-0b8c-4174-90fe-1a83de9525af_624x359.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!wg7s!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F032856b8-0b8c-4174-90fe-1a83de9525af_624x359.png 424w, https://substackcdn.com/image/fetch/$s_!wg7s!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F032856b8-0b8c-4174-90fe-1a83de9525af_624x359.png 848w, https://substackcdn.com/image/fetch/$s_!wg7s!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F032856b8-0b8c-4174-90fe-1a83de9525af_624x359.png 1272w, https://substackcdn.com/image/fetch/$s_!wg7s!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F032856b8-0b8c-4174-90fe-1a83de9525af_624x359.png 1456w&quot; width=&quot;624&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;h2&gt;
   Final Words
  &lt;/h2&gt;
  &lt;p&gt;
   Intel’s upcoming Panther Lake series of CPUs is a merging of the Lunar Lake and Arrow Lake families of SoCs in terms of the SoC design. By moving the GPU on to its own tile, Intel can now start to fabricate Arc class iGPUs on Intel’s own nodes instead of solely fabbing them on TSMC’s nodes. Perhaps this could mean that Intel could fabricate future dGPUs on Intel’s own nodes.
  &lt;/p&gt;
  &lt;p&gt;
   As a bit of a sidenote, Intel announced that they would be announcing an inference focused GPU at OCP 2025. Now it is unknown what node this chip is fabricated on, but now we know it is based on the Xe3P microarchitecture, has up to 160GB of LPDDR5X, and will be sampling in the second half of 2026 which hopefully means that we could be hearing more about Celestial dGPUs for consumers by the end of next year.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!wfDI!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F65951428-dba3-447e-984e-bae6712b4722_624x188.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!wfDI!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F65951428-dba3-447e-984e-bae6712b4722_624x188.png 424w, https://substackcdn.com/image/fetch/$s_!wfDI!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F65951428-dba3-447e-984e-bae6712b4722_624x188.png 848w, https://substackcdn.com/image/fetch/$s_!wfDI!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F65951428-dba3-447e-984e-bae6712b4722_624x188.png 1272w, https://substackcdn.com/image/fetch/$s_!wfDI!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F65951428-dba3-447e-984e-bae6712b4722_624x188.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/65951428-dba3-447e-984e-bae6712b4722_624x188.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:188,&quot;width&quot;:624,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;188&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!wfDI!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F65951428-dba3-447e-984e-bae6712b4722_624x188.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!wfDI!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F65951428-dba3-447e-984e-bae6712b4722_624x188.png 424w, https://substackcdn.com/image/fetch/$s_!wfDI!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F65951428-dba3-447e-984e-bae6712b4722_624x188.png 848w, https://substackcdn.com/image/fetch/$s_!wfDI!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F65951428-dba3-447e-984e-bae6712b4722_624x188.png 1272w, https://substackcdn.com/image/fetch/$s_!wfDI!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F65951428-dba3-447e-984e-bae6712b4722_624x188.png 1456w&quot; width=&quot;624&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
      &lt;div&gt;
      &lt;/div&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Moving back to Panther Lake, the official launch of Panther Lake and all of the different SKUs will occur at CES 2026 with review samples hopefully in our hands by the end of January and units on shelves shortly after. The numbers that Intel put forward for Panther Lake’s performance are promising but personally my optimism for Panther Lake has been slightly dimmed by the lackluster graphs that Intel were showing for the improvements found in Panther Lake.
  &lt;/p&gt;
  &lt;p&gt;
   Regardless, I can’t wait to test a laptop powered by a 12 Xe3 core iGPU and see what performance it can put up compared to other large iGPU client devices.
  &lt;/p&gt;
  &lt;p&gt;
   &lt;span&gt;
    If you like the content then consider heading over to the
   &lt;/span&gt;
   &lt;a href=&quot;https://www.patreon.com/ChipsandCheese&quot; rel=&quot;&quot;&gt;
    Patreon
   &lt;/a&gt;
   &lt;span&gt;
    or
   &lt;/span&gt;
   &lt;a href=&quot;https://www.paypal.com/donate/?hosted_button_id=4EMPH66SBGVSQ&quot; rel=&quot;&quot;&gt;
    PayPal
   &lt;/a&gt;
   &lt;span&gt;
    if you want to toss a few bucks to Chips and Cheese. Also consider joining the
   &lt;/span&gt;
   &lt;a href=&quot;https://discord.gg/TwVnRhxgY2&quot; rel=&quot;&quot;&gt;
    Discord
   &lt;/a&gt;
   &lt;span&gt;
    .
   &lt;/span&gt;
  &lt;/p&gt;
 &lt;/div&gt;
&lt;/div&gt;

</description>
</item>
<item>
<title> Interviewing Intel&#x27;s Chief Architect of x86 Cores at Intel Tech Tour 2025 </title>
<link>https://chipsandcheese.com/p/interviewing-intels-chief-architect</link>
<pubDate>Thu, 09 Oct 2025 15:58:43 -0000</pubDate>
<description>
&lt;div&gt;
 &lt;div dir=&quot;auto&quot;&gt;
  &lt;p&gt;
   Hello you fine Internet folks,
  &lt;/p&gt;
  &lt;p&gt;
   I was at Intel Tech Tour this year where Intel talked about their upcoming Panther Lake and Clearwater Forest CPUs. I had a chance to sit down with Stephen Robinson, Lead Architect for x86 Cores at Intel, and talk about lntel’s approach to Cougar Cove and Darkmont and what changed from the prior generations.
  &lt;/p&gt;
  &lt;div data-attrs=&#x27;{&quot;videoId&quot;:&quot;62oerVCYK-s&quot;,&quot;startTime&quot;:null,&quot;endTime&quot;:null}&#x27; data-component-name=&quot;Youtube2ToDOM&quot;&gt;
   &lt;div&gt;
    &lt;iframe allow=&quot;autoplay; fullscreen&quot; allowautoplay=&quot;true&quot; allowfullscreen=&quot;true&quot; frameborder=&quot;0&quot; gesture=&quot;media&quot; height=&quot;409&quot; loading=&quot;lazy&quot; src=&quot;https://www.youtube-nocookie.com/embed/62oerVCYK-s?rel=0&amp;autoplay=0&amp;showinfo=0&amp;enablejsapi=0&quot; width=&quot;728&quot;&gt;
    &lt;/iframe&gt;
   &lt;/div&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Hope y’all enjoy!
  &lt;/p&gt;
  &lt;p&gt;
   The transcript has been edited for readability and conciseness.
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    George Cozma
   &lt;/strong&gt;
   &lt;span&gt;
    : Hello you fine Internet folks! We’re here in Phoenix, Arizona at Intel Tech Tour 2025, where there’s been a number of disclosures about Panther Lake and Clearwater Forest. And joining me, to talk about the core architectures in both of those CPUs, is Stephen Robinson. What do you do at Intel?
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    Stephen Robinson
   &lt;/strong&gt;
   &lt;span&gt;
    : I am a CPU architect and I lead the architecture team for the x86 cores.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    George Cozma
   &lt;/strong&gt;
   &lt;span&gt;
    : Awesome. So, diving straight in: so we did do an interview about- a recorded interview about Skymont. But going back to Skymont, what were the big changes from your previous architecture, Crestmont, moving into Skymont?
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    Stephen Robinson
   &lt;/strong&gt;
   &lt;span&gt;
    : Yeah, so Skymont, we did a lot. We wanted to build a wider, deeper machine so that we could sort of run more workloads. So kind of, “coverage” is one of the terms we use sometimes. If we can get more workloads running on an E core, then we can bring more efficiency to the whole platform.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   So, you know, sometimes people want- “Why are you adding IPC to an E core? You’re making it more expensive, right?” Well, actually, software runs better. So we made the out-of-order depth about 50% bigger, somewhere around that ballpark. We went from two load ports to three. We roughly doubled the vector hardware. So we had two FMAs in Crestmont. Now we have four FMAs in Skymont. And then the front end, we went from kind of a six-wide, two cluster, three decode front end to a nine wide, three cluster. And then eight wide alloc and, you know, more branch prediction, a little bit more L2 bandwidth, the whole lot.
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    George Cozma
   &lt;/strong&gt;
   &lt;span&gt;
    : So sort of an interesting quirk that I noticed about Skymont is that it has four store ports and three load ports. Why the four store ports? Usually you see more load ports than store ports. Why more store ports in this case?
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    Stephen Robinson
   &lt;/strong&gt;
   &lt;span&gt;
    : Yeah. So let’s, let’s break it down into address generation versus execution. So, when you have three load execution ports, you need three load address generators. And so that’s there. On the store side, we have four store address generation units. But we only sustain two stores into the data cache.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   So we have a little bit of asymmetry on the store side. So you’re right. Why on earth do we have more store address units than store ports? The answer is, we have hazards between loads and stores. And sometimes loads get blocked on stores because we don’t know the store address because we’re all out of order. So by increasing the store address bandwidth, that reduces the latency to resolving unknown stores.
  &lt;/p&gt;
  &lt;p&gt;
   So basically we get performance by just spending more time and effort generating store addresses so that loads don’t end up blocking.
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    George Cozma
   &lt;/strong&gt;
   &lt;span&gt;
    : Awesome. So I know in Darkmont, something that caught my eye was the memory disambiguation. And that usually has to deal with store to load forwarding. But that’s been a technique that’s been around for quite a while, so what have you enhanced in Darkmont that you would like to talk about?
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    Stephen Robinson
   &lt;/strong&gt;
   &lt;span&gt;
    : Sure, yeah. So you’re right. It’s about store load connections. And so in... there’s several different ways people do it. You can have a big, big table that tells you when it’s safe to ignore stores. You can have a small table that tells you when it’s unsafe to ignore stores.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   So you can kind of do it either way. And those two techniques end up kind of collapsing to the same answer, because the big table saturates and everything’s safe. And then so, you know, you discover the hazard. What we’ve done here is we’ve spent a little bit more time trying to have hardware that isn’t just sort of a history table, that actually figures out, before address generation, whether things are going to be connected.
  &lt;/p&gt;
  &lt;p&gt;
   So when we bring uops to the memory subsystem to address generation, we kind of look at some information and say, “Oh, I’m fairly confident that these loads and stores are connected.” So I’m not using a table, I’m using sort of the inherent information about the instructions, whether I think they’re going to be connected. And that gives us the ability to kind of slow down the load or something like that so that, you know, we know when the store’s gone now it should be safer to do the load that we think might be connected.
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    George Cozma
   &lt;/strong&gt;
   &lt;span&gt;
    : Interesting. Now, I know on Cougar Cove, which is the P core in Panther Lake, that you also commented on the memory disambiguation. Is that similar in Cougar Cove?
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    Stephen Robinson
   &lt;/strong&gt;
   &lt;span&gt;
    : It’s similar in kind of concept, but it’s a bit different in implementation. So it’s a different method, but in the end, we’re still getting to where we’re trying to figure out when’s a good time to schedule the load relative to the store that we’re going to be dependent on. So, you know, I tell a story of two tables. Well, this is kind of another table. And again, we’re trying to say, “Okay, now I think it’s time to do the load because I think it’s going to be connected to the store.” So similar concept, different implementation.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    George Cozma
   &lt;/strong&gt;
   &lt;span&gt;
    : Okay. And I guess sort of what drives the two different implementations? Like the reasoning behind the two different implementations, I should say.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    Stephen Robinson
   &lt;/strong&gt;
   &lt;span&gt;
    : I would say it’s as simple as two teams working in parallel, doing independent research, solving localized problems, coming up with solutions. And then we end up with two similar but different implementations.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    George Cozma
   &lt;/strong&gt;
   &lt;span&gt;
    : Okay.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    Stephen Robinson
   &lt;/strong&gt;
   &lt;span&gt;
    : Two teams.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    George Cozma
   &lt;/strong&gt;
   &lt;span&gt;
    : Cool. So sort of talking about Cougar Cove, a key change made in Lion Cove was the lack of SMT. SMT in Lunar Lake and Arrow Lake is no longer there. Why wasn’t it -- could you have re-added it to Cougar Cove if you had wished? And why haven’t you added it back? Like what would be the reason why you wouldn’t?
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    Stephen Robinson
   &lt;/strong&gt;
   &lt;span&gt;
    : Yeah. So let’s talk about client first, right, where this is where we’ve shipped products without SMT. When you have hybrid compute, SMT isn’t necessarily as valuable, right? So when you schedule something, you know, if you want performance, you schedule it on a P core. And then you schedule it on an E core. And then, once you’ve exhausted those, then you would come back and schedule a thread.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   So in Alder Lake, Raptor Lake, that’s kind of how it works. So those are the threads on top of the dessert, right? In Lion Cove, in Lunar Lake and Arrow Lake, you know, we removed threads. We didn’t have threads implemented. Let me say it that way. And so that gave us -- we didn’t lose a lot in client because of hybrid and the core count. But we gained a bit in our design execution, so a little bit lower power because you don’t have the transistors and the logic to support SMT. A little bit smaller area because -- same reason. And it’s a little bit easier to achieve your frequency target. Because, you know, the old joke that SMT is a bit in the mux [multiplexer], right? So there’s truth to that. There’s a mux somewhere. And that causes delay. So now you’ve kind of got something that’s maybe a little bit easier and less expensive and maybe can go a little bit faster.
  &lt;/p&gt;
  &lt;p&gt;
   So when you’re doing Cougar Cove, you just take those basic premises and say, yeah, this is what I’m going to do for the next gen as well.
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    George Cozma
   &lt;/strong&gt;
   &lt;span&gt;
    : And so on server, I know that there have been some data points that suggest that SMT does help. So what is sort of your opinion there?
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    Stephen Robinson
   &lt;/strong&gt;
   &lt;span&gt;
    : Yeah. So server is a little bit different than client. You know, people have talked about doing hybrid compute in servers. But nobody does it. And the simple explanation is if you want to be hybrid in servers, you do it at the rack-level, not inside an SOC. Why would I want asymmetry inside my SOC when I can have asymmetry, you know, a 200 core server, another 200 core server, and I’ve got a bunch of those. So you have the choice. You know, Amazon and others, they have different instances that you can go and you can get. So what’s the value of different instances within one?
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   So first, there’s no hybrid in servers today in general. The second thing is, you know, kind of the story I told about you’d schedule on P cores and E cores and come back with threads. Well, if you don’t have the E cores, then you’re going to go on threads. Server workloads and gaming workloads and others, right, they miss a lot. They can have long latency. And so when you miss and you have long latency, you’ve got available hardware. So in the server area, threads, there are more workloads that like it. You know, take a networking workload. Those usually like threads because they’re moving a lot of data around and they’re exposing those latencies. So the server workloads are a bit different. And without hybrid, then SMT has more value.
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    George Cozma
   &lt;/strong&gt;
   &lt;span&gt;
    : And so actually speaking on difference between client and server, so Darkmont is both used in Panther Lake and in Clearwater Forest. What sort of differences do you have to make in a core between server and client in terms of stuff like RAS features? So what differences are there in terms of implementation and what you have to design.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    Stephen Robinson
   &lt;/strong&gt;
   &lt;span&gt;
    : Yeah. Great question. So in the client space, you can have RAS features, but they don’t quite have as much value because the client system is different, right? If I have hundreds of cores or thousands of cores, reliability becomes very, very important.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   If I’m on my own little laptop and I have fewer, it’s a different concern, right? When Google Cloud goes down, everyone’s very upset.
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    George Cozma
   &lt;/strong&gt;
   &lt;span&gt;
    : Everything goes down.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    Stephen Robinson
   &lt;/strong&gt;
   &lt;span&gt;
    : That’s right. Everyone’s very upset. So clearly, you know, the bar of the reliability is there. So in a core, if we want a target server, there are additional features we’ll do. You know, ECC in the caches... so inside the core, we do add features. We can put that core in both if we want, right? So there aren’t a lot of physical differences between the cores in the two, but the environment is very different. So on the server side, maybe we have power gates per core, maybe we don’t. The power delivery is different. Because the power delivery is different, you may change the decision on when to power gate and when not to. And the power level is different. So maybe power gating isn’t as important in server because, you know, 24/7, I’m always running.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   The other thing is there are things that can only really truly work at the SOC level because you need SOC components to be part of that. You know, take technology like SGX or TDX, you know, security. You know, secure computing elements. If you don’t have the security and the controllers in your client part, then even if you implemented it inside the core, it doesn’t matter because you need that whole system to do it. So there’s a lot of things that maybe it’s in the core, but you can really only test it and run it and productize it with the complete stack.
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    George Cozma
   &lt;/strong&gt;
   &lt;span&gt;
    : And speaking of sort of the differences between client and server, I know in Lunar Lake, you talked a lot about how there was some novel branch prediction stuff going on. Do you see that being helpful in server workloads or was that -- were those sort of improvements more targeted towards client?
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    Stephen Robinson
   &lt;/strong&gt;
   &lt;span&gt;
    : Everyone wants branch prediction. Honestly, everyone does. So in client, you know, it’s funny. Games. Are games similar to web servers?
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    George Cozma
   &lt;/strong&gt;
   &lt;span&gt;
    : Not really.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    Stephen Robinson
   &lt;/strong&gt;
   &lt;span&gt;
    : Not really, right. But in terms of code footprints and paths and sizes, they’re more similar than you realize. Same kind of thing for databases. Databases are very large binaries.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    George Cozma
   &lt;/strong&gt;
   &lt;span&gt;
    : Databases are actually close -- are very similar to games in their sort of what they like in a core.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    Stephen Robinson
   &lt;/strong&gt;
   &lt;span&gt;
    : Exactly, right. So honestly, when it comes to branch prediction, we do it for everybody, right? We do it for client, we do it for server. And the things we do will be workload-specific sometimes in where you get the gains. But there’s always a workload in both client and server that will appreciate what you did.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    George Cozma
   &lt;/strong&gt;
   &lt;span&gt;
    : So sort of evolving on that, is it such that potentially you could make a branch predictor that is more targeted for server workloads and/or client workloads? Or is it such that there isn’t really a difference there, so to speak?
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    Stephen Robinson
   &lt;/strong&gt;
   &lt;span&gt;
    : I would say that I think the -- internally, within Intel, we tend to think that server wants more branch prediction, larger capacity, right? Bigger paths. Because we know that the workloads are complex in -- and large binaries in server. But it really is in client as well, right? You know, just -- which workloads are you working at, right?
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    George Cozma
   &lt;/strong&gt;
   &lt;span&gt;
    : Exactly.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    Stephen Robinson
   &lt;/strong&gt;
   &lt;span&gt;
    : You know. SPEC, okay, that’s different, obviously, right? But again, games and databases, yeah, they’re --
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   George: I would argue games and databases are closer to each other than SPEC is to either, in most cases.
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    Stephen Robinson
   &lt;/strong&gt;
   &lt;span&gt;
    : That can be true.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    George Cozma
   &lt;/strong&gt;
   &lt;span&gt;
    : But of course, my final question here is, what’s your favorite type of cheese?
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    Stephen Robinson
   &lt;/strong&gt;
   &lt;span&gt;
    : Oof. I like a good smoked Gouda. But honestly, we’re doing blue cheese, Roquefort type things these days. Because, you know, a little musky.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    George Cozma
   &lt;/strong&gt;
   &lt;span&gt;
    : I will admit, blue cheese is not my favorite. I had a really good cheddar from Washington. And, yeah, that was actually really good. It was a smoked cheddar. Which I’m not usually the biggest fan of.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    Stephen Robinson
   &lt;/strong&gt;
   &lt;span&gt;
    : I do like the smoked cheeses. I really do.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    George Cozma
   &lt;/strong&gt;
   &lt;span&gt;
    : Well, thank you so much.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    Stephen Robinson
   &lt;/strong&gt;
   &lt;span&gt;
    : Of course.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    George Cozma
   &lt;/strong&gt;
   &lt;span&gt;
    : So thank you so much for watching. If you like interviews like this, hit like, hit subscribe. Unfortunately I do have to say all that because it does help with the algorithm. And go check out the Substack where there will be a written transcript of this up there. And, well, if you want to donate, PayPal and Patreon are down below. And have a good one, folks!
   &lt;/span&gt;
  &lt;/p&gt;
 &lt;/div&gt;
&lt;/div&gt;

</description>
</item>
<item>
<title> AMD’s EPYC 9355P: Inside a 32 Core Zen 5 Server Chip </title>
<link>https://chipsandcheese.com/p/amds-epyc-9355p-inside-a-32-core</link>
<pubDate>Tue, 30 Sep 2025 18:27:47 -0000</pubDate>
<description>
&lt;div&gt;
 &lt;div dir=&quot;auto&quot;&gt;
  &lt;p&gt;
   High core count chips are headline grabbers. But maxing out the metaphorical core count slider isn’t the only way to go. Server players like Intel, AMD, and Arm aim for scalable designs that cover a range of core counts. Not all applications can take advantage of the highest core count models in their lineups, and per-core performance still matters.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!icLd!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb52368ac-879d-4088-8e22-ab20f0137f82_975x583.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!icLd!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb52368ac-879d-4088-8e22-ab20f0137f82_975x583.png 424w, https://substackcdn.com/image/fetch/$s_!icLd!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb52368ac-879d-4088-8e22-ab20f0137f82_975x583.png 848w, https://substackcdn.com/image/fetch/$s_!icLd!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb52368ac-879d-4088-8e22-ab20f0137f82_975x583.png 1272w, https://substackcdn.com/image/fetch/$s_!icLd!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb52368ac-879d-4088-8e22-ab20f0137f82_975x583.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/b52368ac-879d-4088-8e22-ab20f0137f82_975x583.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:583,&quot;width&quot;:975,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:410106,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:false,&quot;topImage&quot;:true,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/174871357?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb52368ac-879d-4088-8e22-ab20f0137f82_975x583.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; fetchpriority=&quot;high&quot; height=&quot;583&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!icLd!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb52368ac-879d-4088-8e22-ab20f0137f82_975x583.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!icLd!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb52368ac-879d-4088-8e22-ab20f0137f82_975x583.png 424w, https://substackcdn.com/image/fetch/$s_!icLd!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb52368ac-879d-4088-8e22-ab20f0137f82_975x583.png 848w, https://substackcdn.com/image/fetch/$s_!icLd!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb52368ac-879d-4088-8e22-ab20f0137f82_975x583.png 1272w, https://substackcdn.com/image/fetch/$s_!icLd!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb52368ac-879d-4088-8e22-ab20f0137f82_975x583.png 1456w&quot; width=&quot;975&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
    &lt;figcaption&gt;
     From AMD’s Turin whitepaper
    &lt;/figcaption&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   &lt;span&gt;
    AMD’s EPYC 9355P is a 32 core part. But rather than just being a lower core count part, the 9355P pulls levers to let each core count for more. First, it clocks up to 4.4 GHz. AMD has faster clocking chips in its server lineup, but 4.4 GHz is still a good bit higher than the 3.7 or 4.1 GHz that
   &lt;/span&gt;
   &lt;a href=&quot;https://www.amd.com/en/products/processors/server/epyc/9005-series.html#specifications&quot; rel=&quot;&quot;&gt;
    128 or 192 core Zen 5 SKUs reach
   &lt;/a&gt;
   &lt;span&gt;
    . Then, AMD uses eight CPU dies (CCDs) to house those 32 cores. Each CCD only has four cores enabled out of the eight physically present, but still has its full 32 MB of L3 cache usable. That provides a high cache capacity to core count ratio. Finally, each CCD connects to the IO die using a “GMI-Wide” setup, giving each CCD 64B/cycle of bandwidth to the rest of the system in both the read and write directions. GMI here stands for Global Memory Interconnect. Zen 5’s server IO die has 16 GMI links to support up to 16 CCDs for high core count parts, plus some xGMI (external) links to allow a dual socket setup. GMI-Wide uses two links per CCD, fully utilizing the IO die’s GMI links even though the EPYC 9355P only has eight CCDs.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!xcV9!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F89ddd15e-c1e8-4f84-95f8-56d9181f7a4d_975x527.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!xcV9!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F89ddd15e-c1e8-4f84-95f8-56d9181f7a4d_975x527.png 424w, https://substackcdn.com/image/fetch/$s_!xcV9!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F89ddd15e-c1e8-4f84-95f8-56d9181f7a4d_975x527.png 848w, https://substackcdn.com/image/fetch/$s_!xcV9!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F89ddd15e-c1e8-4f84-95f8-56d9181f7a4d_975x527.png 1272w, https://substackcdn.com/image/fetch/$s_!xcV9!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F89ddd15e-c1e8-4f84-95f8-56d9181f7a4d_975x527.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/89ddd15e-c1e8-4f84-95f8-56d9181f7a4d_975x527.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:527,&quot;width&quot;:975,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:180582,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:false,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/174871357?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F89ddd15e-c1e8-4f84-95f8-56d9181f7a4d_975x527.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;527&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!xcV9!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F89ddd15e-c1e8-4f84-95f8-56d9181f7a4d_975x527.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!xcV9!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F89ddd15e-c1e8-4f84-95f8-56d9181f7a4d_975x527.png 424w, https://substackcdn.com/image/fetch/$s_!xcV9!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F89ddd15e-c1e8-4f84-95f8-56d9181f7a4d_975x527.png 848w, https://substackcdn.com/image/fetch/$s_!xcV9!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F89ddd15e-c1e8-4f84-95f8-56d9181f7a4d_975x527.png 1272w, https://substackcdn.com/image/fetch/$s_!xcV9!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F89ddd15e-c1e8-4f84-95f8-56d9181f7a4d_975x527.png 1456w&quot; width=&quot;975&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;h1&gt;
   Acknowledgments
  &lt;/h1&gt;
  &lt;p&gt;
   &lt;a href=&quot;https://www.dell.com/en-us/shop/dell-poweredge-servers/new-poweredge-r6715-rack-server/spd/poweredge-r6715/pe_r6715_tm_vi_vp_sb&quot; rel=&quot;&quot;&gt;
    Dell has kindly provided a PowerEdge R6715 for testing
   &lt;/a&gt;
   &lt;span&gt;
    , and it came equipped with the aforementioned AMD EPYC 9355P along with 768 GB of DDR5-5200. The 12 memory controllers on the IO die provide a 768-bit memory bus, so the setup provides just under 500 GB/s of theoretical bandwidth. Besides providing a look into how a lower core count SKU behaves, we have BMC access which provides an opportunity to investigate different NUMA setups.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!S2Gx!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F46c0cf47-bc97-4634-8c86-82d0d5c2f829_452x603.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!S2Gx!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F46c0cf47-bc97-4634-8c86-82d0d5c2f829_452x603.png 424w, https://substackcdn.com/image/fetch/$s_!S2Gx!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F46c0cf47-bc97-4634-8c86-82d0d5c2f829_452x603.png 848w, https://substackcdn.com/image/fetch/$s_!S2Gx!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F46c0cf47-bc97-4634-8c86-82d0d5c2f829_452x603.png 1272w, https://substackcdn.com/image/fetch/$s_!S2Gx!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F46c0cf47-bc97-4634-8c86-82d0d5c2f829_452x603.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/46c0cf47-bc97-4634-8c86-82d0d5c2f829_452x603.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:603,&quot;width&quot;:452,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:604085,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:false,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/174871357?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F46c0cf47-bc97-4634-8c86-82d0d5c2f829_452x603.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;603&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!S2Gx!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F46c0cf47-bc97-4634-8c86-82d0d5c2f829_452x603.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!S2Gx!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F46c0cf47-bc97-4634-8c86-82d0d5c2f829_452x603.png 424w, https://substackcdn.com/image/fetch/$s_!S2Gx!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F46c0cf47-bc97-4634-8c86-82d0d5c2f829_452x603.png 848w, https://substackcdn.com/image/fetch/$s_!S2Gx!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F46c0cf47-bc97-4634-8c86-82d0d5c2f829_452x603.png 1272w, https://substackcdn.com/image/fetch/$s_!S2Gx!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F46c0cf47-bc97-4634-8c86-82d0d5c2f829_452x603.png 1456w&quot; width=&quot;452&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
    &lt;figcaption&gt;
     The provided Dell PowerEdge R6715 system racked and ready for testing. Credit for the image goes to Zach from ZeroOne.
    &lt;/figcaption&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   We’d also like to thank Zack and the rest of the fine folks at ZeroOne Technology for hosting the Dell PowerEdge R6715 at no cost to us.
  &lt;/p&gt;
  &lt;h1&gt;
   Memory Subsystem and NUMA Characteristics
  &lt;/h1&gt;
  &lt;p&gt;
   NPS1 mode stripes memory accesses across all 12 of the chip’s memory controllers, presenting software with a monolithic view of memory at the cost of latency. DRAM latency in that mode is slightly better than what Intel’s Xeon 6 achieves in SNC3 mode. SNC3 on Intel divides the chip into three NUMA nodes that correspond to its compute dies. The EPYC 9355P has good memory latency in that respect, but it falls behind compared to the Ryzen 9 9900X with DDR5-5600. Interconnects that tie more agents together tend to have higher latency. On AMD’s server platform, the Infinity Fabric network within the IO die has to connect up to 16 CCDs with 12 memory controllers and other IO, so the higher latency isn’t surprising.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!Mbb3!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff51fed7c-b5d2-4b4c-8a43-4a55ce28914d_975x427.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!Mbb3!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff51fed7c-b5d2-4b4c-8a43-4a55ce28914d_975x427.png 424w, https://substackcdn.com/image/fetch/$s_!Mbb3!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff51fed7c-b5d2-4b4c-8a43-4a55ce28914d_975x427.png 848w, https://substackcdn.com/image/fetch/$s_!Mbb3!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff51fed7c-b5d2-4b4c-8a43-4a55ce28914d_975x427.png 1272w, https://substackcdn.com/image/fetch/$s_!Mbb3!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff51fed7c-b5d2-4b4c-8a43-4a55ce28914d_975x427.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/f51fed7c-b5d2-4b4c-8a43-4a55ce28914d_975x427.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:427,&quot;width&quot;:975,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:72295,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/174871357?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff51fed7c-b5d2-4b4c-8a43-4a55ce28914d_975x427.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;427&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!Mbb3!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff51fed7c-b5d2-4b4c-8a43-4a55ce28914d_975x427.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!Mbb3!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff51fed7c-b5d2-4b4c-8a43-4a55ce28914d_975x427.png 424w, https://substackcdn.com/image/fetch/$s_!Mbb3!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff51fed7c-b5d2-4b4c-8a43-4a55ce28914d_975x427.png 848w, https://substackcdn.com/image/fetch/$s_!Mbb3!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff51fed7c-b5d2-4b4c-8a43-4a55ce28914d_975x427.png 1272w, https://substackcdn.com/image/fetch/$s_!Mbb3!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff51fed7c-b5d2-4b4c-8a43-4a55ce28914d_975x427.png 1456w&quot; width=&quot;975&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Cache performance is similar across AMD’s desktop and server Zen 5 implementations, with the server variant only losing because of lower clock speeds. That’s not a surprise because AMD reuses the same CCDs on desktop and server products. But it does create a contrast to Intel’s approach, where client and server memory subsystems differ starting at L3. Intel trades L3 latency for capacity and the ability to a logical L3 instance across more cores.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!QONl!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fadf03a30-37d4-4d15-9c01-690fe0305f95_975x227.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!QONl!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fadf03a30-37d4-4d15-9c01-690fe0305f95_975x227.png 424w, https://substackcdn.com/image/fetch/$s_!QONl!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fadf03a30-37d4-4d15-9c01-690fe0305f95_975x227.png 848w, https://substackcdn.com/image/fetch/$s_!QONl!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fadf03a30-37d4-4d15-9c01-690fe0305f95_975x227.png 1272w, https://substackcdn.com/image/fetch/$s_!QONl!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fadf03a30-37d4-4d15-9c01-690fe0305f95_975x227.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/adf03a30-37d4-4d15-9c01-690fe0305f95_975x227.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:227,&quot;width&quot;:975,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:47683,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/174871357?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fadf03a30-37d4-4d15-9c01-690fe0305f95_975x227.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;227&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!QONl!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fadf03a30-37d4-4d15-9c01-690fe0305f95_975x227.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!QONl!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fadf03a30-37d4-4d15-9c01-690fe0305f95_975x227.png 424w, https://substackcdn.com/image/fetch/$s_!QONl!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fadf03a30-37d4-4d15-9c01-690fe0305f95_975x227.png 848w, https://substackcdn.com/image/fetch/$s_!QONl!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fadf03a30-37d4-4d15-9c01-690fe0305f95_975x227.png 1272w, https://substackcdn.com/image/fetch/$s_!QONl!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fadf03a30-37d4-4d15-9c01-690fe0305f95_975x227.png 1456w&quot; width=&quot;975&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
      &lt;div&gt;
      &lt;/div&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Different NUMA configurations can subdivide EPYC 9355P, associating cores with the closest memory controllers to improve latency. NPS2 divides the chip into two hemispheres, and has 16 cores form a NUMA node with the six memory controllers on one half of the die. NPS4 divides the chip into quadrants, each with two CCDs and three memory controllers. Finally, the chip can present each CCD as a NUMA node. Doing so makes it easier to pin threads to cores that share a L3 cache, but doesn’t affect how memory is interleaved across channels. Memory addresses are still assigned to memory controllers according to the selected NPS1/2/4 scheme, which is a separate setting.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!3suW!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fdcb62202-f156-4446-82db-d117584de0c2_975x327.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!3suW!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fdcb62202-f156-4446-82db-d117584de0c2_975x327.png 424w, https://substackcdn.com/image/fetch/$s_!3suW!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fdcb62202-f156-4446-82db-d117584de0c2_975x327.png 848w, https://substackcdn.com/image/fetch/$s_!3suW!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fdcb62202-f156-4446-82db-d117584de0c2_975x327.png 1272w, https://substackcdn.com/image/fetch/$s_!3suW!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fdcb62202-f156-4446-82db-d117584de0c2_975x327.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/dcb62202-f156-4446-82db-d117584de0c2_975x327.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:327,&quot;width&quot;:975,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:162136,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/174871357?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fdcb62202-f156-4446-82db-d117584de0c2_975x327.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;327&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!3suW!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fdcb62202-f156-4446-82db-d117584de0c2_975x327.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!3suW!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fdcb62202-f156-4446-82db-d117584de0c2_975x327.png 424w, https://substackcdn.com/image/fetch/$s_!3suW!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fdcb62202-f156-4446-82db-d117584de0c2_975x327.png 848w, https://substackcdn.com/image/fetch/$s_!3suW!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fdcb62202-f156-4446-82db-d117584de0c2_975x327.png 1272w, https://substackcdn.com/image/fetch/$s_!3suW!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fdcb62202-f156-4446-82db-d117584de0c2_975x327.png 1456w&quot; width=&quot;975&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   NPS2 and NPS4 only provide marginal latency improvements, and latency remains much higher than in a desktop platform. At the same time, crossing NUMA boundaries comes with little penalty. Apparently requests can traverse the huge IO die quite quickly, adding 20-30 ns at worst. I’m not sure what the underlying Infinity Fabric topology looks like, but the worst case unloaded cross-node latencies were under 140 ns. On Xeon 6, latency starts higher and can climb over 180 ns when cores on one compute die access memory controllers on the compute die at the other end of the chip.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!3AET!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3cb07f7e-9a74-4586-b2cf-793668b357d3_975x469.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!3AET!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3cb07f7e-9a74-4586-b2cf-793668b357d3_975x469.png 424w, https://substackcdn.com/image/fetch/$s_!3AET!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3cb07f7e-9a74-4586-b2cf-793668b357d3_975x469.png 848w, https://substackcdn.com/image/fetch/$s_!3AET!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3cb07f7e-9a74-4586-b2cf-793668b357d3_975x469.png 1272w, https://substackcdn.com/image/fetch/$s_!3AET!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3cb07f7e-9a74-4586-b2cf-793668b357d3_975x469.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/3cb07f7e-9a74-4586-b2cf-793668b357d3_975x469.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:469,&quot;width&quot;:975,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:121481,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/174871357?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3cb07f7e-9a74-4586-b2cf-793668b357d3_975x469.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;469&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!3AET!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3cb07f7e-9a74-4586-b2cf-793668b357d3_975x469.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!3AET!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3cb07f7e-9a74-4586-b2cf-793668b357d3_975x469.png 424w, https://substackcdn.com/image/fetch/$s_!3AET!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3cb07f7e-9a74-4586-b2cf-793668b357d3_975x469.png 848w, https://substackcdn.com/image/fetch/$s_!3AET!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3cb07f7e-9a74-4586-b2cf-793668b357d3_975x469.png 1272w, https://substackcdn.com/image/fetch/$s_!3AET!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3cb07f7e-9a74-4586-b2cf-793668b357d3_975x469.png 1456w&quot; width=&quot;975&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   EPYC 9355P can get close to theoretical memory bandwidth in any of the three NUMA nodes, as long as code keeps accesses within each node. NPS2 and NPS4 offer slightly better bandwidth, at the cost of requiring code to be NUMA aware. I tried to cause congestion on Infinity Fabric by having cores on each NUMA node access memory on another. That does lower achieved bandwidth, but not by a huge amount.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!ZwBS!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Feb124a60-3a1c-4557-8a24-e9da65562edd_975x288.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!ZwBS!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Feb124a60-3a1c-4557-8a24-e9da65562edd_975x288.png 424w, https://substackcdn.com/image/fetch/$s_!ZwBS!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Feb124a60-3a1c-4557-8a24-e9da65562edd_975x288.png 848w, https://substackcdn.com/image/fetch/$s_!ZwBS!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Feb124a60-3a1c-4557-8a24-e9da65562edd_975x288.png 1272w, https://substackcdn.com/image/fetch/$s_!ZwBS!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Feb124a60-3a1c-4557-8a24-e9da65562edd_975x288.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/eb124a60-3a1c-4557-8a24-e9da65562edd_975x288.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:288,&quot;width&quot;:975,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:102088,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/174871357?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Feb124a60-3a1c-4557-8a24-e9da65562edd_975x288.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;288&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!ZwBS!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Feb124a60-3a1c-4557-8a24-e9da65562edd_975x288.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!ZwBS!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Feb124a60-3a1c-4557-8a24-e9da65562edd_975x288.png 424w, https://substackcdn.com/image/fetch/$s_!ZwBS!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Feb124a60-3a1c-4557-8a24-e9da65562edd_975x288.png 848w, https://substackcdn.com/image/fetch/$s_!ZwBS!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Feb124a60-3a1c-4557-8a24-e9da65562edd_975x288.png 1272w, https://substackcdn.com/image/fetch/$s_!ZwBS!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Feb124a60-3a1c-4557-8a24-e9da65562edd_975x288.png 1456w&quot; width=&quot;975&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
    &lt;figcaption&gt;
     By C0M1, I mean cores on node 0 accessing memory on node 1
    &lt;/figcaption&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   An individual NPS4 node achieves 117.33 GB/s to its local memory pool, and just over 107 GB/s to the memory on the other three nodes. The bandwidth penalty is minor, but a bigger potential pitfall is lower bandwidth to each NUMA node’s memory pool. Two CCDs can draw more bandwidth than the three memory controllers they’re associated with. Manually distributing memory accesses across NUMA nodes can improve bandwidth for a workload contained within one NUMA node’s cores. But doing so in practice may be an intricate exercise.
  &lt;/p&gt;
  &lt;p&gt;
   In general, EPYC 9355P has very mild NUMA characteristics and little penalty associated with running the chip in NPS1 or NPS2 mode. I imagine just using NPS1 mode would work well enough in the vast majority of cases, with little performance to be gained from carrying out NUMA optimizations.
  &lt;/p&gt;
  &lt;h1&gt;
   Looking into GMI-Wide
  &lt;/h1&gt;
  &lt;p&gt;
   GMI-Wide is AMD’s attempt to address bandwidth pinch points between CCDs and the rest of the system. With GMI-Wide, a single CCD can achieve 99.8 GB/s of read bandwidth, significantly more than the 62.5 GB/s from a Ryzen 9 9900X CCD with GMI-Narrow. GMI-Wide also allows better latency control under high bandwidth load. The Ryzen 9 9900X suffers from a corner case where a single core pulling maximum bandwidth can saturate the GMI-Narrow link and starve out another latency sensitive thread. That sends latency to nearly 500 ns, as observed by a latency test thread sharing a CCD with a thread linearly traversing an array. Having more threads generate bandwidth load seems to make QoS mechanisms kick in, which slightly reduces bandwidth throughput but brings latency back under control.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!KTCF!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1a88e138-9963-4f94-99e7-64854c656bc8_975x529.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!KTCF!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1a88e138-9963-4f94-99e7-64854c656bc8_975x529.png 424w, https://substackcdn.com/image/fetch/$s_!KTCF!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1a88e138-9963-4f94-99e7-64854c656bc8_975x529.png 848w, https://substackcdn.com/image/fetch/$s_!KTCF!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1a88e138-9963-4f94-99e7-64854c656bc8_975x529.png 1272w, https://substackcdn.com/image/fetch/$s_!KTCF!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1a88e138-9963-4f94-99e7-64854c656bc8_975x529.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/1a88e138-9963-4f94-99e7-64854c656bc8_975x529.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:529,&quot;width&quot;:975,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:95917,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/174871357?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1a88e138-9963-4f94-99e7-64854c656bc8_975x529.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;529&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!KTCF!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1a88e138-9963-4f94-99e7-64854c656bc8_975x529.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!KTCF!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1a88e138-9963-4f94-99e7-64854c656bc8_975x529.png 424w, https://substackcdn.com/image/fetch/$s_!KTCF!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1a88e138-9963-4f94-99e7-64854c656bc8_975x529.png 848w, https://substackcdn.com/image/fetch/$s_!KTCF!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1a88e138-9963-4f94-99e7-64854c656bc8_975x529.png 1272w, https://substackcdn.com/image/fetch/$s_!KTCF!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1a88e138-9963-4f94-99e7-64854c656bc8_975x529.png 1456w&quot; width=&quot;975&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   &lt;span&gt;
    I previously wrote about loaded memory latency on the Ryzen 9 9950X when testing the system remotely, and
   &lt;/span&gt;
   &lt;a href=&quot;https://chipsandcheese.com/p/pushing-amds-infinity-fabric-to-its&quot; rel=&quot;&quot;&gt;
    thought it controlled latency well under high bandwidth load
   &lt;/a&gt;
   &lt;span&gt;
    . But back then, George (Cheese) set that system up with very fast DDR5-8000 along with a higher 2.2 GHz FCLK. A single core was likely unable to monopolize off-CCD bandwidth in that setup, avoiding the corner case seen on my system. GMI-Wide increases off-CCD bandwidth by a much larger extent and has a similar effect. Under increasing bandwidth load, GMI-WIde can both achieve more total bandwidth and control latency better than its desktop single-link counterpart.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!uZWd!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff08156e0-49a7-4913-a66a-b104c4f042f5_975x538.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!uZWd!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff08156e0-49a7-4913-a66a-b104c4f042f5_975x538.png 424w, https://substackcdn.com/image/fetch/$s_!uZWd!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff08156e0-49a7-4913-a66a-b104c4f042f5_975x538.png 848w, https://substackcdn.com/image/fetch/$s_!uZWd!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff08156e0-49a7-4913-a66a-b104c4f042f5_975x538.png 1272w, https://substackcdn.com/image/fetch/$s_!uZWd!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff08156e0-49a7-4913-a66a-b104c4f042f5_975x538.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/f08156e0-49a7-4913-a66a-b104c4f042f5_975x538.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:538,&quot;width&quot;:975,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:102239,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/174871357?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff08156e0-49a7-4913-a66a-b104c4f042f5_975x538.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;538&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!uZWd!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff08156e0-49a7-4913-a66a-b104c4f042f5_975x538.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!uZWd!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff08156e0-49a7-4913-a66a-b104c4f042f5_975x538.png 424w, https://substackcdn.com/image/fetch/$s_!uZWd!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff08156e0-49a7-4913-a66a-b104c4f042f5_975x538.png 848w, https://substackcdn.com/image/fetch/$s_!uZWd!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff08156e0-49a7-4913-a66a-b104c4f042f5_975x538.png 1272w, https://substackcdn.com/image/fetch/$s_!uZWd!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff08156e0-49a7-4913-a66a-b104c4f042f5_975x538.png 1456w&quot; width=&quot;975&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   A read-modify-write pattern gets maximum bandwidth from GMI-Wide by exercising both the read and write paths. It doesn’t scale perfectly, but it’s a substantial improvement over using only reads or writes. A Ryzen 9 9900X CCD can theoretically get 48B/cycle to the IO die with a 2:1 read-to-write ratio. I tried modifying every other cacheline to achieve this ratio, but didn’t get better bandwidth probably because the memory controller is limited by a 32B/cycle link to Infinity Fabric. However, mixing in writes does get rid of the single bandwidth thread corner case, possibly because a single thread doesn’t saturate the 32B/cycle read link when mixing reads and writes.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!388G!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F48763b64-244f-483b-a126-e9c079e52ee5_975x546.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!388G!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F48763b64-244f-483b-a126-e9c079e52ee5_975x546.png 424w, https://substackcdn.com/image/fetch/$s_!388G!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F48763b64-244f-483b-a126-e9c079e52ee5_975x546.png 848w, https://substackcdn.com/image/fetch/$s_!388G!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F48763b64-244f-483b-a126-e9c079e52ee5_975x546.png 1272w, https://substackcdn.com/image/fetch/$s_!388G!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F48763b64-244f-483b-a126-e9c079e52ee5_975x546.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/48763b64-244f-483b-a126-e9c079e52ee5_975x546.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:546,&quot;width&quot;:975,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:189525,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/174871357?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F48763b64-244f-483b-a126-e9c079e52ee5_975x546.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;546&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!388G!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F48763b64-244f-483b-a126-e9c079e52ee5_975x546.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!388G!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F48763b64-244f-483b-a126-e9c079e52ee5_975x546.png 424w, https://substackcdn.com/image/fetch/$s_!388G!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F48763b64-244f-483b-a126-e9c079e52ee5_975x546.png 848w, https://substackcdn.com/image/fetch/$s_!388G!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F48763b64-244f-483b-a126-e9c079e52ee5_975x546.png 1272w, https://substackcdn.com/image/fetch/$s_!388G!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F48763b64-244f-483b-a126-e9c079e52ee5_975x546.png 1456w&quot; width=&quot;975&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
    &lt;figcaption&gt;
     AMD’s slide shown for Zen 4 Desktop. Zen 5 Desktop uses the same IO die, and thus has the same Infinity Fabric setup
    &lt;/figcaption&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   On the desktop platform, latency under high load gets worse possibly because writes contend with reads at the DRAM controller. The DDR bus is unidirectional, and must waste cycles on “turnarounds” to switch between read and write mode. Bandwidth isn’t affected, probably because the Infinity Fabric bottleneck leaves spare cycles at the memory controller, which can absorb those turnarounds. However, reads from the latency test thread may be delayed while the memory controller drains writes before switching the bus back to read mode.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!R21G!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0b3ef84b-2970-400a-a509-5811a97b1746_975x590.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!R21G!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0b3ef84b-2970-400a-a509-5811a97b1746_975x590.png 424w, https://substackcdn.com/image/fetch/$s_!R21G!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0b3ef84b-2970-400a-a509-5811a97b1746_975x590.png 848w, https://substackcdn.com/image/fetch/$s_!R21G!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0b3ef84b-2970-400a-a509-5811a97b1746_975x590.png 1272w, https://substackcdn.com/image/fetch/$s_!R21G!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0b3ef84b-2970-400a-a509-5811a97b1746_975x590.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/0b3ef84b-2970-400a-a509-5811a97b1746_975x590.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:590,&quot;width&quot;:975,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:103650,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/174871357?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0b3ef84b-2970-400a-a509-5811a97b1746_975x590.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;590&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!R21G!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0b3ef84b-2970-400a-a509-5811a97b1746_975x590.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!R21G!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0b3ef84b-2970-400a-a509-5811a97b1746_975x590.png 424w, https://substackcdn.com/image/fetch/$s_!R21G!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0b3ef84b-2970-400a-a509-5811a97b1746_975x590.png 848w, https://substackcdn.com/image/fetch/$s_!R21G!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0b3ef84b-2970-400a-a509-5811a97b1746_975x590.png 1272w, https://substackcdn.com/image/fetch/$s_!R21G!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0b3ef84b-2970-400a-a509-5811a97b1746_975x590.png 1456w&quot; width=&quot;975&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   On the EPYC 9355P in NPS1 mode, bandwidth demands from a single GMI-Wide CCD leave plenty of spare cycles across the 12 memory controllers, so there’s little latency or bandwidth penalty when mixing reads and writes. The same isn’t true in NPS4 mode, where a GMI-Wide link can outmatch a NPS4 node’s three memory controllers. Everything’s fine with just reads, which actually benefit possibly because of lower latency and not having to traverse as much of the IO die. But with a read-modify-write pattern, bandwidth drops from 134 GB/s in NPS1 mode to 96.6 GB/s with NPS4. Latency gets worse too, rising to 248 ns. Again, NPS4 is something to be careful with, particularly if applications might require high bandwidth from a small subset of cores.
  &lt;/p&gt;
  &lt;h1&gt;
   SPEC CPU2017
  &lt;/h1&gt;
  &lt;p&gt;
   From a single thread perspective, the EPYC 9355P falls some distance behind the Ryzen 9 9900X. Desktop CPUs are designed around single threaded performance, so that’s to be expected. But with boost turned off on the desktop CPU to match clock speeds, performance is surprisingly close. Higher memory latency still hurts the EPYC 9355P, but it’s within striking distance.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!S4dS!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F56176f96-0c6f-465b-9c2c-7b927fe48aaa_975x583.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!S4dS!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F56176f96-0c6f-465b-9c2c-7b927fe48aaa_975x583.png 424w, https://substackcdn.com/image/fetch/$s_!S4dS!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F56176f96-0c6f-465b-9c2c-7b927fe48aaa_975x583.png 848w, https://substackcdn.com/image/fetch/$s_!S4dS!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F56176f96-0c6f-465b-9c2c-7b927fe48aaa_975x583.png 1272w, https://substackcdn.com/image/fetch/$s_!S4dS!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F56176f96-0c6f-465b-9c2c-7b927fe48aaa_975x583.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/56176f96-0c6f-465b-9c2c-7b927fe48aaa_975x583.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:583,&quot;width&quot;:975,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:102023,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/174871357?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F56176f96-0c6f-465b-9c2c-7b927fe48aaa_975x583.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;583&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!S4dS!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F56176f96-0c6f-465b-9c2c-7b927fe48aaa_975x583.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!S4dS!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F56176f96-0c6f-465b-9c2c-7b927fe48aaa_975x583.png 424w, https://substackcdn.com/image/fetch/$s_!S4dS!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F56176f96-0c6f-465b-9c2c-7b927fe48aaa_975x583.png 848w, https://substackcdn.com/image/fetch/$s_!S4dS!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F56176f96-0c6f-465b-9c2c-7b927fe48aaa_975x583.png 1272w, https://substackcdn.com/image/fetch/$s_!S4dS!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F56176f96-0c6f-465b-9c2c-7b927fe48aaa_975x583.png 1456w&quot; width=&quot;975&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   NUMA modes barely make any difference. NPS4 technically wins, but by an insignificant margin. The latency advantage was barely measurable anyway. Compared to the more density optimized Graviton 4 and Xeon 6 6975P-C, the EPYC 9355P delivers noticeably better single threaded performance.
  &lt;/p&gt;
  &lt;p&gt;
   CCD-level bandwidth pinch points are worth a look too, since that’s traditionally been a distinguishing factor between AMD’s EPYC and more logically monolithic designs. Here, I’m filling a quad core CCD by running SPEC CPU2017’s rate tests with eight copies. I did the same on the Ryzen 9 9900X, pinning the eight copies to four cores and leaving the CCD’s other two cores unused. I bound the test to a single NUMA node on all tested setups.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!W9Bj!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fec837352-d5f8-42bf-aa2e-07f4f4fdfa74_975x585.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!W9Bj!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fec837352-d5f8-42bf-aa2e-07f4f4fdfa74_975x585.png 424w, https://substackcdn.com/image/fetch/$s_!W9Bj!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fec837352-d5f8-42bf-aa2e-07f4f4fdfa74_975x585.png 848w, https://substackcdn.com/image/fetch/$s_!W9Bj!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fec837352-d5f8-42bf-aa2e-07f4f4fdfa74_975x585.png 1272w, https://substackcdn.com/image/fetch/$s_!W9Bj!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fec837352-d5f8-42bf-aa2e-07f4f4fdfa74_975x585.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/ec837352-d5f8-42bf-aa2e-07f4f4fdfa74_975x585.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:585,&quot;width&quot;:975,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:76855,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/174871357?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fec837352-d5f8-42bf-aa2e-07f4f4fdfa74_975x585.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;585&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!W9Bj!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fec837352-d5f8-42bf-aa2e-07f4f4fdfa74_975x585.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!W9Bj!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fec837352-d5f8-42bf-aa2e-07f4f4fdfa74_975x585.png 424w, https://substackcdn.com/image/fetch/$s_!W9Bj!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fec837352-d5f8-42bf-aa2e-07f4f4fdfa74_975x585.png 848w, https://substackcdn.com/image/fetch/$s_!W9Bj!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fec837352-d5f8-42bf-aa2e-07f4f4fdfa74_975x585.png 1272w, https://substackcdn.com/image/fetch/$s_!W9Bj!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fec837352-d5f8-42bf-aa2e-07f4f4fdfa74_975x585.png 1456w&quot; width=&quot;975&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   &lt;span&gt;
    SPEC’s floating point suite starts to tell a different story now. Several tests within the floating point suite are bandwidth hungry even from a single core. 549.fotonik3d for example pulled 28.23 GB/s from Meteor Lake’s memory controller
   &lt;/span&gt;
   &lt;a href=&quot;https://chipsandcheese.com/p/running-spec-cpu2017-at-chips-and-cheese&quot; rel=&quot;&quot;&gt;
    when I first went through SPEC CPU2017’s tests
   &lt;/a&gt;
   &lt;span&gt;
    . Running eight copies in parallel would multiply memory bandwidth demands, and that’s where server memory subsystems shine.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!5l58!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F44331b3c-ed06-4b9e-ba70-db7d7d34815e_975x585.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!5l58!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F44331b3c-ed06-4b9e-ba70-db7d7d34815e_975x585.png 424w, https://substackcdn.com/image/fetch/$s_!5l58!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F44331b3c-ed06-4b9e-ba70-db7d7d34815e_975x585.png 848w, https://substackcdn.com/image/fetch/$s_!5l58!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F44331b3c-ed06-4b9e-ba70-db7d7d34815e_975x585.png 1272w, https://substackcdn.com/image/fetch/$s_!5l58!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F44331b3c-ed06-4b9e-ba70-db7d7d34815e_975x585.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/44331b3c-ed06-4b9e-ba70-db7d7d34815e_975x585.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:585,&quot;width&quot;:975,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:74605,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/174871357?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F44331b3c-ed06-4b9e-ba70-db7d7d34815e_975x585.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;585&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!5l58!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F44331b3c-ed06-4b9e-ba70-db7d7d34815e_975x585.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!5l58!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F44331b3c-ed06-4b9e-ba70-db7d7d34815e_975x585.png 424w, https://substackcdn.com/image/fetch/$s_!5l58!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F44331b3c-ed06-4b9e-ba70-db7d7d34815e_975x585.png 848w, https://substackcdn.com/image/fetch/$s_!5l58!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F44331b3c-ed06-4b9e-ba70-db7d7d34815e_975x585.png 1272w, https://substackcdn.com/image/fetch/$s_!5l58!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F44331b3c-ed06-4b9e-ba70-db7d7d34815e_975x585.png 1456w&quot; width=&quot;975&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   In 549.fotonik3d, high bandwidth demands make the Ryzen 9 9900X’s unloaded latency advantage irrelevant. The 9900X even loses to Redwood Cove cores on Xeon 6. The EPYC 9355P does very well in this test against both the 9900X and Xeon 6. Intel’s interconnect strategy tries to keep the chip logically monolithic and doesn’t have pinch points at cluster boundaries. But each core on Xeon 6 can only get to ~33 GB/s of DRAM bandwidth at best, using an even mix of reads and writes. AMD’s GMI-Wide can more than match that, and Intel’s advantage doesn’t show through in this scenario. However, Intel does have a potential advantage against more density focused AMD SKUs where eight cores sit in front of a narrower link.
  &lt;/p&gt;
  &lt;p&gt;
   NPS4 is also detrimental to the EPYC 9355P’s performance in this test. It only provides a minimal latency benefit at the cost of lower per-node bandwidth. The bandwidth part seems to hurt here, and taking the extra latency of striping accesses across 6 or 12 memory controllers gives a notable performance improvement.
  &lt;/p&gt;
  &lt;h1&gt;
   Final Words
  &lt;/h1&gt;
  &lt;p&gt;
   Core count isn’t the last word in server design. A lot of scenarios are better served by lower core count parts. Applications might not scale to fill a high core count chip. Bandwidth bound workloads might not benefit from adding cores. Traditionally lower core count server chips just traded core counts for higher clock speeds. Today, chips like the EPYC 9355P do a bit more, using both wider CCD-to-IOD links and more cache to maximize per-core performance.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!7uUJ!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff0c58c9a-c90f-4452-8dda-c6d3b5fff36d_975x544.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!7uUJ!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff0c58c9a-c90f-4452-8dda-c6d3b5fff36d_975x544.png 424w, https://substackcdn.com/image/fetch/$s_!7uUJ!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff0c58c9a-c90f-4452-8dda-c6d3b5fff36d_975x544.png 848w, https://substackcdn.com/image/fetch/$s_!7uUJ!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff0c58c9a-c90f-4452-8dda-c6d3b5fff36d_975x544.png 1272w, https://substackcdn.com/image/fetch/$s_!7uUJ!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff0c58c9a-c90f-4452-8dda-c6d3b5fff36d_975x544.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/f0c58c9a-c90f-4452-8dda-c6d3b5fff36d_975x544.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:544,&quot;width&quot;:975,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:334371,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/174871357?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff0c58c9a-c90f-4452-8dda-c6d3b5fff36d_975x544.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;544&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!7uUJ!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff0c58c9a-c90f-4452-8dda-c6d3b5fff36d_975x544.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!7uUJ!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff0c58c9a-c90f-4452-8dda-c6d3b5fff36d_975x544.png 424w, https://substackcdn.com/image/fetch/$s_!7uUJ!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff0c58c9a-c90f-4452-8dda-c6d3b5fff36d_975x544.png 848w, https://substackcdn.com/image/fetch/$s_!7uUJ!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff0c58c9a-c90f-4452-8dda-c6d3b5fff36d_975x544.png 1272w, https://substackcdn.com/image/fetch/$s_!7uUJ!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff0c58c9a-c90f-4452-8dda-c6d3b5fff36d_975x544.png 1456w&quot; width=&quot;975&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Looking at EPYC 9355P’s NUMA characteristics reveals very consistent memory performance across NUMA modes. Intel’s Xeon 6 may be more monolithic from a caching point of view, but AMD’s DRAM access performance feels more monolithic than Intel’s. AMD made a tradeoff back in the Zen 2 days where they took lower local memory latency in exchange for more even memory performance across the socket. Measured latencies on EPYC 9355P are a bit higher than figures on the Zen 2 slide above. DDR5 is higher latency, and the Infinity Fabric topology is probably more complex these days to handle more CCDs and memory channels.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!4Rh7!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbdbeb54c-c11b-44fb-8398-9a70ce800e06_975x525.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!4Rh7!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbdbeb54c-c11b-44fb-8398-9a70ce800e06_975x525.png 424w, https://substackcdn.com/image/fetch/$s_!4Rh7!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbdbeb54c-c11b-44fb-8398-9a70ce800e06_975x525.png 848w, https://substackcdn.com/image/fetch/$s_!4Rh7!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbdbeb54c-c11b-44fb-8398-9a70ce800e06_975x525.png 1272w, https://substackcdn.com/image/fetch/$s_!4Rh7!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbdbeb54c-c11b-44fb-8398-9a70ce800e06_975x525.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/bdbeb54c-c11b-44fb-8398-9a70ce800e06_975x525.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:525,&quot;width&quot;:975,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:567064,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/174871357?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbdbeb54c-c11b-44fb-8398-9a70ce800e06_975x525.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;525&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!4Rh7!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbdbeb54c-c11b-44fb-8398-9a70ce800e06_975x525.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!4Rh7!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbdbeb54c-c11b-44fb-8398-9a70ce800e06_975x525.png 424w, https://substackcdn.com/image/fetch/$s_!4Rh7!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbdbeb54c-c11b-44fb-8398-9a70ce800e06_975x525.png 848w, https://substackcdn.com/image/fetch/$s_!4Rh7!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbdbeb54c-c11b-44fb-8398-9a70ce800e06_975x525.png 1272w, https://substackcdn.com/image/fetch/$s_!4Rh7!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbdbeb54c-c11b-44fb-8398-9a70ce800e06_975x525.png 1456w&quot; width=&quot;975&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
    &lt;figcaption&gt;
     From the AMD EPYC 9005 Processor Architecture Overview
    &lt;/figcaption&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   But the big picture remains. AMD’s Turin platform handles well in NPS1 mode, and cross-node penalties are low in NPS2/NPS4 modes. Those characteristics likely carry over across the Zen 5 EPYC SKU stack. It’s quite different from Intel’s Xeon 6 platform, which places memory controllers on compute dies like Zen 1 did. For now, AMD’s approach seems to be better at the DRAM level. Intel’s theoretical latency advantage in SNC3 mode doesn’t show through, and AMD gets to reap the benefits of a hub-and-spoke model while not getting hit where it should have downsides.
  &lt;/p&gt;
  &lt;p&gt;
   AMD seems to have found a good formula back in the Zen 2 days, and they’re content with reinforcing success. Intel is furiously iterating to find a setup that preserves a single level, logically monolithic interconnect while scaling well across a range of core counts. And of course, there’s Arm chips, which generally lean towards a single level monolithic interconnect too. It’ll be interesting to watch what all of these players do going forward as they continue to iterate and refine their designs.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!Vt3F!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fec50b5cd-e0f1-4c05-9c6f-a9fa59889fbf_975x250.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!Vt3F!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fec50b5cd-e0f1-4c05-9c6f-a9fa59889fbf_975x250.png 424w, https://substackcdn.com/image/fetch/$s_!Vt3F!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fec50b5cd-e0f1-4c05-9c6f-a9fa59889fbf_975x250.png 848w, https://substackcdn.com/image/fetch/$s_!Vt3F!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fec50b5cd-e0f1-4c05-9c6f-a9fa59889fbf_975x250.png 1272w, https://substackcdn.com/image/fetch/$s_!Vt3F!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fec50b5cd-e0f1-4c05-9c6f-a9fa59889fbf_975x250.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/ec50b5cd-e0f1-4c05-9c6f-a9fa59889fbf_975x250.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:250,&quot;width&quot;:975,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:409739,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/174871357?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fec50b5cd-e0f1-4c05-9c6f-a9fa59889fbf_975x250.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;250&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!Vt3F!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fec50b5cd-e0f1-4c05-9c6f-a9fa59889fbf_975x250.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!Vt3F!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fec50b5cd-e0f1-4c05-9c6f-a9fa59889fbf_975x250.png 424w, https://substackcdn.com/image/fetch/$s_!Vt3F!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fec50b5cd-e0f1-4c05-9c6f-a9fa59889fbf_975x250.png 848w, https://substackcdn.com/image/fetch/$s_!Vt3F!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fec50b5cd-e0f1-4c05-9c6f-a9fa59889fbf_975x250.png 1272w, https://substackcdn.com/image/fetch/$s_!Vt3F!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fec50b5cd-e0f1-4c05-9c6f-a9fa59889fbf_975x250.png 1456w&quot; width=&quot;975&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
    &lt;figcaption&gt;
     A big thanks to Zach from ZeroOne Technology for taking pictures of the system in the rack!
    &lt;/figcaption&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   &lt;span&gt;
    And again, we’d like to thank both Dell and ZeroOne for, respectively, providing and hosting this PowerEdge R6715 without both of whom this article wouldn’t have been possible. If you like the content then consider heading over to the
   &lt;/span&gt;
   &lt;a href=&quot;https://www.patreon.com/ChipsandCheese&quot; rel=&quot;&quot;&gt;
    Patreon
   &lt;/a&gt;
   &lt;span&gt;
    or
   &lt;/span&gt;
   &lt;a href=&quot;https://www.paypal.com/donate/?hosted_button_id=4EMPH66SBGVSQ&quot; rel=&quot;&quot;&gt;
    PayPal
   &lt;/a&gt;
   &lt;span&gt;
    if you want to toss a few bucks to Chips and Cheese. Also consider joining the
   &lt;/span&gt;
   &lt;a href=&quot;https://discord.gg/TwVnRhxgY2&quot; rel=&quot;&quot;&gt;
    Discord
   &lt;/a&gt;
   &lt;span&gt;
    .
   &lt;/span&gt;
  &lt;/p&gt;
 &lt;/div&gt;
&lt;/div&gt;

</description>
</item>
<item>
<title> A Look into Intel Xeon 6’s Memory Subsystem </title>
<link>https://chipsandcheese.com/p/a-look-into-intel-xeon-6s-memory</link>
<pubDate>Fri, 26 Sep 2025 16:43:45 -0000</pubDate>
<description>
&lt;div&gt;
 &lt;div dir=&quot;auto&quot;&gt;
  &lt;p&gt;
   Intel’s server dominance has been shaken by high core count competition from the likes of AMD and Arm. Xeon 6, Intel’s latest server platform, aims to address this with a more scalable chiplet strategy. Chiplets are now arranged side by side, with IO chiplets on either side of the chip. It’s reminiscent of the arrangement Huawei used for Kunpeng 920, but apparently without the uniform chiplet height restrictions of Huawei’s design. Intel also scales up to three compute dies, as opposed to a maximum of two on Kunpeng 920.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!WyCJ!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F71f0ede5-5747-4b68-b252-15d55c7e7fc1_752x322.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!WyCJ!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F71f0ede5-5747-4b68-b252-15d55c7e7fc1_752x322.png 424w, https://substackcdn.com/image/fetch/$s_!WyCJ!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F71f0ede5-5747-4b68-b252-15d55c7e7fc1_752x322.png 848w, https://substackcdn.com/image/fetch/$s_!WyCJ!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F71f0ede5-5747-4b68-b252-15d55c7e7fc1_752x322.png 1272w, https://substackcdn.com/image/fetch/$s_!WyCJ!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F71f0ede5-5747-4b68-b252-15d55c7e7fc1_752x322.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/71f0ede5-5747-4b68-b252-15d55c7e7fc1_752x322.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:322,&quot;width&quot;:752,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:false,&quot;topImage&quot;:true,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; fetchpriority=&quot;high&quot; height=&quot;322&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!WyCJ!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F71f0ede5-5747-4b68-b252-15d55c7e7fc1_752x322.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!WyCJ!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F71f0ede5-5747-4b68-b252-15d55c7e7fc1_752x322.png 424w, https://substackcdn.com/image/fetch/$s_!WyCJ!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F71f0ede5-5747-4b68-b252-15d55c7e7fc1_752x322.png 848w, https://substackcdn.com/image/fetch/$s_!WyCJ!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F71f0ede5-5747-4b68-b252-15d55c7e7fc1_752x322.png 1272w, https://substackcdn.com/image/fetch/$s_!WyCJ!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F71f0ede5-5747-4b68-b252-15d55c7e7fc1_752x322.png 1456w&quot; width=&quot;752&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Compared to Emerald Rapids and Granite Rapids, Xeon 6 uses a more aggressive chiplet strategy. Lower speed IO and accelerators get moved to separate IO dies. Compute dies contain just cores and DRAM controllers, and use the advanced Intel 3 process. The largest Xeon 6 SKUs incorporate three compute dies and two IO dies, scaling up to 128 cores per socket. It’s a huge core count increase from the two prior generations.
  &lt;/p&gt;
  &lt;p&gt;
   AWS has Xeon 6 instances generally available with their r8i virtual machine type, providing an opportunity to check out Intel’s latest chiplet design from a software performance perspective. This will be a short look. Renting a large cloud instance for more detailed testing is prohibitively expensive.
  &lt;/p&gt;
  &lt;h1&gt;
   System Overview
  &lt;/h1&gt;
  &lt;p&gt;
   &lt;span&gt;
    AWS’s r8i instance uses the Xeon 6 6985P-C. This SKU is not listed on Intel’s site or other documentation, so a brief overview of the chip is in order. The Xeon 6 6985P-C has 96 Redwood Cove cores that clock up to 3.9 GHz, and each have 2 MB of L2 cache. Redwood Cove is a tweaked version of Intel’s Golden Cove/Raptor Cove, and has previously featured on Intel’s Meteor Lake client platform. Redwood Cove brings a larger 64 KB L1 instruction cache among other improvements discussed
   &lt;/span&gt;
   &lt;a href=&quot;https://chipsandcheese.com/p/intels-redwood-cove-baby-steps-are-still-steps&quot; rel=&quot;&quot;&gt;
    in another article
   &lt;/a&gt;
   &lt;span&gt;
    . Unlike their Meteor Lake counterparts, Xeon 6’s Redwood Cove cores enjoy AVX-512 support with 2x 512-bit FMA units, and 2x512-bit load + 1x512-bit store throughput to the L1 data cache. AMX support is present as well, providing specialized matrix multiplication instructions to accelerate machine learning applications.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!U_-e!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F660e79f5-90fb-4945-bf4c-e32cbcd9db16_1271x714.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!U_-e!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F660e79f5-90fb-4945-bf4c-e32cbcd9db16_1271x714.png 424w, https://substackcdn.com/image/fetch/$s_!U_-e!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F660e79f5-90fb-4945-bf4c-e32cbcd9db16_1271x714.png 848w, https://substackcdn.com/image/fetch/$s_!U_-e!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F660e79f5-90fb-4945-bf4c-e32cbcd9db16_1271x714.png 1272w, https://substackcdn.com/image/fetch/$s_!U_-e!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F660e79f5-90fb-4945-bf4c-e32cbcd9db16_1271x714.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/660e79f5-90fb-4945-bf4c-e32cbcd9db16_1271x714.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:714,&quot;width&quot;:1271,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:false,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;714&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!U_-e!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F660e79f5-90fb-4945-bf4c-e32cbcd9db16_1271x714.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!U_-e!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F660e79f5-90fb-4945-bf4c-e32cbcd9db16_1271x714.png 424w, https://substackcdn.com/image/fetch/$s_!U_-e!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F660e79f5-90fb-4945-bf4c-e32cbcd9db16_1271x714.png 848w, https://substackcdn.com/image/fetch/$s_!U_-e!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F660e79f5-90fb-4945-bf4c-e32cbcd9db16_1271x714.png 1272w, https://substackcdn.com/image/fetch/$s_!U_-e!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F660e79f5-90fb-4945-bf4c-e32cbcd9db16_1271x714.png 1456w&quot; width=&quot;1271&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Xeon 6 uses a mesh interconnect like prior Intel server chips. Cores share a mesh stop with a CHA (Caching/Home Agent), which incorporates a L3 cache slice and a snoop filter. The Xeon 6 6985P-C has 120 CHA instances running at 2.2 GHz, providing 480 MB of total L3 across the chip. CHA count interestingly doesn’t match enabled core count. Intel may be able to harvest cores without disabling the associated cache slice, as they had to do on some older generations.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!ziyl!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb5abe485-299d-4161-9092-32c331e42ba9_1276x719.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!ziyl!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb5abe485-299d-4161-9092-32c331e42ba9_1276x719.png 424w, https://substackcdn.com/image/fetch/$s_!ziyl!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb5abe485-299d-4161-9092-32c331e42ba9_1276x719.png 848w, https://substackcdn.com/image/fetch/$s_!ziyl!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb5abe485-299d-4161-9092-32c331e42ba9_1276x719.png 1272w, https://substackcdn.com/image/fetch/$s_!ziyl!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb5abe485-299d-4161-9092-32c331e42ba9_1276x719.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/b5abe485-299d-4161-9092-32c331e42ba9_1276x719.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:719,&quot;width&quot;:1276,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:false,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;719&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!ziyl!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb5abe485-299d-4161-9092-32c331e42ba9_1276x719.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!ziyl!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb5abe485-299d-4161-9092-32c331e42ba9_1276x719.png 424w, https://substackcdn.com/image/fetch/$s_!ziyl!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb5abe485-299d-4161-9092-32c331e42ba9_1276x719.png 848w, https://substackcdn.com/image/fetch/$s_!ziyl!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb5abe485-299d-4161-9092-32c331e42ba9_1276x719.png 1272w, https://substackcdn.com/image/fetch/$s_!ziyl!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb5abe485-299d-4161-9092-32c331e42ba9_1276x719.png 1456w&quot; width=&quot;1276&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   The mesh runs across die boundaries to keep things logically monolithic. Modular Data Fabric (MDF) mesh stops sit at die edges where dies meet with their neighbors. They handle the logical layer of the mesh protocol, much like how IFOP blocks on AMD chips encode the Infinity Fabric protocol for transport between dies. The physical signals on Xeon 6 run over Intel’s EMIB technology, which uses an embedded silicon bridge between dies. The Xeon 6 6985P-C has 80 MDF stops running at 2.5 GHz. Intel hasn’t published documents detailing Xeon 6’s mesh layout. One possibility is that 10 MDF stops sit at each side of a die boundary.
  &lt;/p&gt;
  &lt;p&gt;
   Intel places memory controllers at the short edge of the compute dies. The largest Xeon 6 SKUs have 12 memory controllers, or four per compute die. The Xeon 6 6985P-C falls into that category. AWS equipped the Xeon 6 6985P-C with 1.5 TB of Micron DDR5-7200 per socket. I couldn’t find the part number (MTC40F2047S1RC72BF1001 25FF) anywhere, but it’s certainly very fast DDR5 for a server platform. AWS has further configured the chip in SNC3 mode. SNC stands for sub-NUMA clustering, and divides the chip into three NUMA nodes. Doing so partitions the physical address space into three portions, each backed by the DRAM controllers and L3 cache on their respective compute dies. That maintains affinity between the cores, cache, and memory controllers on each die, reducing latency as long as cores access the physical memory backed by memory controllers on the same die. Xeon 6 also supports a unified mode where all of the attached DRAM is exposed in one NUMA node, with accesses striped across all of the chip’s memory controllers and L3 slices. However, SNC3 mode is what AWS chose, and is also Intel’s default mode.
  &lt;/p&gt;
  &lt;h1&gt;
   Cache and Memory Latency
  &lt;/h1&gt;
  &lt;p&gt;
   Xeon 6’s Redwood Cove cores have the same 5 cycle L1D and 16 cycle L2 latencies as their Meteor Lake counterparts, though the server part’s lower clock speeds mean higher actual latencies. Memory subsystem characteristics diverge at the L3 cache, which has a latency of just over 33 ns (~130 cycles). In exchange for higher latency, each core is able to access a huge 160 MB pool of L3 cache on its tile.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!CQ3W!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff44a7854-9704-4e3d-8253-7704e6844f7b_1600x882.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!CQ3W!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff44a7854-9704-4e3d-8253-7704e6844f7b_1600x882.png 424w, https://substackcdn.com/image/fetch/$s_!CQ3W!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff44a7854-9704-4e3d-8253-7704e6844f7b_1600x882.png 848w, https://substackcdn.com/image/fetch/$s_!CQ3W!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff44a7854-9704-4e3d-8253-7704e6844f7b_1600x882.png 1272w, https://substackcdn.com/image/fetch/$s_!CQ3W!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff44a7854-9704-4e3d-8253-7704e6844f7b_1600x882.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/f44a7854-9704-4e3d-8253-7704e6844f7b_1600x882.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:803,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;803&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!CQ3W!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff44a7854-9704-4e3d-8253-7704e6844f7b_1600x882.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!CQ3W!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff44a7854-9704-4e3d-8253-7704e6844f7b_1600x882.png 424w, https://substackcdn.com/image/fetch/$s_!CQ3W!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff44a7854-9704-4e3d-8253-7704e6844f7b_1600x882.png 848w, https://substackcdn.com/image/fetch/$s_!CQ3W!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff44a7854-9704-4e3d-8253-7704e6844f7b_1600x882.png 1272w, https://substackcdn.com/image/fetch/$s_!CQ3W!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff44a7854-9704-4e3d-8253-7704e6844f7b_1600x882.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   L3 latency regresses slightly compared to Emerald Rapids. It’s concerning because the Emerald Rapids Xeon Platinum 8559C chips in AWS’s i7i instances do not use SNC. Thus each core in Emerald Rapids sees the full 320 MB of L3 as a logically monolithic cache, and L3 accesses are distributed across both chiplets. The same applies to DRAM accesses. Emerald Rapids achieves lower latency to its DDR5-5600 Hynix memory (HMCGM4MGBRB240N).
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!hC4l!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F30e3a58b-7a46-4510-9689-ade2376be99c_1600x799.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!hC4l!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F30e3a58b-7a46-4510-9689-ade2376be99c_1600x799.png 424w, https://substackcdn.com/image/fetch/$s_!hC4l!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F30e3a58b-7a46-4510-9689-ade2376be99c_1600x799.png 848w, https://substackcdn.com/image/fetch/$s_!hC4l!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F30e3a58b-7a46-4510-9689-ade2376be99c_1600x799.png 1272w, https://substackcdn.com/image/fetch/$s_!hC4l!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F30e3a58b-7a46-4510-9689-ade2376be99c_1600x799.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/30e3a58b-7a46-4510-9689-ade2376be99c_1600x799.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:727,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;727&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!hC4l!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F30e3a58b-7a46-4510-9689-ade2376be99c_1600x799.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!hC4l!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F30e3a58b-7a46-4510-9689-ade2376be99c_1600x799.png 424w, https://substackcdn.com/image/fetch/$s_!hC4l!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F30e3a58b-7a46-4510-9689-ade2376be99c_1600x799.png 848w, https://substackcdn.com/image/fetch/$s_!hC4l!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F30e3a58b-7a46-4510-9689-ade2376be99c_1600x799.png 1272w, https://substackcdn.com/image/fetch/$s_!hC4l!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F30e3a58b-7a46-4510-9689-ade2376be99c_1600x799.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Compared to Sapphire Rapids, Xeon 6’s L3 is a straightforward upgrade with higher capacity at similar latency. DRAM latency is still a bit worse on Xeon 6 though. Intel showed a slide at Hot Chips 2023 about multiplexed combined rank DIMMs (MCRDIMMs). These replace the buffer on regular RDIMMs with a multiplexer, which has a faster link to the CPU. Intel can drive that mux to CPU channel at 8800 MT/s, and the 7200 MT/s on AWS’s platform is not far off that. Perhaps it’s really two 3600 MT/s ranks under the hood, providing bandwidth benefits but not necessarily latency benefits.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!ZVd1!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6bab1557-d3c2-4aac-845e-2ead85ee1a9a_1217x684.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!ZVd1!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6bab1557-d3c2-4aac-845e-2ead85ee1a9a_1217x684.png 424w, https://substackcdn.com/image/fetch/$s_!ZVd1!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6bab1557-d3c2-4aac-845e-2ead85ee1a9a_1217x684.png 848w, https://substackcdn.com/image/fetch/$s_!ZVd1!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6bab1557-d3c2-4aac-845e-2ead85ee1a9a_1217x684.png 1272w, https://substackcdn.com/image/fetch/$s_!ZVd1!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6bab1557-d3c2-4aac-845e-2ead85ee1a9a_1217x684.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/6bab1557-d3c2-4aac-845e-2ead85ee1a9a_1217x684.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:684,&quot;width&quot;:1217,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;684&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!ZVd1!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6bab1557-d3c2-4aac-845e-2ead85ee1a9a_1217x684.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!ZVd1!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6bab1557-d3c2-4aac-845e-2ead85ee1a9a_1217x684.png 424w, https://substackcdn.com/image/fetch/$s_!ZVd1!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6bab1557-d3c2-4aac-845e-2ead85ee1a9a_1217x684.png 848w, https://substackcdn.com/image/fetch/$s_!ZVd1!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6bab1557-d3c2-4aac-845e-2ead85ee1a9a_1217x684.png 1272w, https://substackcdn.com/image/fetch/$s_!ZVd1!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6bab1557-d3c2-4aac-845e-2ead85ee1a9a_1217x684.png 1456w&quot; width=&quot;1217&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Next to AMD’s Zen 5 server platform, codenamed Turin, Xeon 6 continues to use larger but slower caches. Intel’s large L2 helps mitigate L3 latency, letting Intel use a larger L2 shared across more cores. AMD’s L3 is higher performance, but is also smaller and only shared across eight cores. That translates to less efficient SRAM capacity usage across the chip, because data may be duplicated in different L3 cache instances. For low threaded workloads, AMD may also be at a disadvantage because a single core can only allocate into its local 32 MB L3 block, even though the chip may have hundreds of megabytes of total L3. Even if AMD extends each CCD’s L3 with 3D stacking (VCache), 96 MB is still less than Intel’s 160 MB.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!XQhm!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Faf67e533-ede2-456f-95e0-d6e840eba696_1508x776.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!XQhm!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Faf67e533-ede2-456f-95e0-d6e840eba696_1508x776.png 424w, https://substackcdn.com/image/fetch/$s_!XQhm!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Faf67e533-ede2-456f-95e0-d6e840eba696_1508x776.png 848w, https://substackcdn.com/image/fetch/$s_!XQhm!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Faf67e533-ede2-456f-95e0-d6e840eba696_1508x776.png 1272w, https://substackcdn.com/image/fetch/$s_!XQhm!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Faf67e533-ede2-456f-95e0-d6e840eba696_1508x776.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/af67e533-ede2-456f-95e0-d6e840eba696_1508x776.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:749,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;749&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!XQhm!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Faf67e533-ede2-456f-95e0-d6e840eba696_1508x776.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!XQhm!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Faf67e533-ede2-456f-95e0-d6e840eba696_1508x776.png 424w, https://substackcdn.com/image/fetch/$s_!XQhm!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Faf67e533-ede2-456f-95e0-d6e840eba696_1508x776.png 848w, https://substackcdn.com/image/fetch/$s_!XQhm!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Faf67e533-ede2-456f-95e0-d6e840eba696_1508x776.png 1272w, https://substackcdn.com/image/fetch/$s_!XQhm!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Faf67e533-ede2-456f-95e0-d6e840eba696_1508x776.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Memory latency on AMD’s platform is 125.6 ns, higher than Emerald Rapids but better than Xeon 6. For this test, the AMD system was set up in NPS1 mode, which distributes accesses across all of the chip’s 12 memory controllers. It’s not the most latency optimized mode, and it’s concerning that AMD achieves better memory latency without having to contain memory accesses in smaller divisions.
  &lt;/p&gt;
  &lt;h2&gt;
   Bandwidth
  &lt;/h2&gt;
  &lt;p&gt;
   Xeon 6’s core-private caches provide high bandwidth with AVX-512 loads. A single core has about 30 GB/s of L3 bandwidth, just under what Emerald Rapids could achieve. A read-modify-write pattern nearly doubles L3 bandwidth, much like it does on AMD’s Zen line. On Zen, that’s due to implementation details in the L3’s victim cache operation. A L3 access request can come with a L2 victim, and thus perform both a read and a write on the L3. That doubles achievable bandwidth with the same request rate. Intel may have adopted a similar scheme, though figuring that out would require a more thorough investigation. Or, Intel may have independent queues for pending L3 lookups and writebacks. Zooming back up, Zen 5 achieves high L3 bandwidth at the cost of smaller L3 instances shared across fewer cores. It’s the same story as with latency.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!KWcR!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F676aaf09-37b4-4995-8f4a-fc351461e481_1600x799.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!KWcR!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F676aaf09-37b4-4995-8f4a-fc351461e481_1600x799.png 424w, https://substackcdn.com/image/fetch/$s_!KWcR!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F676aaf09-37b4-4995-8f4a-fc351461e481_1600x799.png 848w, https://substackcdn.com/image/fetch/$s_!KWcR!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F676aaf09-37b4-4995-8f4a-fc351461e481_1600x799.png 1272w, https://substackcdn.com/image/fetch/$s_!KWcR!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F676aaf09-37b4-4995-8f4a-fc351461e481_1600x799.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/676aaf09-37b4-4995-8f4a-fc351461e481_1600x799.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:727,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;727&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!KWcR!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F676aaf09-37b4-4995-8f4a-fc351461e481_1600x799.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!KWcR!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F676aaf09-37b4-4995-8f4a-fc351461e481_1600x799.png 424w, https://substackcdn.com/image/fetch/$s_!KWcR!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F676aaf09-37b4-4995-8f4a-fc351461e481_1600x799.png 848w, https://substackcdn.com/image/fetch/$s_!KWcR!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F676aaf09-37b4-4995-8f4a-fc351461e481_1600x799.png 1272w, https://substackcdn.com/image/fetch/$s_!KWcR!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F676aaf09-37b4-4995-8f4a-fc351461e481_1600x799.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   DRAM bandwidth from a single Xeon 6 core comes in at just below 20 GB/s. It’s lower than on Zen 5, but also less of a concern thanks to massive L3 capacity. As with L3 bandwidth, a read-modify-write pattern dramatically increases DRAM bandwidth achievable from a single core.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!sCAT!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F47bbe9f2-057d-44ec-8714-417c8522b044_1600x854.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!sCAT!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F47bbe9f2-057d-44ec-8714-417c8522b044_1600x854.png 424w, https://substackcdn.com/image/fetch/$s_!sCAT!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F47bbe9f2-057d-44ec-8714-417c8522b044_1600x854.png 848w, https://substackcdn.com/image/fetch/$s_!sCAT!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F47bbe9f2-057d-44ec-8714-417c8522b044_1600x854.png 1272w, https://substackcdn.com/image/fetch/$s_!sCAT!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F47bbe9f2-057d-44ec-8714-417c8522b044_1600x854.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/47bbe9f2-057d-44ec-8714-417c8522b044_1600x854.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:777,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;777&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!sCAT!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F47bbe9f2-057d-44ec-8714-417c8522b044_1600x854.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!sCAT!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F47bbe9f2-057d-44ec-8714-417c8522b044_1600x854.png 424w, https://substackcdn.com/image/fetch/$s_!sCAT!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F47bbe9f2-057d-44ec-8714-417c8522b044_1600x854.png 848w, https://substackcdn.com/image/fetch/$s_!sCAT!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F47bbe9f2-057d-44ec-8714-417c8522b044_1600x854.png 1272w, https://substackcdn.com/image/fetch/$s_!sCAT!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F47bbe9f2-057d-44ec-8714-417c8522b044_1600x854.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   At the chip level, Xeon 6’s high core count and fast L1/L2 caches can provide massive bandwidth for code with good memory access locality. Total cache read bandwidth is a huge step above Emerald Rapids and smaller Zen 5 SKUs that prioritize per-core performance over throughput. Xeon 6’s L3 bandwidth improves to align with its core count increase, though L3 bandwidth in total remains behind AMD.
  &lt;/p&gt;
  &lt;p&gt;
   With each thread reading from memory backed by its local NUMA node, I got 691.62 GB/s of DRAM bandwidth. It’s a step ahead of Emerald Rapids’s 323.45 GB/s. Intel has really scaled up their server platform. Xeon 6’s 12 memory controllers and faster memory give it a huge leg up over Emerald Rapids’s eight memory controllers. AMD also uses 12 memory controllers, but the EPYC 9355P I had access to runs DDR5-5200, and achieved 478.98 GB/s at the largest test size using a unified memory configuration (single NUMA node per socket).
  &lt;/p&gt;
  &lt;h1&gt;
   NUMA/Chiplet Characteristics
  &lt;/h1&gt;
  &lt;p&gt;
   Intel uses consistent hashing to route physical addresses to L3 cache slice (CHAs), which then orchestrate coherent memory access. Xeon 6 appears to carry out this consistent hashing by distributing each NUMA node’s address space across L3 slices on the associated die, as opposed to covering the entire DRAM-backed physical address space with the CHAs on each die. Thus accesses to a remote NUMA node are only cached by the remote die’s L3. Accessing the L3 on an adjacent die increases latency by about 24 ns. Crossing two die boundaries adds a similar penalty, increasing latency to nearly 80 ns for a L3 hit.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!r6Vh!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe1587541-e4ff-44b2-b4b0-778ce250df65_1588x736.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!r6Vh!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe1587541-e4ff-44b2-b4b0-778ce250df65_1588x736.png 424w, https://substackcdn.com/image/fetch/$s_!r6Vh!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe1587541-e4ff-44b2-b4b0-778ce250df65_1588x736.png 848w, https://substackcdn.com/image/fetch/$s_!r6Vh!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe1587541-e4ff-44b2-b4b0-778ce250df65_1588x736.png 1272w, https://substackcdn.com/image/fetch/$s_!r6Vh!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe1587541-e4ff-44b2-b4b0-778ce250df65_1588x736.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/e1587541-e4ff-44b2-b4b0-778ce250df65_1588x736.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:675,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;675&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!r6Vh!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe1587541-e4ff-44b2-b4b0-778ce250df65_1588x736.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!r6Vh!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe1587541-e4ff-44b2-b4b0-778ce250df65_1588x736.png 424w, https://substackcdn.com/image/fetch/$s_!r6Vh!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe1587541-e4ff-44b2-b4b0-778ce250df65_1588x736.png 848w, https://substackcdn.com/image/fetch/$s_!r6Vh!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe1587541-e4ff-44b2-b4b0-778ce250df65_1588x736.png 1272w, https://substackcdn.com/image/fetch/$s_!r6Vh!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe1587541-e4ff-44b2-b4b0-778ce250df65_1588x736.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Similar penalties apply to remote DRAM accesses, though that’s to be expected for any NUMA setup. Getting data from memory controllers across one die boundary takes 157.44 ns, for about 26 ns extra over hitting a local one. Crossing two die boundaries adds another 25 ns, bringing latency to 181.54 ns.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!fgkQ!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd8c69c8f-82ca-4c34-897c-2be3c4bda828_1250x679.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!fgkQ!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd8c69c8f-82ca-4c34-897c-2be3c4bda828_1250x679.png 424w, https://substackcdn.com/image/fetch/$s_!fgkQ!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd8c69c8f-82ca-4c34-897c-2be3c4bda828_1250x679.png 848w, https://substackcdn.com/image/fetch/$s_!fgkQ!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd8c69c8f-82ca-4c34-897c-2be3c4bda828_1250x679.png 1272w, https://substackcdn.com/image/fetch/$s_!fgkQ!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd8c69c8f-82ca-4c34-897c-2be3c4bda828_1250x679.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/d8c69c8f-82ca-4c34-897c-2be3c4bda828_1250x679.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:679,&quot;width&quot;:1250,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;679&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!fgkQ!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd8c69c8f-82ca-4c34-897c-2be3c4bda828_1250x679.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!fgkQ!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd8c69c8f-82ca-4c34-897c-2be3c4bda828_1250x679.png 424w, https://substackcdn.com/image/fetch/$s_!fgkQ!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd8c69c8f-82ca-4c34-897c-2be3c4bda828_1250x679.png 848w, https://substackcdn.com/image/fetch/$s_!fgkQ!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd8c69c8f-82ca-4c34-897c-2be3c4bda828_1250x679.png 1272w, https://substackcdn.com/image/fetch/$s_!fgkQ!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd8c69c8f-82ca-4c34-897c-2be3c4bda828_1250x679.png 1456w&quot; width=&quot;1250&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Under load, latency gradually increases until it reaches a plateau, before seeing a sharper rise as the test approaches DRAM bandwidth limits. It’s not a perfect hockey stick pattern like on some other chips. Latency remains reasonably well controlled, at just under 300 ns for a within-NUMA-node access under high bandwidth node. Crossing tile boundaries increases latency, but leaves bandwidth largely intact. Repeating the exercise with 96 MB used for bandwidth test threads and 16 MB for the latency test gives an idea of what cross-die L3 bandwidth is like. It’s very high. Cross-die bandwidth nearly reaches 500 GB/s for a read-only pattern.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!1yPG!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F58a09dfc-8c49-4afb-8ba3-a83faf517115_201x261.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!1yPG!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F58a09dfc-8c49-4afb-8ba3-a83faf517115_201x261.png 424w, https://substackcdn.com/image/fetch/$s_!1yPG!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F58a09dfc-8c49-4afb-8ba3-a83faf517115_201x261.png 848w, https://substackcdn.com/image/fetch/$s_!1yPG!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F58a09dfc-8c49-4afb-8ba3-a83faf517115_201x261.png 1272w, https://substackcdn.com/image/fetch/$s_!1yPG!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F58a09dfc-8c49-4afb-8ba3-a83faf517115_201x261.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/58a09dfc-8c49-4afb-8ba3-a83faf517115_201x261.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:261,&quot;width&quot;:201,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;261&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!1yPG!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F58a09dfc-8c49-4afb-8ba3-a83faf517115_201x261.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!1yPG!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F58a09dfc-8c49-4afb-8ba3-a83faf517115_201x261.png 424w, https://substackcdn.com/image/fetch/$s_!1yPG!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F58a09dfc-8c49-4afb-8ba3-a83faf517115_201x261.png 848w, https://substackcdn.com/image/fetch/$s_!1yPG!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F58a09dfc-8c49-4afb-8ba3-a83faf517115_201x261.png 1272w, https://substackcdn.com/image/fetch/$s_!1yPG!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F58a09dfc-8c49-4afb-8ba3-a83faf517115_201x261.png 1456w&quot; width=&quot;201&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   I was able to exceed 800 GB/s of cross-die bandwidth by respecting Intel’s conga line topology, for lack of a better term. Specifically, I had cores from node 0 accessing L3 on node 1, and cores on node 1 accessing L3 on node 2. I used a read-modify-write pattern as well to maximize L3 bandwidth. It’s a rather contrived test, but it underscores the massive cross-die bandwidth present in Intel’s Xeon 6 platform. A single Xeon 6 compute die has more off-die bandwidth than an AMD CCD, even when considering GMI-Wide AMD setups that use two Infinity Fabric links between each CCD and the central IO die. However, each AMD L3 instance covers the physical address space across all NUMA nodes, so the situations aren’t directly comparable.
  &lt;/p&gt;
  &lt;h1&gt;
   Coherency Latency
  &lt;/h1&gt;
  &lt;p&gt;
   The memory subsystem may have to orchestrate transfers between peer caches, which I test by bouncing a value between two cores. That “core to core latency” shows similar characteristics to prior Xeon generations. Transfers within a compute die land in the 50-80 ns range, with only a slight increase when crossing die boundaries. NUMA characteristics above apply here too. I ran this test with memory allocated out of the first NUMA node.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!P816!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F52d77fbe-3c5f-4d24-8595-5223c0785a74_1600x825.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!P816!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F52d77fbe-3c5f-4d24-8595-5223c0785a74_1600x825.png 424w, https://substackcdn.com/image/fetch/$s_!P816!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F52d77fbe-3c5f-4d24-8595-5223c0785a74_1600x825.png 848w, https://substackcdn.com/image/fetch/$s_!P816!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F52d77fbe-3c5f-4d24-8595-5223c0785a74_1600x825.png 1272w, https://substackcdn.com/image/fetch/$s_!P816!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F52d77fbe-3c5f-4d24-8595-5223c0785a74_1600x825.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/52d77fbe-3c5f-4d24-8595-5223c0785a74_1600x825.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:751,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;751&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!P816!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F52d77fbe-3c5f-4d24-8595-5223c0785a74_1600x825.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!P816!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F52d77fbe-3c5f-4d24-8595-5223c0785a74_1600x825.png 424w, https://substackcdn.com/image/fetch/$s_!P816!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F52d77fbe-3c5f-4d24-8595-5223c0785a74_1600x825.png 848w, https://substackcdn.com/image/fetch/$s_!P816!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F52d77fbe-3c5f-4d24-8595-5223c0785a74_1600x825.png 1272w, https://substackcdn.com/image/fetch/$s_!P816!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F52d77fbe-3c5f-4d24-8595-5223c0785a74_1600x825.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   A pair of cores on NUMA node 2 would need a CHA on node 0 to orchestrate the transfer, which is why nodes farther away from the first compute die show higher latency in this test. The worst case of 100-120 ns with cores going through a CHA on the farthest NUMA node is still better than the 150-180 ns on AMD server platforms when crossing cluster (CCX) boundaries. In both cases, the round trip goes across two die boundaries. But Intel’s logically monolithic topology and advanced packaging technologies likely give it a lead.
  &lt;/p&gt;
  &lt;h1&gt;
   Single Core Performance: SPEC CPU2017
  &lt;/h1&gt;
  &lt;p&gt;
   SPEC CPU2017 is an industry standard benchmark, and I’ve been running the rate suite with a single copy to summarize single-thread performance. This 96 core Xeon 6 part falls behind lower core count chips that are better optimized for per-core performance. Its score in the integer suite is closely matched to AWS’s Graviton 4, which similarly implements 96 cores per socket. Xeon 6 enjoys a slight 8.4% lead over Graviton 4 in the floating point suite.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!67bG!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb2d7dceb-e367-47f0-b88c-619c5312e33a_1042x639.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!67bG!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb2d7dceb-e367-47f0-b88c-619c5312e33a_1042x639.png 424w, https://substackcdn.com/image/fetch/$s_!67bG!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb2d7dceb-e367-47f0-b88c-619c5312e33a_1042x639.png 848w, https://substackcdn.com/image/fetch/$s_!67bG!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb2d7dceb-e367-47f0-b88c-619c5312e33a_1042x639.png 1272w, https://substackcdn.com/image/fetch/$s_!67bG!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb2d7dceb-e367-47f0-b88c-619c5312e33a_1042x639.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/b2d7dceb-e367-47f0-b88c-619c5312e33a_1042x639.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:639,&quot;width&quot;:1042,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;639&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!67bG!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb2d7dceb-e367-47f0-b88c-619c5312e33a_1042x639.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!67bG!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb2d7dceb-e367-47f0-b88c-619c5312e33a_1042x639.png 424w, https://substackcdn.com/image/fetch/$s_!67bG!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb2d7dceb-e367-47f0-b88c-619c5312e33a_1042x639.png 848w, https://substackcdn.com/image/fetch/$s_!67bG!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb2d7dceb-e367-47f0-b88c-619c5312e33a_1042x639.png 1272w, https://substackcdn.com/image/fetch/$s_!67bG!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb2d7dceb-e367-47f0-b88c-619c5312e33a_1042x639.png 1456w&quot; width=&quot;1042&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;h1&gt;
   Final Words
  &lt;/h1&gt;
  &lt;p&gt;
   Intel’s latest server chiplet strategy is superficially similar to AMD’s. Both use compute and IO dies. Both strive for a scalable and modular design that can scale across a range of core counts. But Intel and AMD have very different system level design philosophies, driving huge architectural differences under the hood. Intel wants to present a logically monolithic chip, and wants their mesh to accommodate an ever increasing number of agents. It’s not an easy task, because it demands very high performance from cross-die transfers.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!bKzB!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F753a4cb6-0878-4abb-8bb9-4221ae947b19_1600x898.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!bKzB!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F753a4cb6-0878-4abb-8bb9-4221ae947b19_1600x898.png 424w, https://substackcdn.com/image/fetch/$s_!bKzB!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F753a4cb6-0878-4abb-8bb9-4221ae947b19_1600x898.png 848w, https://substackcdn.com/image/fetch/$s_!bKzB!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F753a4cb6-0878-4abb-8bb9-4221ae947b19_1600x898.png 1272w, https://substackcdn.com/image/fetch/$s_!bKzB!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F753a4cb6-0878-4abb-8bb9-4221ae947b19_1600x898.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/753a4cb6-0878-4abb-8bb9-4221ae947b19_1600x898.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:817,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;817&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!bKzB!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F753a4cb6-0878-4abb-8bb9-4221ae947b19_1600x898.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!bKzB!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F753a4cb6-0878-4abb-8bb9-4221ae947b19_1600x898.png 424w, https://substackcdn.com/image/fetch/$s_!bKzB!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F753a4cb6-0878-4abb-8bb9-4221ae947b19_1600x898.png 848w, https://substackcdn.com/image/fetch/$s_!bKzB!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F753a4cb6-0878-4abb-8bb9-4221ae947b19_1600x898.png 1272w, https://substackcdn.com/image/fetch/$s_!bKzB!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F753a4cb6-0878-4abb-8bb9-4221ae947b19_1600x898.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
    &lt;figcaption&gt;
     Slide shown with Emerald Rapids, highlighting Intel’s goal of maintaining a logically monolithic design via a large mesh interconnect spanning die boundaries. Xeon 6 has similar goals
    &lt;/figcaption&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   AMD in contrast doesn’t try to make a big system feel monolithic, and instead goes with two interconnect levels. A fast intra-cluster network handles high speed L3 traffic and presents the cluster as one client to Infinity Fabric. Infinity Fabric only handles DRAM and slower IO traffic, and thus faces a less demanding job than Intel’s mesh. Infinity Fabric does cross die boundaries, but gets by with on-package traces thanks to its lower performance requirements.
  &lt;/p&gt;
  &lt;p&gt;
   Intel’s approach has advantages, even when subdivided using SNC3 mode. These include a more unified and higher capacity L3 cache, better core to core latency, and no core cluster boundaries with bandwidth pinch points. And theoretically, placing memory controllers on compute dies allows SNC3 mode to deliver lower DRAM latency by avoiding cross-die hops.
  &lt;/p&gt;
  &lt;p&gt;
   But every design comes with tradeoffs. The DRAM latency advantage doesn’t materialize against AMD’s Turin. L3 performance isn’t great. Latency is high, and a Redwood Cove core has less L3 bandwidth than a Zen 5 core does from DRAM. I have to wonder how well the L3 would perform in a Xeon 6 chip configured to run as a single NUMA node too. L3 accesses would start with a baseline latency much higher than 33 ns. Getting hard numbers would be impossible without access to a Xeon 6 chip in such a configuration, but having 2/3 of accesses cross a die boundary would likely send latency to just under 50 ns. That is, (2 * 57.63 + 33.25) / 3 = 49.5 ns. Scalability is another question too. Extending the conga line with additional compute dies may erode Intel’s advantage of crossing fewer die boundaries on average than AMD. The best way to keep scaling within such a topology would likely be increasing core counts within each die, which could make it harder to scale to smaller configurations using the same dies.
  &lt;/p&gt;
  &lt;p&gt;
   &lt;span&gt;
    I wonder if keeping a logically monolithic design is worth the tradeoffs. I’m not sure if anyone has built a mesh this big, and other large meshes have run into latency issues even with techniques like having core pairs share a mesh stop.
   &lt;/span&gt;
   &lt;a href=&quot;https://chipsandcheese.com/p/grace-hopper-nvidias-halfway-apu&quot; rel=&quot;&quot;&gt;
    Nvidia’s Grace
   &lt;/a&gt;
   &lt;span&gt;
    for example uses a large mesh and sees L3 latency reach 38.2 ns. Subdividing the chip mitigates latency issues but starts to erode the advantages of a logically monolithic setup. But of course, no one can answer the question of whether the tradeoffs are worthwhile except the engineers at Intel. Those engineers have done a lot of impressive things with Xeon 6. Going forward, Intel has a newer Lion Cove core that’s meant to compete more directly with Zen 5. Redwood Cove was more contemporary with Zen 4. I look forward to seeing what Intel does at the system level with their next server design. Those engineers are no doubt busy cooking it up.
   &lt;/span&gt;
  &lt;/p&gt;
 &lt;/div&gt;
&lt;/div&gt;

</description>
</item>
<item>
<title> AMD&#x27;s Inaugural Tech Day ft. ROCm 7, Modular, and AMD Lab Tour </title>
<link>https://chipsandcheese.com/p/amds-inaugural-tech-day-ft-rocm-7</link>
<pubDate>Mon, 22 Sep 2025 20:07:01 -0000</pubDate>
<description>
&lt;div&gt;
 &lt;div dir=&quot;auto&quot;&gt;
  &lt;p&gt;
   Hello you fine Internet folks,
  &lt;/p&gt;
  &lt;p&gt;
   I was invited to AMD&#x27;s Austin Headquarters where AMD held their inaugural Tech Day where AMD announced ROCm 7, Modular showed off their results with MI355X, which was topped off by a tour of AMD&#x27;s Labs.
  &lt;/p&gt;
  &lt;p&gt;
   Hope y&#x27;all enjoy!
  &lt;/p&gt;
  &lt;div data-attrs=&#x27;{&quot;videoId&quot;:&quot;e_6hf-9lvZs&quot;,&quot;startTime&quot;:null,&quot;endTime&quot;:null}&#x27; data-component-name=&quot;Youtube2ToDOM&quot;&gt;
   &lt;div&gt;
    &lt;iframe allow=&quot;autoplay; fullscreen&quot; allowautoplay=&quot;true&quot; allowfullscreen=&quot;true&quot; frameborder=&quot;0&quot; gesture=&quot;media&quot; height=&quot;409&quot; loading=&quot;lazy&quot; src=&quot;https://www.youtube-nocookie.com/embed/e_6hf-9lvZs?rel=0&amp;autoplay=0&amp;showinfo=0&amp;enablejsapi=0&quot; width=&quot;728&quot;&gt;
    &lt;/iframe&gt;
   &lt;/div&gt;
  &lt;/div&gt;
  &lt;p&gt;
   &lt;span&gt;
    If you like the content then consider heading over to the
   &lt;/span&gt;
   &lt;a href=&quot;https://www.patreon.com/ChipsandCheese&quot; rel=&quot;&quot;&gt;
    Patreon
   &lt;/a&gt;
   &lt;span&gt;
    or
   &lt;/span&gt;
   &lt;a href=&quot;https://www.paypal.com/donate/?hosted_button_id=4EMPH66SBGVSQ&quot; rel=&quot;&quot;&gt;
    PayPal
   &lt;/a&gt;
   &lt;span&gt;
    if you want to toss a few bucks to Chips and Cheese. Also consider joining the
   &lt;/span&gt;
   &lt;a href=&quot;https://discord.gg/TwVnRhxgY2&quot; rel=&quot;&quot;&gt;
    Discord
   &lt;/a&gt;
   &lt;span&gt;
    .
   &lt;/span&gt;
  &lt;/p&gt;
 &lt;/div&gt;
&lt;/div&gt;

</description>
</item>
<item>
<title> Everactive’s Self-Powered SoC at Hot Chips 2025 </title>
<link>https://chipsandcheese.com/p/everactives-self-powered-soc-at-hot</link>
<pubDate>Wed, 17 Sep 2025 17:25:23 -0000</pubDate>
<description>
&lt;div&gt;
 &lt;div dir=&quot;auto&quot;&gt;
  &lt;p&gt;
   Hot Chips 2025 was filled with presentations on high power devices. AI can demand hundreds of watts per chip, requiring sophisticated power delivery and equally complex cooling. It’s a far cry from consumer devices that must make do with standard wall outlets, or batteries for mobile devices. But if working within a wall outlet or battery’s constraints is hard, it’s nothing compared to working with, well, nothing. That’s Everactive’s focus, and the subject of their presentation at Hot Chips 2025.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!iV-H!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F181018c6-5900-46eb-b7c0-3ede0b567645_1597x813.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!iV-H!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F181018c6-5900-46eb-b7c0-3ede0b567645_1597x813.png 424w, https://substackcdn.com/image/fetch/$s_!iV-H!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F181018c6-5900-46eb-b7c0-3ede0b567645_1597x813.png 848w, https://substackcdn.com/image/fetch/$s_!iV-H!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F181018c6-5900-46eb-b7c0-3ede0b567645_1597x813.png 1272w, https://substackcdn.com/image/fetch/$s_!iV-H!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F181018c6-5900-46eb-b7c0-3ede0b567645_1597x813.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/181018c6-5900-46eb-b7c0-3ede0b567645_1597x813.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:741,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:false,&quot;topImage&quot;:true,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; fetchpriority=&quot;high&quot; height=&quot;741&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!iV-H!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F181018c6-5900-46eb-b7c0-3ede0b567645_1597x813.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!iV-H!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F181018c6-5900-46eb-b7c0-3ede0b567645_1597x813.png 424w, https://substackcdn.com/image/fetch/$s_!iV-H!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F181018c6-5900-46eb-b7c0-3ede0b567645_1597x813.png 848w, https://substackcdn.com/image/fetch/$s_!iV-H!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F181018c6-5900-46eb-b7c0-3ede0b567645_1597x813.png 1272w, https://substackcdn.com/image/fetch/$s_!iV-H!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F181018c6-5900-46eb-b7c0-3ede0b567645_1597x813.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Everactive makes SoCs that power themselves off energy harvested from the environment, letting them operate without a steady power source. Self-powered SoCs are well suited for large IoT deployments. Wiring power to devices or replacing batteries complicates scaling device count, especially when those IoT devices are sensors in difficult to reach places. Generating energy off the environment is also attractive from a sustainability standpoint. Reliability can benefit too, because the device won’t suffer from electrical grid failures.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!pbA5!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F525cdc30-3720-4fc3-8343-befa2324f792_1600x897.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!pbA5!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F525cdc30-3720-4fc3-8343-befa2324f792_1600x897.png 424w, https://substackcdn.com/image/fetch/$s_!pbA5!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F525cdc30-3720-4fc3-8343-befa2324f792_1600x897.png 848w, https://substackcdn.com/image/fetch/$s_!pbA5!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F525cdc30-3720-4fc3-8343-befa2324f792_1600x897.png 1272w, https://substackcdn.com/image/fetch/$s_!pbA5!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F525cdc30-3720-4fc3-8343-befa2324f792_1600x897.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/525cdc30-3720-4fc3-8343-befa2324f792_1600x897.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:816,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:false,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;816&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!pbA5!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F525cdc30-3720-4fc3-8343-befa2324f792_1600x897.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!pbA5!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F525cdc30-3720-4fc3-8343-befa2324f792_1600x897.png 424w, https://substackcdn.com/image/fetch/$s_!pbA5!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F525cdc30-3720-4fc3-8343-befa2324f792_1600x897.png 848w, https://substackcdn.com/image/fetch/$s_!pbA5!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F525cdc30-3720-4fc3-8343-befa2324f792_1600x897.png 1272w, https://substackcdn.com/image/fetch/$s_!pbA5!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F525cdc30-3720-4fc3-8343-befa2324f792_1600x897.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   But relying on energy harvesting brings its own challenges. Harvested energy is often in the milliwatt or microwatt range, depending on energy source. Power levels fluctuate depending on environmental conditions too. All that means the SoC has to run at very low power while taking measures to maximize harvested power and survive through suboptimal conditions.
  &lt;/p&gt;
  &lt;h1&gt;
   SoC Overview
  &lt;/h1&gt;
  &lt;p&gt;
   Everactive’s SoC is designated PKS3000 and occupies 6.7 mm² on a 55 nm ULP process node. It’s designed around collecting and transmitting data within the tight constraints of self-powered operation. The SoC can run at 5 MHz with 12 microwatt power draw, and has a 2.19 microwatt power floor. It interfaces with a variety of sensors to gather data, and has a power-optimized Wifi/Bluetooth/5G radio for data transmission. An expansion port can connect to an external microcontroller and storage, which can also be powered off harvested energy.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!rkDl!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F655dfaa0-ebda-4e2c-b313-5cfe75487a9e_1276x718.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!rkDl!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F655dfaa0-ebda-4e2c-b313-5cfe75487a9e_1276x718.png 424w, https://substackcdn.com/image/fetch/$s_!rkDl!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F655dfaa0-ebda-4e2c-b313-5cfe75487a9e_1276x718.png 848w, https://substackcdn.com/image/fetch/$s_!rkDl!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F655dfaa0-ebda-4e2c-b313-5cfe75487a9e_1276x718.png 1272w, https://substackcdn.com/image/fetch/$s_!rkDl!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F655dfaa0-ebda-4e2c-b313-5cfe75487a9e_1276x718.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/655dfaa0-ebda-4e2c-b313-5cfe75487a9e_1276x718.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:718,&quot;width&quot;:1276,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:false,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;718&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!rkDl!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F655dfaa0-ebda-4e2c-b313-5cfe75487a9e_1276x718.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!rkDl!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F655dfaa0-ebda-4e2c-b313-5cfe75487a9e_1276x718.png 424w, https://substackcdn.com/image/fetch/$s_!rkDl!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F655dfaa0-ebda-4e2c-b313-5cfe75487a9e_1276x718.png 848w, https://substackcdn.com/image/fetch/$s_!rkDl!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F655dfaa0-ebda-4e2c-b313-5cfe75487a9e_1276x718.png 1272w, https://substackcdn.com/image/fetch/$s_!rkDl!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F655dfaa0-ebda-4e2c-b313-5cfe75487a9e_1276x718.png 1456w&quot; width=&quot;1276&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   On the processing side, the SoC includes an Arm Cortex M0+ microcontroller. Cortex M0+ is one Arm&#x27;s lowest power cores, and comes with a simple two-stage pipeline. Its memory subsystem is similarly bare-bones, with no built-in caches and a memory port shared between instruction and data accesses. The chip includes 128 KB of SRAM and 256 KB of flash. Thus the SoC has less storage, less system memory, and runs at lower clocks than the original IBM PC, showing the constraints imposed by self-powered operation.
  &lt;/p&gt;
  &lt;h1&gt;
   EH-PMU: Orchestrating Power Delivery
  &lt;/h1&gt;
  &lt;p&gt;
   Energy harvesting is central to the chip’s goals, and is controlled by the Energy Harvesting Power Management Unit (EH-PMU). The EH-PMU uses a multiple input, single inductor, multiple output (MISIMO) topology, letting it simultaneously harvest energy from two energy sources and output power on four rails. For energy harvesting sources, Everactive gives light and temperature differences as examples because they’re often available. Light can be harvested from a photovoltaic cell (PV), and a thermoelectric generator (TEG) can do so from temperature differences. Depending on expected environmental conditions, the SoC can be set up with other energy sources like radio emissions, mechanical vibrations, or airflow.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!I85-!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F596c3409-b066-4d5d-887b-4ef38d871b48_1279x717.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!I85-!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F596c3409-b066-4d5d-887b-4ef38d871b48_1279x717.png 424w, https://substackcdn.com/image/fetch/$s_!I85-!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F596c3409-b066-4d5d-887b-4ef38d871b48_1279x717.png 848w, https://substackcdn.com/image/fetch/$s_!I85-!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F596c3409-b066-4d5d-887b-4ef38d871b48_1279x717.png 1272w, https://substackcdn.com/image/fetch/$s_!I85-!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F596c3409-b066-4d5d-887b-4ef38d871b48_1279x717.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/596c3409-b066-4d5d-887b-4ef38d871b48_1279x717.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:717,&quot;width&quot;:1279,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;717&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!I85-!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F596c3409-b066-4d5d-887b-4ef38d871b48_1279x717.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!I85-!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F596c3409-b066-4d5d-887b-4ef38d871b48_1279x717.png 424w, https://substackcdn.com/image/fetch/$s_!I85-!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F596c3409-b066-4d5d-887b-4ef38d871b48_1279x717.png 848w, https://substackcdn.com/image/fetch/$s_!I85-!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F596c3409-b066-4d5d-887b-4ef38d871b48_1279x717.png 1272w, https://substackcdn.com/image/fetch/$s_!I85-!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F596c3409-b066-4d5d-887b-4ef38d871b48_1279x717.png 1456w&quot; width=&quot;1279&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Maximum power point tracking (MPPT) helps the EH-PMU improve energy harvesting efficiency by getting energy from each harvesting source at its optimal voltage. Because harvested energy can often be unstable despite using two sources and optimization techniques, the PKS3000 can store energy in a pair of capacitors. A supercapacitor provides deep energy storage, and aims to let the chip keep going under adverse conditions, A smaller capacitor charges faster, and can quickly collect power to speed up cold starts after brownouts. Everactive’s SoC can cold-start using the PV/TEG combo at 60 lux and 8 C, which is about equivalent to indoor lighting in a chilly room.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!tK_8!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff21bc587-a478-425b-90e2-dcadbbf58d32_1272x717.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!tK_8!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff21bc587-a478-425b-90e2-dcadbbf58d32_1272x717.png 424w, https://substackcdn.com/image/fetch/$s_!tK_8!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff21bc587-a478-425b-90e2-dcadbbf58d32_1272x717.png 848w, https://substackcdn.com/image/fetch/$s_!tK_8!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff21bc587-a478-425b-90e2-dcadbbf58d32_1272x717.png 1272w, https://substackcdn.com/image/fetch/$s_!tK_8!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff21bc587-a478-425b-90e2-dcadbbf58d32_1272x717.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/f21bc587-a478-425b-90e2-dcadbbf58d32_1272x717.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:717,&quot;width&quot;:1272,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;717&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!tK_8!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff21bc587-a478-425b-90e2-dcadbbf58d32_1272x717.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!tK_8!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff21bc587-a478-425b-90e2-dcadbbf58d32_1272x717.png 424w, https://substackcdn.com/image/fetch/$s_!tK_8!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff21bc587-a478-425b-90e2-dcadbbf58d32_1272x717.png 848w, https://substackcdn.com/image/fetch/$s_!tK_8!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff21bc587-a478-425b-90e2-dcadbbf58d32_1272x717.png 1272w, https://substackcdn.com/image/fetch/$s_!tK_8!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff21bc587-a478-425b-90e2-dcadbbf58d32_1272x717.png 1456w&quot; width=&quot;1272&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   The EH-PMU’s powers four output rails, named 1p8, 1p2, 0p9, and adj, which can be fed off a harvesting source under good conditions. Under bad conditions, EH-PMU can feed them off stored energy in the capacitors. A set of pulse counters monitor energy flow throughout the chip. Collected energy statistics are fed to the Energy Aware Subsystem.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!vSYL!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F34af807f-fdd5-4a10-90e2-687d7ca6cb9e_1600x900.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!vSYL!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F34af807f-fdd5-4a10-90e2-687d7ca6cb9e_1600x900.png 424w, https://substackcdn.com/image/fetch/$s_!vSYL!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F34af807f-fdd5-4a10-90e2-687d7ca6cb9e_1600x900.png 848w, https://substackcdn.com/image/fetch/$s_!vSYL!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F34af807f-fdd5-4a10-90e2-687d7ca6cb9e_1600x900.png 1272w, https://substackcdn.com/image/fetch/$s_!vSYL!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F34af807f-fdd5-4a10-90e2-687d7ca6cb9e_1600x900.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/34af807f-fdd5-4a10-90e2-687d7ca6cb9e_1600x900.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:819,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;819&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!vSYL!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F34af807f-fdd5-4a10-90e2-687d7ca6cb9e_1600x900.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!vSYL!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F34af807f-fdd5-4a10-90e2-687d7ca6cb9e_1600x900.png 424w, https://substackcdn.com/image/fetch/$s_!vSYL!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F34af807f-fdd5-4a10-90e2-687d7ca6cb9e_1600x900.png 848w, https://substackcdn.com/image/fetch/$s_!vSYL!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F34af807f-fdd5-4a10-90e2-687d7ca6cb9e_1600x900.png 1272w, https://substackcdn.com/image/fetch/$s_!vSYL!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F34af807f-fdd5-4a10-90e2-687d7ca6cb9e_1600x900.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;h1&gt;
   Energy Aware Subsystem
  &lt;/h1&gt;
  &lt;p&gt;
   The Energy Aware Subsystem (EAS) monitors energy harvesting, storage, and consumption to make power management decisions. It plays a role analogous to Intel’s Power Control Unit or AMD’s System Management Unit (SMU). Like Intel’s PCU or AMD’s SMU, the EAS manages frequency and voltage scaling with a set of different policies. Firmware can hook into the EAS to set maximum frequencies and power management policies, just as an OS would do on higher power platforms. Energy statistics can be used to decide when to enable components or perform OTA updates.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!qena!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F06827b51-4e6b-4951-b735-f3679f18d941_1275x718.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!qena!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F06827b51-4e6b-4951-b735-f3679f18d941_1275x718.png 424w, https://substackcdn.com/image/fetch/$s_!qena!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F06827b51-4e6b-4951-b735-f3679f18d941_1275x718.png 848w, https://substackcdn.com/image/fetch/$s_!qena!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F06827b51-4e6b-4951-b735-f3679f18d941_1275x718.png 1272w, https://substackcdn.com/image/fetch/$s_!qena!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F06827b51-4e6b-4951-b735-f3679f18d941_1275x718.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/06827b51-4e6b-4951-b735-f3679f18d941_1275x718.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:718,&quot;width&quot;:1275,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;718&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!qena!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F06827b51-4e6b-4951-b735-f3679f18d941_1275x718.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!qena!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F06827b51-4e6b-4951-b735-f3679f18d941_1275x718.png 424w, https://substackcdn.com/image/fetch/$s_!qena!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F06827b51-4e6b-4951-b735-f3679f18d941_1275x718.png 848w, https://substackcdn.com/image/fetch/$s_!qena!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F06827b51-4e6b-4951-b735-f3679f18d941_1275x718.png 1272w, https://substackcdn.com/image/fetch/$s_!qena!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F06827b51-4e6b-4951-b735-f3679f18d941_1275x718.png 1456w&quot; width=&quot;1275&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   The EAS also controls a load switch that can be used to cut off external components. Everactive found that some external components have a high power floor. Shutting them off prevents them from monopolizing the chip’s very limited power budget. Components can be notified and allowed to perform a graceful shutdown. But the EAS also has the power to shut them off in a non-cooperative fashion. That gives the EAS more power than Intel’s PCU or AMD’s SMU, which can’t independently decide that some components should be shut off. But the EAS needs those powers because it has heavier responsibilities and constraints. For Everactive’s SoC, poor power management isn’t a question of slightly higher power bills or shorter battery life. Instead, it could cause frequent brownouts that prevent the SoC from providing timely sensor data updates. That’s highly non-ideal for industrial monitoring applications, where missed data could prevent operators from noticing a problem.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!rA5r!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb92e6253-3ae9-4947-90b9-c73f4e079a86_1277x713.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!rA5r!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb92e6253-3ae9-4947-90b9-c73f4e079a86_1277x713.png 424w, https://substackcdn.com/image/fetch/$s_!rA5r!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb92e6253-3ae9-4947-90b9-c73f4e079a86_1277x713.png 848w, https://substackcdn.com/image/fetch/$s_!rA5r!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb92e6253-3ae9-4947-90b9-c73f4e079a86_1277x713.png 1272w, https://substackcdn.com/image/fetch/$s_!rA5r!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb92e6253-3ae9-4947-90b9-c73f4e079a86_1277x713.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/b92e6253-3ae9-4947-90b9-c73f4e079a86_1277x713.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:713,&quot;width&quot;:1277,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;713&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!rA5r!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb92e6253-3ae9-4947-90b9-c73f4e079a86_1277x713.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!rA5r!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb92e6253-3ae9-4947-90b9-c73f4e079a86_1277x713.png 424w, https://substackcdn.com/image/fetch/$s_!rA5r!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb92e6253-3ae9-4947-90b9-c73f4e079a86_1277x713.png 848w, https://substackcdn.com/image/fetch/$s_!rA5r!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb92e6253-3ae9-4947-90b9-c73f4e079a86_1277x713.png 1272w, https://substackcdn.com/image/fetch/$s_!rA5r!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb92e6253-3ae9-4947-90b9-c73f4e079a86_1277x713.png 1456w&quot; width=&quot;1277&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   The EAS supports a Wait-for-Wakeup mode, which lets the device enter a low power mode where it can still respond very quickly to activity from sensors or the environment. Generally, Everactive’s SoC is geared towards trying to idle as often as possible.
  &lt;/p&gt;
  &lt;h1&gt;
   Wake-Up Radio
  &lt;/h1&gt;
  &lt;p&gt;
   Idle optimizations extend to the radio. Communication is a challenge for self powered SoCs because radios can have a high power floor even if all they’re doing is staying connected to a network. Disconnecting is an option, but it’s a poor one because reconnecting introduces delays, and some access points don’t reliably handle frequent reconnects. Everactive attacks this problem with a Wake-Up Radio (WRX), which uses an always-on receiver capable of receiving a subset of messages at very low power. Compared to a conventional radio that uses duty cycling, wakeup receivers seek to reduce power wasted on idle monitoring while achieving lower latency.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!LHcn!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3349f4f5-eaf2-4672-b3f0-99402d80e1a0_1275x717.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!LHcn!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3349f4f5-eaf2-4672-b3f0-99402d80e1a0_1275x717.png 424w, https://substackcdn.com/image/fetch/$s_!LHcn!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3349f4f5-eaf2-4672-b3f0-99402d80e1a0_1275x717.png 848w, https://substackcdn.com/image/fetch/$s_!LHcn!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3349f4f5-eaf2-4672-b3f0-99402d80e1a0_1275x717.png 1272w, https://substackcdn.com/image/fetch/$s_!LHcn!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3349f4f5-eaf2-4672-b3f0-99402d80e1a0_1275x717.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/3349f4f5-eaf2-4672-b3f0-99402d80e1a0_1275x717.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:717,&quot;width&quot;:1275,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;717&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!LHcn!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3349f4f5-eaf2-4672-b3f0-99402d80e1a0_1275x717.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!LHcn!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3349f4f5-eaf2-4672-b3f0-99402d80e1a0_1275x717.png 424w, https://substackcdn.com/image/fetch/$s_!LHcn!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3349f4f5-eaf2-4672-b3f0-99402d80e1a0_1275x717.png 848w, https://substackcdn.com/image/fetch/$s_!LHcn!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3349f4f5-eaf2-4672-b3f0-99402d80e1a0_1275x717.png 1272w, https://substackcdn.com/image/fetch/$s_!LHcn!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3349f4f5-eaf2-4672-b3f0-99402d80e1a0_1275x717.png 1456w&quot; width=&quot;1275&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Everactive’s WRX shares an antenna with an external communication transceiver, which the customer picks with their network design in mind. A RF switch lets the WRX share the antenna, and on-board matching networks pick the frequency. The passive path can operate from 300 MHz to 3 GHz, letting it support a wide range of standards with the appropriate on-board matching networks. A broadband signal is input to the wakeup receiver on the passive path, which does energy detection. Then, the WRX can do baseband gain or intermediate frequency (IF) gain depending on the protocol.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!BhAE!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbc6bf0dd-7358-48a9-b9d5-d5a76a20e103_1271x716.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!BhAE!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbc6bf0dd-7358-48a9-b9d5-d5a76a20e103_1271x716.png 424w, https://substackcdn.com/image/fetch/$s_!BhAE!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbc6bf0dd-7358-48a9-b9d5-d5a76a20e103_1271x716.png 848w, https://substackcdn.com/image/fetch/$s_!BhAE!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbc6bf0dd-7358-48a9-b9d5-d5a76a20e103_1271x716.png 1272w, https://substackcdn.com/image/fetch/$s_!BhAE!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbc6bf0dd-7358-48a9-b9d5-d5a76a20e103_1271x716.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/bc6bf0dd-7358-48a9-b9d5-d5a76a20e103_1271x716.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:716,&quot;width&quot;:1271,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;716&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!BhAE!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbc6bf0dd-7358-48a9-b9d5-d5a76a20e103_1271x716.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!BhAE!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbc6bf0dd-7358-48a9-b9d5-d5a76a20e103_1271x716.png 424w, https://substackcdn.com/image/fetch/$s_!BhAE!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbc6bf0dd-7358-48a9-b9d5-d5a76a20e103_1271x716.png 848w, https://substackcdn.com/image/fetch/$s_!BhAE!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbc6bf0dd-7358-48a9-b9d5-d5a76a20e103_1271x716.png 1272w, https://substackcdn.com/image/fetch/$s_!BhAE!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbc6bf0dd-7358-48a9-b9d5-d5a76a20e103_1271x716.png 1456w&quot; width=&quot;1271&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   WRX power varies with configuration. Using the passive path without RF gain provides a very low baseline power of under a microwatt while providing respectable -63 dBm sensitivity for a sub-GHz application. That mode provides about 200m range, making it useful for industrial monitoring environments. Longer range applications (over 1000m) require more power, because RF boost has to get involved to increase sensitivity. To prevent high active power from becoming a problem, Everactive uses multi-stage wakeup and very fine grained duty cycling, letting the radio sample at times when it might get a bit of a wakeup message. With those techniques, the chip is able to achieve -92 dBm sensitivity while keeping power below 6 microwatts on average.
  &lt;/p&gt;
  &lt;p&gt;
   For comparison, Intel’s Wi-Fi 6 AX201 can achieve similar sensitivities, but idles at 1.6 mW in Core Power Down. Power goes up to 3.4 mW when associated with a 2.4 GHz access point. That sort of power draw is still very low in an absolute sense. But Everactive’s WRX setup pushes even lower, which is both impressive and reiterates the challenges associated with self powered operation. Everactive for their part sees standards moving in the direction of using wake-up radios. Wake-up receivers have been researched for decades, and continue to improve over time. There’s undeniably a benefit to idle power, and it’ll be interesting to see if WRX-es get more widely adopted.
  &lt;/p&gt;
  &lt;h1&gt;
   Final Words
  &lt;/h1&gt;
  &lt;p&gt;
   Everactive’s PKS3000 is a showcase of extreme power saving measures. The goal of improving power efficiency is thrown around quite a lot. Datacenter GPUs strive for more FLOPS/watt. Laptop chips get power optimizations with each generation. But self powered SoCs really take things to the next level because their power budget is so limited. Many of Everactive’s optimizations shave off power on a microwatt scale, an order of magnitude below the milliwatts that mobile devices care about. PKS3000 can idle at 2.19 microwatts with some limitations, or under 4 microwatts with the wakeup receiver always on. Even under load, Everactive’s SoC draws order of magnitudes less power than the chips PC enthusiasts are familiar with, let alone the AI-oriented monster chips capable of drawing a kilowatt or more.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!h5Xk!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fadac0743-f29e-4b4e-9771-a84168dc8fe6_1276x714.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!h5Xk!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fadac0743-f29e-4b4e-9771-a84168dc8fe6_1276x714.png 424w, https://substackcdn.com/image/fetch/$s_!h5Xk!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fadac0743-f29e-4b4e-9771-a84168dc8fe6_1276x714.png 848w, https://substackcdn.com/image/fetch/$s_!h5Xk!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fadac0743-f29e-4b4e-9771-a84168dc8fe6_1276x714.png 1272w, https://substackcdn.com/image/fetch/$s_!h5Xk!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fadac0743-f29e-4b4e-9771-a84168dc8fe6_1276x714.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/adac0743-f29e-4b4e-9771-a84168dc8fe6_1276x714.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:714,&quot;width&quot;:1276,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;714&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!h5Xk!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fadac0743-f29e-4b4e-9771-a84168dc8fe6_1276x714.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!h5Xk!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fadac0743-f29e-4b4e-9771-a84168dc8fe6_1276x714.png 424w, https://substackcdn.com/image/fetch/$s_!h5Xk!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fadac0743-f29e-4b4e-9771-a84168dc8fe6_1276x714.png 848w, https://substackcdn.com/image/fetch/$s_!h5Xk!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fadac0743-f29e-4b4e-9771-a84168dc8fe6_1276x714.png 1272w, https://substackcdn.com/image/fetch/$s_!h5Xk!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fadac0743-f29e-4b4e-9771-a84168dc8fe6_1276x714.png 1456w&quot; width=&quot;1276&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   The PKS3000 improves over Everactive’s own PKS2001 SoC as well, reducing power while running at higher clocks and achieving better radio sensitivity. Pushing idle power down from 30 to 2.19 microwatts is impressive. Decreasing active power from 89.1 to 12 microwatts is commendable too. PKS3000 does move to a more advanced 55nm ULP node, compared to the 65nm node used by PKS2001. But a lot of improvements no doubt come from architectural techniques too.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!ohGJ!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd122fdf3-cc0a-498d-b7d2-754dadcbbf83_908x781.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!ohGJ!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd122fdf3-cc0a-498d-b7d2-754dadcbbf83_908x781.png 424w, https://substackcdn.com/image/fetch/$s_!ohGJ!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd122fdf3-cc0a-498d-b7d2-754dadcbbf83_908x781.png 848w, https://substackcdn.com/image/fetch/$s_!ohGJ!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd122fdf3-cc0a-498d-b7d2-754dadcbbf83_908x781.png 1272w, https://substackcdn.com/image/fetch/$s_!ohGJ!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd122fdf3-cc0a-498d-b7d2-754dadcbbf83_908x781.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/d122fdf3-cc0a-498d-b7d2-754dadcbbf83_908x781.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:781,&quot;width&quot;:908,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;781&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!ohGJ!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd122fdf3-cc0a-498d-b7d2-754dadcbbf83_908x781.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!ohGJ!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd122fdf3-cc0a-498d-b7d2-754dadcbbf83_908x781.png 424w, https://substackcdn.com/image/fetch/$s_!ohGJ!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd122fdf3-cc0a-498d-b7d2-754dadcbbf83_908x781.png 848w, https://substackcdn.com/image/fetch/$s_!ohGJ!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd122fdf3-cc0a-498d-b7d2-754dadcbbf83_908x781.png 1272w, https://substackcdn.com/image/fetch/$s_!ohGJ!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd122fdf3-cc0a-498d-b7d2-754dadcbbf83_908x781.png 1456w&quot; width=&quot;908&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   And it’s important to not lose sight of the big picture. Neither SoC uses a cutting edge FinFET node, yet they’re able to accomplish their task with miniscule power requirements. Self powered SoCs have limitations of course, and it’s easy to see why Everactive focuses on industrial monitoring applications. But I do wonder if low power SoCs could cover a broader range of use cases as the technology develops, or if more funding lets them use modern process nodes. Everactive’s presentation was juxtaposed alongside talks on high power AI setups. Google talked about managing power swings on the megawatt scale with massive AI training deployments. Meta discussed how they increased per-rack power to 93.5 kW. Power consumption raises sustainability concerns with the current AI boom, and battery-less self-powered SoCs are so sweet from a sustainability perspective. I would love to see energy harvesting SoCs take on more tasks.
  &lt;/p&gt;
  &lt;p&gt;
   &lt;span&gt;
    If you like the content then consider heading over to the
   &lt;/span&gt;
   &lt;a href=&quot;https://www.patreon.com/ChipsandCheese&quot; rel=&quot;&quot;&gt;
    Patreon
   &lt;/a&gt;
   &lt;span&gt;
    or
   &lt;/span&gt;
   &lt;a href=&quot;https://www.paypal.com/donate/?hosted_button_id=4EMPH66SBGVSQ&quot; rel=&quot;&quot;&gt;
    PayPal
   &lt;/a&gt;
   &lt;span&gt;
    if you want to toss a few bucks to Chips and Cheese. Also consider joining the
   &lt;/span&gt;
   &lt;a href=&quot;https://discord.gg/TwVnRhxgY2&quot; rel=&quot;&quot;&gt;
    Discord
   &lt;/a&gt;
   &lt;span&gt;
    .
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;h2&gt;
   &lt;strong&gt;
    References
   &lt;/strong&gt;
  &lt;/h2&gt;
  &lt;ol&gt;
   &lt;li&gt;
    &lt;p&gt;
     &lt;span&gt;
      Cortex M0+ from Arm:
     &lt;/span&gt;
     &lt;a href=&quot;https://developer.arm.com/Processors/Cortex-M0-Plus&quot; rel=&quot;&quot;&gt;
      https://developer.arm.com/Processors/Cortex-M0-Plus
     &lt;/a&gt;
    &lt;/p&gt;
   &lt;/li&gt;
   &lt;li&gt;
    &lt;p&gt;
     &lt;span&gt;
      Jesús ARGOTE-AGUILAR&#x27;s thesis, &quot;Powering Low-Power Wake-up Radios with RF Energy Harvesting&quot;:
     &lt;/span&gt;
     &lt;a href=&quot;https://theses.hal.science/tel-05100987v1/file/ARGOTE_Jesus.pdf&quot; rel=&quot;&quot;&gt;
      https://theses.hal.science/tel-05100987v1/file/ARGOTE_Jesus.pdf
     &lt;/a&gt;
     &lt;span&gt;
      - gives an example of a wakeup receiver with 0.2 microwatt power consumption and -53 dBm sensitivity, and other examples with power going into the nanowatt range when no data is received.
     &lt;/span&gt;
    &lt;/p&gt;
   &lt;/li&gt;
   &lt;li&gt;
    &lt;p&gt;
     &lt;span&gt;
      R. van Langevelde et al, &quot;An Ultra-Low-Power 868/915 MHz RF Transceiver for Wireless Sensor Network Applications&quot; at
     &lt;/span&gt;
     &lt;a href=&quot;https://picture.iczhiku.com/resource/ieee/shkGpPyIRjUikxcX.pdf&quot; rel=&quot;&quot;&gt;
      https://picture.iczhiku.com/resource/ieee/shkGpPyIRjUikxcX.pdf
     &lt;/a&gt;
     &lt;span&gt;
      - ~1.2 microwatt sleep, 2.4 milliwatts receive, 2.7 milliwatts transmit, -89 dbM sensitivity
     &lt;/span&gt;
    &lt;/p&gt;
   &lt;/li&gt;
   &lt;li&gt;
    &lt;p&gt;
     &lt;span&gt;
      Nathan M. Pletcher et al, &quot;A 52 μW Wake-Up Receiver With 72 dBm Sensitivity Using an Uncertain-IF Architecture&quot; -
     &lt;/span&gt;
     &lt;a href=&quot;https://people.eecs.berkeley.edu/~pister/290Q/Papers/Radios/Pletcher%20WakeUp%20jssc09.pdf&quot; rel=&quot;&quot;&gt;
      https://people.eecs.berkeley.edu/~pister/290Q/Papers/Radios/Pletcher%20WakeUp%20jssc09.pdf
     &lt;/a&gt;
     &lt;span&gt;
      - old WRX from 2009
     &lt;/span&gt;
    &lt;/p&gt;
   &lt;/li&gt;
   &lt;li&gt;
    &lt;p&gt;
     Jonathan K. Brown eta al, &quot;A 65nm Energy-Harvesting ULP SoC with 256kB Cortex-M0 Enabling an 89.1µW Continuous Machine Health Monitoring Wireless Self-Powered System&quot; - paper on Everactive&#x27;s older SoC
    &lt;/p&gt;
   &lt;/li&gt;
   &lt;li&gt;
    &lt;p&gt;
     Intel® Wi-Fi 6 AX201 (Harrison Peak 2) and Wi-Fi 6 AX101 (Harrison Peak 1) External Product Specifications (EPS)
    &lt;/p&gt;
   &lt;/li&gt;
  &lt;/ol&gt;
  &lt;p&gt;
  &lt;/p&gt;
 &lt;/div&gt;
&lt;/div&gt;

</description>
</item>
<item>
<title> AMD’s RDNA4 GPU Architecture at Hot Chips 2025 </title>
<link>https://chipsandcheese.com/p/amds-rdna4-gpu-architecture-at-hot</link>
<pubDate>Sat, 13 Sep 2025 21:01:39 -0000</pubDate>
<description>
&lt;div&gt;
 &lt;div dir=&quot;auto&quot;&gt;
  &lt;p&gt;
   RDNA4 is AMD’s latest graphics-focused architecture, and fills out their RX 9000 line of discrete GPUs. AMD noted that creating a good gaming GPU requires understanding both current workloads, as well as taking into account what workloads might look like five years in the future. Thus AMD has been trying to improve efficiency across rasterization, compute, and raytracing. Machine learning has gained importance including in games, so AMD’s new GPU architecture caters to ML workloads as well.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!0Oe5!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb413d308-0974-4b4c-856c-5c9ce4004982_1600x896.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!0Oe5!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb413d308-0974-4b4c-856c-5c9ce4004982_1600x896.png 424w, https://substackcdn.com/image/fetch/$s_!0Oe5!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb413d308-0974-4b4c-856c-5c9ce4004982_1600x896.png 848w, https://substackcdn.com/image/fetch/$s_!0Oe5!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb413d308-0974-4b4c-856c-5c9ce4004982_1600x896.png 1272w, https://substackcdn.com/image/fetch/$s_!0Oe5!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb413d308-0974-4b4c-856c-5c9ce4004982_1600x896.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/b413d308-0974-4b4c-856c-5c9ce4004982_1600x896.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:815,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:false,&quot;topImage&quot;:true,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; fetchpriority=&quot;high&quot; height=&quot;815&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!0Oe5!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb413d308-0974-4b4c-856c-5c9ce4004982_1600x896.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!0Oe5!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb413d308-0974-4b4c-856c-5c9ce4004982_1600x896.png 424w, https://substackcdn.com/image/fetch/$s_!0Oe5!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb413d308-0974-4b4c-856c-5c9ce4004982_1600x896.png 848w, https://substackcdn.com/image/fetch/$s_!0Oe5!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb413d308-0974-4b4c-856c-5c9ce4004982_1600x896.png 1272w, https://substackcdn.com/image/fetch/$s_!0Oe5!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb413d308-0974-4b4c-856c-5c9ce4004982_1600x896.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   From AMD’s perspective, RDNA4 represents a large efficiency leap in raytracing and machine learning, while also improving on the rasterization front. Improved compression helps keep the graphics architecture fed. Outside of the GPU’s core graphics acceleration responsibility, RDNA4 brings improved media and display capabilities to round out the package.
  &lt;/p&gt;
  &lt;h1&gt;
   Media Engine
  &lt;/h1&gt;
  &lt;p&gt;
   The Media Engine provides hardware accelerated video encode and decode for a wide range of codecs. High end RDNA4 parts like the RX 9070XT have two media engines. RDNA4’s media engines feature faster decoding speed, helping save power during video playback by racing to idle. For video encoding, AMD targeted better quality in H.265, H.265, and AV1, especially in low latency encoding.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!aWeF!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb40a4273-7bc3-4f30-a12b-b2b45c188113_1595x895.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!aWeF!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb40a4273-7bc3-4f30-a12b-b2b45c188113_1595x895.png 424w, https://substackcdn.com/image/fetch/$s_!aWeF!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb40a4273-7bc3-4f30-a12b-b2b45c188113_1595x895.png 848w, https://substackcdn.com/image/fetch/$s_!aWeF!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb40a4273-7bc3-4f30-a12b-b2b45c188113_1595x895.png 1272w, https://substackcdn.com/image/fetch/$s_!aWeF!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb40a4273-7bc3-4f30-a12b-b2b45c188113_1595x895.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/b40a4273-7bc3-4f30-a12b-b2b45c188113_1595x895.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:817,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:false,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;817&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!aWeF!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb40a4273-7bc3-4f30-a12b-b2b45c188113_1595x895.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!aWeF!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb40a4273-7bc3-4f30-a12b-b2b45c188113_1595x895.png 424w, https://substackcdn.com/image/fetch/$s_!aWeF!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb40a4273-7bc3-4f30-a12b-b2b45c188113_1595x895.png 848w, https://substackcdn.com/image/fetch/$s_!aWeF!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb40a4273-7bc3-4f30-a12b-b2b45c188113_1595x895.png 1272w, https://substackcdn.com/image/fetch/$s_!aWeF!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb40a4273-7bc3-4f30-a12b-b2b45c188113_1595x895.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   &lt;span&gt;
    Low latency encoder modes are mostly beneficial for streaming, where delays caused by the media engine ultimately translate to a delayed stream. Reducing latency can make quality optimizations more challenging. Video codecs strive to encode differences between frames to economize storage. Buffering up more frames gives the encoder more opportunities to look for similar content across frames, and lets it allocate more bitrate budget for difficult sequences. But buffering up frames introduces latency. Another challenge is some popular streaming platforms mainly
   &lt;/span&gt;
   &lt;a href=&quot;https://help.twitch.tv/s/article/broadcasting-guidelines?language=en_US&quot; rel=&quot;&quot;&gt;
    use H.264
   &lt;/a&gt;
   &lt;span&gt;
    , an older codec that’s less efficient than AV1. Newer codecs are being tested, so the situation may start to change as the next few decades fly by. But for now, H.264 remains important due to its wide support.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!jr2M!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fad94c3c7-1aed-43fa-b21c-9fca5fcd44cd_1105x626.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!jr2M!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fad94c3c7-1aed-43fa-b21c-9fca5fcd44cd_1105x626.png 424w, https://substackcdn.com/image/fetch/$s_!jr2M!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fad94c3c7-1aed-43fa-b21c-9fca5fcd44cd_1105x626.png 848w, https://substackcdn.com/image/fetch/$s_!jr2M!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fad94c3c7-1aed-43fa-b21c-9fca5fcd44cd_1105x626.png 1272w, https://substackcdn.com/image/fetch/$s_!jr2M!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fad94c3c7-1aed-43fa-b21c-9fca5fcd44cd_1105x626.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/ad94c3c7-1aed-43fa-b21c-9fca5fcd44cd_1105x626.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:626,&quot;width&quot;:1105,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:false,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;626&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!jr2M!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fad94c3c7-1aed-43fa-b21c-9fca5fcd44cd_1105x626.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!jr2M!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fad94c3c7-1aed-43fa-b21c-9fca5fcd44cd_1105x626.png 424w, https://substackcdn.com/image/fetch/$s_!jr2M!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fad94c3c7-1aed-43fa-b21c-9fca5fcd44cd_1105x626.png 848w, https://substackcdn.com/image/fetch/$s_!jr2M!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fad94c3c7-1aed-43fa-b21c-9fca5fcd44cd_1105x626.png 1272w, https://substackcdn.com/image/fetch/$s_!jr2M!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fad94c3c7-1aed-43fa-b21c-9fca5fcd44cd_1105x626.png 1456w&quot; width=&quot;1105&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Testing with an old gameplay clip from Elder Scrolls Online shows a clear advantage for RDNA4’s media engine when testing with the latency-constrained VBR mode and encoder tuned for low latency encoding (-usage lowlatency -rc vbr_latency). Netflix’s VMAF video quality metric gives higher scores for RDNA4 throughout the bitrate range. Closer inspection generally agrees with the VMAF metric.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!Fz8q!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Feb88e5ae-470a-4e05-b964-5befb82b248d_901x365.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!Fz8q!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Feb88e5ae-470a-4e05-b964-5befb82b248d_901x365.png 424w, https://substackcdn.com/image/fetch/$s_!Fz8q!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Feb88e5ae-470a-4e05-b964-5befb82b248d_901x365.png 848w, https://substackcdn.com/image/fetch/$s_!Fz8q!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Feb88e5ae-470a-4e05-b964-5befb82b248d_901x365.png 1272w, https://substackcdn.com/image/fetch/$s_!Fz8q!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Feb88e5ae-470a-4e05-b964-5befb82b248d_901x365.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/eb88e5ae-470a-4e05-b964-5befb82b248d_901x365.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:365,&quot;width&quot;:901,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;365&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!Fz8q!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Feb88e5ae-470a-4e05-b964-5befb82b248d_901x365.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!Fz8q!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Feb88e5ae-470a-4e05-b964-5befb82b248d_901x365.png 424w, https://substackcdn.com/image/fetch/$s_!Fz8q!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Feb88e5ae-470a-4e05-b964-5befb82b248d_901x365.png 848w, https://substackcdn.com/image/fetch/$s_!Fz8q!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Feb88e5ae-470a-4e05-b964-5befb82b248d_901x365.png 1272w, https://substackcdn.com/image/fetch/$s_!Fz8q!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Feb88e5ae-470a-4e05-b964-5befb82b248d_901x365.png 1456w&quot; width=&quot;901&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   &lt;span&gt;
    RDNA4 does a better job preserving high contrast outlines. Differences are especially visible around text, which RDNA4 handles better than its predecessor while using a lower bitrate. Neither result looks great with such a close look, with blurred text on both examples and fine detail crushed in video encoding artifacts. But it’s worth remembering that the latency-constrained VBR mode uses a VBV buffer of
   &lt;/span&gt;
   &lt;a href=&quot;https://github.com/GPUOpen-LibrariesAndSDKs/AMF/wiki/Rate-Control-Methods&quot; rel=&quot;&quot;&gt;
    up to three frames
   &lt;/a&gt;
   &lt;span&gt;
    , while higher latency modes can use VBV buffer sizes covering multiple seconds of video. Encoding speed has improved slightly as well, jumping from ~190 to ~200 FPS from RDNA3.5 to RDNA4.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;h1&gt;
   Display Engine
  &lt;/h1&gt;
  &lt;p&gt;
   The display engine fetches on-screen frame data from memory, composites it into a final image, and drives it to the display outputs. It’s a basic task that most people take for granted, but the display engine is also a good place to perform various image enhancements. A traditional example is using a lookup table to apply color correction. Enhancements at the display engine are invisible to user software, and are typically carried out in hardware with minimal power cost. On RDNA4, AMD added a “Radeon Image Sharpening” filter, letting the display engine sharpen the final image. Using dedicated hardware at the display engine instead of the GPU’s programmable shaders means that the sharpening filter won’t impact performance and can be carried out with better power efficiency. And, AMD doesn’t need to rely on game developers to implement the effect. Sharpening can even apply to the desktop, though I’m not sure why anyone would want that.
  &lt;/p&gt;
  &lt;p&gt;
   Power consumption is another important optimization area for display engines. Traditionally that’s been more of a concern for mobile products, where maximizing battery life under low load is a top priority. But RDNA4 has taken aim at multi-monitor idle power with its newer display engine. AMD’s presentation stated that they took advantage of variable refresh rates on FreeSync displays. They didn’t go into more detail, but it’s easy to imagine what AMD might be doing. High resolution and high refresh rate displays translate to high pixel rates. That in turn drives higher memory bandwidth demands. Dynamically lowering refresh rates could let RDNA4’s memory subsystem enter a low power state while still meeting refresh deadlines.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!5ZHj!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F21c6a4ce-ab6d-4e68-85c2-974f1928e10d_591x140.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!5ZHj!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F21c6a4ce-ab6d-4e68-85c2-974f1928e10d_591x140.png 424w, https://substackcdn.com/image/fetch/$s_!5ZHj!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F21c6a4ce-ab6d-4e68-85c2-974f1928e10d_591x140.png 848w, https://substackcdn.com/image/fetch/$s_!5ZHj!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F21c6a4ce-ab6d-4e68-85c2-974f1928e10d_591x140.png 1272w, https://substackcdn.com/image/fetch/$s_!5ZHj!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F21c6a4ce-ab6d-4e68-85c2-974f1928e10d_591x140.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/21c6a4ce-ab6d-4e68-85c2-974f1928e10d_591x140.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:140,&quot;width&quot;:591,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;140&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!5ZHj!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F21c6a4ce-ab6d-4e68-85c2-974f1928e10d_591x140.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!5ZHj!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F21c6a4ce-ab6d-4e68-85c2-974f1928e10d_591x140.png 424w, https://substackcdn.com/image/fetch/$s_!5ZHj!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F21c6a4ce-ab6d-4e68-85c2-974f1928e10d_591x140.png 848w, https://substackcdn.com/image/fetch/$s_!5ZHj!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F21c6a4ce-ab6d-4e68-85c2-974f1928e10d_591x140.png 1272w, https://substackcdn.com/image/fetch/$s_!5ZHj!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F21c6a4ce-ab6d-4e68-85c2-974f1928e10d_591x140.png 1456w&quot; width=&quot;591&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
      &lt;div&gt;
      &lt;/div&gt;
     &lt;/div&gt;
    &lt;/a&gt;
    &lt;figcaption&gt;
     Power and GDDR6 data rates for various refresh rate combinations. AMD’s monitoring software (and others) read out extremely low memory clocks when the memory bus is able to idle, so those readings aren’t listed.
    &lt;/figcaption&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   I have a RX 9070 hooked up to a Viotek GN24CW 1080P display via HDMI, and a MSI MAG271QX 1440P capable of refresh rates up to 360 Hz. The latter is connected via DisplayPort. The RX 9070 manages to keep memory at idle clocks even at high refresh rate settings. Moving the mouse causes the card to ramp up memory clocks and consume more power, hinting that RDNA4 is lowering refresh rates when screen contents don’t change. Additionally, RDNA4 gets an intermediate GDDR6 power state that lets it handle the 1080P 60 Hz + 1440P 240 Hz combination without going to maximum memory clocks. On RDNA2, it’s more of an all or nothing situation. The older card is more prone to ramping up memory clocks to handle high pixel rates, and power consumption remains high even when screen contents don’t change.
  &lt;/p&gt;
  &lt;h1&gt;
   Compute Changes
  &lt;/h1&gt;
  &lt;p&gt;
   RDNA4’s Workgroup Processor retains the same high level layout as prior RDNA generations. However, it gets major improvements targeted towards raytracing, like improved raytracing units and wider BVH nodes, a dynamic register allocation mode, and a scheduler that no longer suffers false memory dependencies between waves. I covered those in previous articles. Besides those improvements, AMD’s presentation went over a couple other details worth discussing.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!sEei!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8270e398-c426-486d-94e0-6819aa177a20_1600x895.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!sEei!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8270e398-c426-486d-94e0-6819aa177a20_1600x895.png 424w, https://substackcdn.com/image/fetch/$s_!sEei!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8270e398-c426-486d-94e0-6819aa177a20_1600x895.png 848w, https://substackcdn.com/image/fetch/$s_!sEei!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8270e398-c426-486d-94e0-6819aa177a20_1600x895.png 1272w, https://substackcdn.com/image/fetch/$s_!sEei!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8270e398-c426-486d-94e0-6819aa177a20_1600x895.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/8270e398-c426-486d-94e0-6819aa177a20_1600x895.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:814,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;814&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!sEei!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8270e398-c426-486d-94e0-6819aa177a20_1600x895.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!sEei!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8270e398-c426-486d-94e0-6819aa177a20_1600x895.png 424w, https://substackcdn.com/image/fetch/$s_!sEei!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8270e398-c426-486d-94e0-6819aa177a20_1600x895.png 848w, https://substackcdn.com/image/fetch/$s_!sEei!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8270e398-c426-486d-94e0-6819aa177a20_1600x895.png 1272w, https://substackcdn.com/image/fetch/$s_!sEei!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8270e398-c426-486d-94e0-6819aa177a20_1600x895.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;h2&gt;
   Scalar Floating Point Instructions
  &lt;/h2&gt;
  &lt;p&gt;
   AMD has a long history of using a scalar unit to offload operations that are constant across a wave. Scalar offload saves power by avoiding redundant computation, and frees up the vector unit to increase performance in compute-bound sequences. RDNA4’s scalar unit gains a few floating point instructions, expanding scalar offload opportunities. This capability debuted on RDNA3.5, but RDNA4 brings it to discrete GPUs.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!kZ5z!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb03eff64-8afc-4928-bb6c-2e0f3f17c133_926x546.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!kZ5z!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb03eff64-8afc-4928-bb6c-2e0f3f17c133_926x546.png 424w, https://substackcdn.com/image/fetch/$s_!kZ5z!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb03eff64-8afc-4928-bb6c-2e0f3f17c133_926x546.png 848w, https://substackcdn.com/image/fetch/$s_!kZ5z!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb03eff64-8afc-4928-bb6c-2e0f3f17c133_926x546.png 1272w, https://substackcdn.com/image/fetch/$s_!kZ5z!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb03eff64-8afc-4928-bb6c-2e0f3f17c133_926x546.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/b03eff64-8afc-4928-bb6c-2e0f3f17c133_926x546.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:546,&quot;width&quot;:926,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;546&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!kZ5z!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb03eff64-8afc-4928-bb6c-2e0f3f17c133_926x546.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!kZ5z!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb03eff64-8afc-4928-bb6c-2e0f3f17c133_926x546.png 424w, https://substackcdn.com/image/fetch/$s_!kZ5z!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb03eff64-8afc-4928-bb6c-2e0f3f17c133_926x546.png 848w, https://substackcdn.com/image/fetch/$s_!kZ5z!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb03eff64-8afc-4928-bb6c-2e0f3f17c133_926x546.png 1272w, https://substackcdn.com/image/fetch/$s_!kZ5z!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb03eff64-8afc-4928-bb6c-2e0f3f17c133_926x546.png 1456w&quot; width=&quot;926&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   While not discussed in AMD’s presentation, scalar offload can bring additional performance benefits because scalar instructions sometimes have lower latency than their vector counterparts. Most basic vector instructions on RDNA4 have 5 cycle latency. FP32 adds and multiples on the scalar unit have 4 cycle latency. The biggest latency benefits still come from offloading integer operations though.
  &lt;/p&gt;
  &lt;h2&gt;
   Split Barriers
  &lt;/h2&gt;
  &lt;p&gt;
   GPUs use barriers to synchronize threads and enforce memory ordering. For example, a s_barrier instruction on older AMD GPUs would cause a thread to wait until all of its peers in the workgroup also reached the s_barrier instruction. Barriers degrade performance because any thread that happened to reach the barrier faster would have to stall until its peers catch up.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!Bv-N!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd809ae87-fff4-43b7-b5e7-3cb1951f22ae_698x382.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!Bv-N!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd809ae87-fff4-43b7-b5e7-3cb1951f22ae_698x382.png 424w, https://substackcdn.com/image/fetch/$s_!Bv-N!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd809ae87-fff4-43b7-b5e7-3cb1951f22ae_698x382.png 848w, https://substackcdn.com/image/fetch/$s_!Bv-N!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd809ae87-fff4-43b7-b5e7-3cb1951f22ae_698x382.png 1272w, https://substackcdn.com/image/fetch/$s_!Bv-N!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd809ae87-fff4-43b7-b5e7-3cb1951f22ae_698x382.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/d809ae87-fff4-43b7-b5e7-3cb1951f22ae_698x382.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:382,&quot;width&quot;:698,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;382&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!Bv-N!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd809ae87-fff4-43b7-b5e7-3cb1951f22ae_698x382.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!Bv-N!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd809ae87-fff4-43b7-b5e7-3cb1951f22ae_698x382.png 424w, https://substackcdn.com/image/fetch/$s_!Bv-N!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd809ae87-fff4-43b7-b5e7-3cb1951f22ae_698x382.png 848w, https://substackcdn.com/image/fetch/$s_!Bv-N!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd809ae87-fff4-43b7-b5e7-3cb1951f22ae_698x382.png 1272w, https://substackcdn.com/image/fetch/$s_!Bv-N!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd809ae87-fff4-43b7-b5e7-3cb1951f22ae_698x382.png 1456w&quot; width=&quot;698&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   RDNA4 splits the barrier into separate “signal” and “wait” actions. Instead of s_barrier, RDNA4 has s_barrier_signal and s_barrier_wait. A thread can “signal” the barrier once it produces data that other threads might need. It can then do independent work, and only wait on the barrier once it needs to use data produced by other threads. The s_barrier_wait will then stall the thread until all other threads in the workgroup have signalled the barrier.
  &lt;/p&gt;
  &lt;h1&gt;
   Memory Subsystem
  &lt;/h1&gt;
  &lt;p&gt;
   The largest RDNA4 variants have a 8 MB L2 cache, representing a substantial L2 capacity increase compared to prior RDNA generations. RDNA3 and RDNA2 maxed out at 6 MB and 4 MB L2 capacities, respectively. AMD found that difficult workloads like raytracing benefit from the larger L2. Raytracing involves pointer chasing during BVH traversal, and it’s not surprising that it’s more sensitive to accesses getting serviced from the slower Infinity Cache as opposed to L2. In the initial scene in 3DMark’s DXR feature test, run in Explorer Mode, RDNA4 dramatically cuts down the amount of data that has to be fetched from beyond L2.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!XRgN!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fcbab4be2-276d-430a-b64c-35ea0823a2e5_952x282.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!XRgN!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fcbab4be2-276d-430a-b64c-35ea0823a2e5_952x282.png 424w, https://substackcdn.com/image/fetch/$s_!XRgN!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fcbab4be2-276d-430a-b64c-35ea0823a2e5_952x282.png 848w, https://substackcdn.com/image/fetch/$s_!XRgN!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fcbab4be2-276d-430a-b64c-35ea0823a2e5_952x282.png 1272w, https://substackcdn.com/image/fetch/$s_!XRgN!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fcbab4be2-276d-430a-b64c-35ea0823a2e5_952x282.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/cbab4be2-276d-430a-b64c-35ea0823a2e5_952x282.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:282,&quot;width&quot;:952,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;282&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!XRgN!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fcbab4be2-276d-430a-b64c-35ea0823a2e5_952x282.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!XRgN!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fcbab4be2-276d-430a-b64c-35ea0823a2e5_952x282.png 424w, https://substackcdn.com/image/fetch/$s_!XRgN!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fcbab4be2-276d-430a-b64c-35ea0823a2e5_952x282.png 848w, https://substackcdn.com/image/fetch/$s_!XRgN!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fcbab4be2-276d-430a-b64c-35ea0823a2e5_952x282.png 1272w, https://substackcdn.com/image/fetch/$s_!XRgN!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fcbab4be2-276d-430a-b64c-35ea0823a2e5_952x282.png 1456w&quot; width=&quot;952&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   RDNA2 still does a good job of keeping data in L2 in absolute terms. But it’s worth noting that hitting Infinity Cache on both platforms adds more than 50 ns of extra latency over a L2 hit. That’s well north of 100 cycles because both RDNA2 and RDNA4 run above 2 GHz. While AMD’s graphics strategy has shifted towards making the faster caches bigger, it still contrasts with Nvidia’s strategy of putting way more eggs in the L2 basket. Blackwell’s L2 cache serves the functions of both AMD’s L2 and Infinity Cache, and has latency between those two cache levels. Nvidia also has a flexible L1/shared memory allocation scheme that can give them more low latency caching capacity in front of L2, depending on a workload’s requested local storage (shared memory) capacity.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!Q2Ta!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4cd66a95-c764-4cea-9e6a-b03a078ac74c_1600x804.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!Q2Ta!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4cd66a95-c764-4cea-9e6a-b03a078ac74c_1600x804.png 424w, https://substackcdn.com/image/fetch/$s_!Q2Ta!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4cd66a95-c764-4cea-9e6a-b03a078ac74c_1600x804.png 848w, https://substackcdn.com/image/fetch/$s_!Q2Ta!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4cd66a95-c764-4cea-9e6a-b03a078ac74c_1600x804.png 1272w, https://substackcdn.com/image/fetch/$s_!Q2Ta!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4cd66a95-c764-4cea-9e6a-b03a078ac74c_1600x804.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/4cd66a95-c764-4cea-9e6a-b03a078ac74c_1600x804.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:732,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;732&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!Q2Ta!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4cd66a95-c764-4cea-9e6a-b03a078ac74c_1600x804.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!Q2Ta!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4cd66a95-c764-4cea-9e6a-b03a078ac74c_1600x804.png 424w, https://substackcdn.com/image/fetch/$s_!Q2Ta!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4cd66a95-c764-4cea-9e6a-b03a078ac74c_1600x804.png 848w, https://substackcdn.com/image/fetch/$s_!Q2Ta!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4cd66a95-c764-4cea-9e6a-b03a078ac74c_1600x804.png 1272w, https://substackcdn.com/image/fetch/$s_!Q2Ta!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4cd66a95-c764-4cea-9e6a-b03a078ac74c_1600x804.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   A mid-level L1 cache was a familiar fixture on prior RDNA generations. It’s conspicuously missing from RDNA4, as well as AMD’s presentation. One possibility is that L1 cache hitrate wasn’t high enough to justify the complexity of an extra cache level. Perhaps AMD felt its area and transistor budget was better allocated towards increasing L2 capacity. To support this theory, L1 hitrate on RDNA1 was often below 50%. At the same time, the RDNA series always enjoyed a high bandwidth and low latency L2. Putting more pressure on L2 in exchange for reducing L2 misses may have been an enticing tradeoff. Another possibility is that AMD ran into validation issues with the L1 cache and decided to skip it for this generation. There’s no way to verify either possibility of course, but I think the former reasons make more sense.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!gorR!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Faa2f5e19-2cdd-433a-855d-ef90611ff448_930x892.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!gorR!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Faa2f5e19-2cdd-433a-855d-ef90611ff448_930x892.png 424w, https://substackcdn.com/image/fetch/$s_!gorR!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Faa2f5e19-2cdd-433a-855d-ef90611ff448_930x892.png 848w, https://substackcdn.com/image/fetch/$s_!gorR!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Faa2f5e19-2cdd-433a-855d-ef90611ff448_930x892.png 1272w, https://substackcdn.com/image/fetch/$s_!gorR!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Faa2f5e19-2cdd-433a-855d-ef90611ff448_930x892.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/aa2f5e19-2cdd-433a-855d-ef90611ff448_930x892.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:892,&quot;width&quot;:930,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;892&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!gorR!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Faa2f5e19-2cdd-433a-855d-ef90611ff448_930x892.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!gorR!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Faa2f5e19-2cdd-433a-855d-ef90611ff448_930x892.png 424w, https://substackcdn.com/image/fetch/$s_!gorR!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Faa2f5e19-2cdd-433a-855d-ef90611ff448_930x892.png 848w, https://substackcdn.com/image/fetch/$s_!gorR!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Faa2f5e19-2cdd-433a-855d-ef90611ff448_930x892.png 1272w, https://substackcdn.com/image/fetch/$s_!gorR!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Faa2f5e19-2cdd-433a-855d-ef90611ff448_930x892.png 1456w&quot; width=&quot;930&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Beyond tweaking the cache hierarchy, RDNA4 brings improvements to transparent compression. AMD emphasized that they’re using compression throughout the SoC, including at points like the display engine and media engine. Compressed data can be stored in caches, and decompressed before being written back to memory. Compression cuts down on data transfer, which reduces bandwidth requirements and improves power efficiency.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!Lkk0!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ffd6b4667-39e3-453b-adf2-31e229f9b89e_1600x897.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!Lkk0!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ffd6b4667-39e3-453b-adf2-31e229f9b89e_1600x897.png 424w, https://substackcdn.com/image/fetch/$s_!Lkk0!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ffd6b4667-39e3-453b-adf2-31e229f9b89e_1600x897.png 848w, https://substackcdn.com/image/fetch/$s_!Lkk0!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ffd6b4667-39e3-453b-adf2-31e229f9b89e_1600x897.png 1272w, https://substackcdn.com/image/fetch/$s_!Lkk0!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ffd6b4667-39e3-453b-adf2-31e229f9b89e_1600x897.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/fd6b4667-39e3-453b-adf2-31e229f9b89e_1600x897.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:816,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;816&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!Lkk0!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ffd6b4667-39e3-453b-adf2-31e229f9b89e_1600x897.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!Lkk0!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ffd6b4667-39e3-453b-adf2-31e229f9b89e_1600x897.png 424w, https://substackcdn.com/image/fetch/$s_!Lkk0!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ffd6b4667-39e3-453b-adf2-31e229f9b89e_1600x897.png 848w, https://substackcdn.com/image/fetch/$s_!Lkk0!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ffd6b4667-39e3-453b-adf2-31e229f9b89e_1600x897.png 1272w, https://substackcdn.com/image/fetch/$s_!Lkk0!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ffd6b4667-39e3-453b-adf2-31e229f9b89e_1600x897.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   &lt;span&gt;
    Transparent compression is not a new feature. It has a long history of being one tool in the GPU toolbox for reducing memory bandwidth usage, and it would be difficult to find any modern GPU without compression features of some sort. Even compression in other blocks like the display engine have precedent. Intel’s display engines for example use Framebuffer Compression (FBC), which can write a compressed copy of frame data and keep fetching the compressed copy to reduce data transfer power usage as long as the data doesn’t change. Prior RDNA generations had compression features too, and AMD’s
   &lt;/span&gt;
   &lt;a href=&quot;https://gpuopen.com/manuals/rgp_manual/overview_windows/&quot; rel=&quot;&quot;&gt;
    documentation
   &lt;/a&gt;
   &lt;span&gt;
    summarizes some compression targets. While AMD didn’t talk about compression efficiency, I tried to take similar frame captures using RGP on both RDNA1 and RDNA4 to see if there’s a large difference in memory access per frame. It didn’t quite work out the way I expected, but I’ll put them here anyway and discuss why evaluating compression efficacy is challenging.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!BSLN!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fea8bc5f3-a77e-4302-b9cb-9f684ebb6258_1025x529.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!BSLN!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fea8bc5f3-a77e-4302-b9cb-9f684ebb6258_1025x529.png 424w, https://substackcdn.com/image/fetch/$s_!BSLN!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fea8bc5f3-a77e-4302-b9cb-9f684ebb6258_1025x529.png 848w, https://substackcdn.com/image/fetch/$s_!BSLN!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fea8bc5f3-a77e-4302-b9cb-9f684ebb6258_1025x529.png 1272w, https://substackcdn.com/image/fetch/$s_!BSLN!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fea8bc5f3-a77e-4302-b9cb-9f684ebb6258_1025x529.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/ea8bc5f3-a77e-4302-b9cb-9f684ebb6258_1025x529.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:529,&quot;width&quot;:1025,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;529&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!BSLN!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fea8bc5f3-a77e-4302-b9cb-9f684ebb6258_1025x529.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!BSLN!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fea8bc5f3-a77e-4302-b9cb-9f684ebb6258_1025x529.png 424w, https://substackcdn.com/image/fetch/$s_!BSLN!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fea8bc5f3-a77e-4302-b9cb-9f684ebb6258_1025x529.png 848w, https://substackcdn.com/image/fetch/$s_!BSLN!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fea8bc5f3-a77e-4302-b9cb-9f684ebb6258_1025x529.png 1272w, https://substackcdn.com/image/fetch/$s_!BSLN!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fea8bc5f3-a77e-4302-b9cb-9f684ebb6258_1025x529.png 1456w&quot; width=&quot;1025&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   The first challenge is that both architectures satisfy most memory requests from L0 or L1. AMD slides on RDNA1 suggest the L0 and L1 only hold decompressed data, at least for delta color compression. Compression does apply to L2. For RDNA4, AMD’s slides indicate it applies to the Infinity Cache too. However, focusing on data transfer to and from the L2 wouldn’t work due the large cache hierarchy differences between those RDNA generations.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!ZENF!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F056c0a6c-870f-4d73-9c08-df4c653c52f5_1273x715.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!ZENF!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F056c0a6c-870f-4d73-9c08-df4c653c52f5_1273x715.png 424w, https://substackcdn.com/image/fetch/$s_!ZENF!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F056c0a6c-870f-4d73-9c08-df4c653c52f5_1273x715.png 848w, https://substackcdn.com/image/fetch/$s_!ZENF!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F056c0a6c-870f-4d73-9c08-df4c653c52f5_1273x715.png 1272w, https://substackcdn.com/image/fetch/$s_!ZENF!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F056c0a6c-870f-4d73-9c08-df4c653c52f5_1273x715.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/056c0a6c-870f-4d73-9c08-df4c653c52f5_1273x715.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:715,&quot;width&quot;:1273,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;715&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!ZENF!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F056c0a6c-870f-4d73-9c08-df4c653c52f5_1273x715.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!ZENF!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F056c0a6c-870f-4d73-9c08-df4c653c52f5_1273x715.png 424w, https://substackcdn.com/image/fetch/$s_!ZENF!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F056c0a6c-870f-4d73-9c08-df4c653c52f5_1273x715.png 848w, https://substackcdn.com/image/fetch/$s_!ZENF!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F056c0a6c-870f-4d73-9c08-df4c653c52f5_1273x715.png 1272w, https://substackcdn.com/image/fetch/$s_!ZENF!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F056c0a6c-870f-4d73-9c08-df4c653c52f5_1273x715.png 1456w&quot; width=&quot;1273&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
    &lt;figcaption&gt;
     DCC, or delta color compression, is not the only form of compression. But this slide shows one example of compression/decompression happening in front of L2
    &lt;/figcaption&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Another issue is, it’s easy to imagine a compression scheme that doesn’t change the number of cache requests involved. For example, data might be compressed to only take up part of a cacheline. A request only causes a subset of the cacheline to be read out, which a decompressor module expands to the full 128B. Older RDNA1 slides are ambiguous about this, indicating that DCC operates on 256B granularity (two cachelines) without providing further details.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!Thid!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4fd61f49-1a03-4938-a21d-d7466bff8171_1273x719.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!Thid!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4fd61f49-1a03-4938-a21d-d7466bff8171_1273x719.png 424w, https://substackcdn.com/image/fetch/$s_!Thid!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4fd61f49-1a03-4938-a21d-d7466bff8171_1273x719.png 848w, https://substackcdn.com/image/fetch/$s_!Thid!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4fd61f49-1a03-4938-a21d-d7466bff8171_1273x719.png 1272w, https://substackcdn.com/image/fetch/$s_!Thid!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4fd61f49-1a03-4938-a21d-d7466bff8171_1273x719.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/4fd61f49-1a03-4938-a21d-d7466bff8171_1273x719.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:719,&quot;width&quot;:1273,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;719&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!Thid!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4fd61f49-1a03-4938-a21d-d7466bff8171_1273x719.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!Thid!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4fd61f49-1a03-4938-a21d-d7466bff8171_1273x719.png 424w, https://substackcdn.com/image/fetch/$s_!Thid!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4fd61f49-1a03-4938-a21d-d7466bff8171_1273x719.png 848w, https://substackcdn.com/image/fetch/$s_!Thid!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4fd61f49-1a03-4938-a21d-d7466bff8171_1273x719.png 1272w, https://substackcdn.com/image/fetch/$s_!Thid!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4fd61f49-1a03-4938-a21d-d7466bff8171_1273x719.png 1456w&quot; width=&quot;1273&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   In any case, compression may be a contributing factor in RDNA4 being able to achieve better performance while using a smaller Infinity Cache than prior generations, despite only having a 256-bit GDDR6 DRAM setup.
  &lt;/p&gt;
  &lt;h1&gt;
   SoC Features
  &lt;/h1&gt;
  &lt;p&gt;
   AMD went over RAS, or reliability, availability, and serviceability features in RDNA4. Modern chips use parity and ECC to detect errors and correct them, and evidently RDNA4 does the same. Unrecoverable errors are handled with driver intervention, by “re-initializing the relevant portion of the SoC, thus preventing the platform from shutting down”. There’s two ways to interpret that statement. One is that the GPU can be re-initialized to recover from hardware errors, obviously affecting any software relying on GPU acceleration. Another is that some parts of the GPU can be re-initialized while the GPU continues handling work. I think the former is more likely, though I can imagine the latter being possible in limited forms too. For example, an unrecoverable error reading from GDDR6 can hypothetically be fixed if that data is backed by a duplicate in system memory. The driver could transfer known-good data from the host to replace the corrupted copy. But errors with modified data would be difficult to recover from, because there might not be an up-to-date copy elsewhere in the system.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!gEEn!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd2c51ef6-6121-443b-ac04-ba860116fd2c_1600x901.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!gEEn!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd2c51ef6-6121-443b-ac04-ba860116fd2c_1600x901.png 424w, https://substackcdn.com/image/fetch/$s_!gEEn!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd2c51ef6-6121-443b-ac04-ba860116fd2c_1600x901.png 848w, https://substackcdn.com/image/fetch/$s_!gEEn!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd2c51ef6-6121-443b-ac04-ba860116fd2c_1600x901.png 1272w, https://substackcdn.com/image/fetch/$s_!gEEn!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd2c51ef6-6121-443b-ac04-ba860116fd2c_1600x901.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/d2c51ef6-6121-443b-ac04-ba860116fd2c_1600x901.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:820,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;820&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!gEEn!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd2c51ef6-6121-443b-ac04-ba860116fd2c_1600x901.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!gEEn!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd2c51ef6-6121-443b-ac04-ba860116fd2c_1600x901.png 424w, https://substackcdn.com/image/fetch/$s_!gEEn!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd2c51ef6-6121-443b-ac04-ba860116fd2c_1600x901.png 848w, https://substackcdn.com/image/fetch/$s_!gEEn!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd2c51ef6-6121-443b-ac04-ba860116fd2c_1600x901.png 1272w, https://substackcdn.com/image/fetch/$s_!gEEn!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd2c51ef6-6121-443b-ac04-ba860116fd2c_1600x901.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   On the security front, microprocessors get private buses to “critical blocks” and protected register access mechanisms. Security here targets HDCP and other DRM features, which I don’t find particularly amusing. But terminology shown on the slide is interesting, because MP0 and MP1 are also covered in AMD’s CPU-side documentation. On the CPU side, MP0 (microprocessor 0) handles some Secure Encrypted Virtualization (SEV) features. It’s sometimes called the Platform Security Processor (PSP) too. MP1 on CPUs is called the System Management Unit (SMU), which covers power control functions. Curiously AMD’s slide labels MP1 and the SMU separately on RDNA4. MP0/MP1 could have completely different functions on GPUs of course. But the common terminology raises the possibility that there’s a lot of shared work between CPU and GPU SoC design. RAS is also a very traditional CPU feature, though GPUs have picked up RAS features over time as GPU compute picked up steam.
  &lt;/p&gt;
  &lt;h2&gt;
   Infinity Fabric
  &lt;/h2&gt;
  &lt;p&gt;
   One of the most obvious examples of shared effort between the CPU and GPU sides is Infinity Fabric making its way to graphics designs. This started years ago with Vega, though back then using Infinity Fabric was more of an implementation detail. But years later, Infinity Fabric components provided an elegant way to implement a large last level cache, or multi-socket coherent systems with gigantic iGPUs (like MI300A).
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!Taos!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4ca1d41c-ba41-4af5-8606-8a67dbe001f8_1270x713.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!Taos!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4ca1d41c-ba41-4af5-8606-8a67dbe001f8_1270x713.png 424w, https://substackcdn.com/image/fetch/$s_!Taos!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4ca1d41c-ba41-4af5-8606-8a67dbe001f8_1270x713.png 848w, https://substackcdn.com/image/fetch/$s_!Taos!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4ca1d41c-ba41-4af5-8606-8a67dbe001f8_1270x713.png 1272w, https://substackcdn.com/image/fetch/$s_!Taos!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4ca1d41c-ba41-4af5-8606-8a67dbe001f8_1270x713.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/4ca1d41c-ba41-4af5-8606-8a67dbe001f8_1270x713.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:713,&quot;width&quot;:1270,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;713&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!Taos!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4ca1d41c-ba41-4af5-8606-8a67dbe001f8_1270x713.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!Taos!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4ca1d41c-ba41-4af5-8606-8a67dbe001f8_1270x713.png 424w, https://substackcdn.com/image/fetch/$s_!Taos!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4ca1d41c-ba41-4af5-8606-8a67dbe001f8_1270x713.png 848w, https://substackcdn.com/image/fetch/$s_!Taos!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4ca1d41c-ba41-4af5-8606-8a67dbe001f8_1270x713.png 1272w, https://substackcdn.com/image/fetch/$s_!Taos!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4ca1d41c-ba41-4af5-8606-8a67dbe001f8_1270x713.png 1456w&quot; width=&quot;1270&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
    &lt;figcaption&gt;
     Slide from Hot Chips 29, covering Infinity Fabric used in AMD’s older Vega GPU
    &lt;/figcaption&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   The Infinity Fabric memory-side subsystem on RDNA4 consists of 16 CS (Coherent Station) blocks, each paired with a Unified Memory Controller (UMC). Coherent Stations receive requests coming off the graphics L2 and other clients. They ensure coherent memory access by either getting data from a UMC, or by sending a probe if another block has a more up-to-date copy of the requested cacheline. The CS is a logical place to implement a memory side cache, and each CS instance has 4 MB of cache in RDNA4.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!2dA8!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F500b5783-7a52-4f32-930d-609432574e29_1600x735.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!2dA8!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F500b5783-7a52-4f32-930d-609432574e29_1600x735.png 424w, https://substackcdn.com/image/fetch/$s_!2dA8!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F500b5783-7a52-4f32-930d-609432574e29_1600x735.png 848w, https://substackcdn.com/image/fetch/$s_!2dA8!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F500b5783-7a52-4f32-930d-609432574e29_1600x735.png 1272w, https://substackcdn.com/image/fetch/$s_!2dA8!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F500b5783-7a52-4f32-930d-609432574e29_1600x735.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/500b5783-7a52-4f32-930d-609432574e29_1600x735.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:669,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;669&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!2dA8!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F500b5783-7a52-4f32-930d-609432574e29_1600x735.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!2dA8!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F500b5783-7a52-4f32-930d-609432574e29_1600x735.png 424w, https://substackcdn.com/image/fetch/$s_!2dA8!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F500b5783-7a52-4f32-930d-609432574e29_1600x735.png 848w, https://substackcdn.com/image/fetch/$s_!2dA8!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F500b5783-7a52-4f32-930d-609432574e29_1600x735.png 1272w, https://substackcdn.com/image/fetch/$s_!2dA8!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F500b5783-7a52-4f32-930d-609432574e29_1600x735.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   To save power, Infinity Fabric supports DVFS (dynamic voltage and frequency scaling) to save power, and clocks between 1.5 and 2.5 GHz. Infinity Fabric bandwidth is 1024 bits per clock, which suggests the Infinity Cache can provide 2.5 TB/s of theoretical bandwidth. That roughly lines up with results from Nemes’s Vulkan-based GPU cache and memory bandwidth microbenchmark.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!xu5w!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3074a1b9-88b9-417e-a6ed-5ff8b2f3155b_1600x900.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!xu5w!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3074a1b9-88b9-417e-a6ed-5ff8b2f3155b_1600x900.png 424w, https://substackcdn.com/image/fetch/$s_!xu5w!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3074a1b9-88b9-417e-a6ed-5ff8b2f3155b_1600x900.png 848w, https://substackcdn.com/image/fetch/$s_!xu5w!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3074a1b9-88b9-417e-a6ed-5ff8b2f3155b_1600x900.png 1272w, https://substackcdn.com/image/fetch/$s_!xu5w!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3074a1b9-88b9-417e-a6ed-5ff8b2f3155b_1600x900.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/3074a1b9-88b9-417e-a6ed-5ff8b2f3155b_1600x900.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:819,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;819&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!xu5w!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3074a1b9-88b9-417e-a6ed-5ff8b2f3155b_1600x900.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!xu5w!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3074a1b9-88b9-417e-a6ed-5ff8b2f3155b_1600x900.png 424w, https://substackcdn.com/image/fetch/$s_!xu5w!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3074a1b9-88b9-417e-a6ed-5ff8b2f3155b_1600x900.png 848w, https://substackcdn.com/image/fetch/$s_!xu5w!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3074a1b9-88b9-417e-a6ed-5ff8b2f3155b_1600x900.png 1272w, https://substackcdn.com/image/fetch/$s_!xu5w!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3074a1b9-88b9-417e-a6ed-5ff8b2f3155b_1600x900.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   AMD also went over their ability to disable various SoC components to harvest dies and create different SKUs. Shader Engines, WGPs, and memory controller channels can be disabled. AMD and other manufacturers have used similar harvesting capabilities in the past. I’m not sure what’s new here. Likely, AMD wants to re-emphasize their harvesting options.
  &lt;/p&gt;
  &lt;p&gt;
   Finally, AMD mentioned that they chose a monolithic design for RDNA4 because it made sense for a graphics engine of its size. They looked at performance goals, package assembly and turnaround time, and cost. After evaluating those factors, they decided a monolithic design was the right option. It’s not a surprise. After all, AMD used monolithic designs for lower end RDNA3 products with smaller graphics engines, and only used chiplets for the largest SKUs. Rather, it’s a reminder that there’s no one size fits all solution. Whether a monolithic or chiplet-based design makes more sense depends heavily on design goals.
  &lt;/p&gt;
  &lt;h1&gt;
   Final Words
  &lt;/h1&gt;
  &lt;p&gt;
   &lt;span&gt;
    RDNA4 brings a lot of exciting improvements to the table, while breaking away from any attempt to tackle the top end performance segment. Rather than going for maximum performance, RDNA4 looks optimized to improve efficiency over prior generations. The RX 9070
   &lt;/span&gt;
   &lt;a href=&quot;https://www.techspot.com/review/2962-amd-radeon-9070/&quot; rel=&quot;&quot;&gt;
    offers similar performance
   &lt;/a&gt;
   &lt;span&gt;
    to the RX 7900XT in rasterization workloads despite having a lower power budget, less memory bandwidth, and a smaller last level cache. Techspot also shows the RX 9070 leading with raytracing workloads, which aligns with AMD&#x27;s goal of enhancing raytracing performance.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!fiKo!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F54f4e5be-a668-43bb-bdcf-391ab3043dc0_1530x855.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!fiKo!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F54f4e5be-a668-43bb-bdcf-391ab3043dc0_1530x855.png 424w, https://substackcdn.com/image/fetch/$s_!fiKo!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F54f4e5be-a668-43bb-bdcf-391ab3043dc0_1530x855.png 848w, https://substackcdn.com/image/fetch/$s_!fiKo!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F54f4e5be-a668-43bb-bdcf-391ab3043dc0_1530x855.png 1272w, https://substackcdn.com/image/fetch/$s_!fiKo!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F54f4e5be-a668-43bb-bdcf-391ab3043dc0_1530x855.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/54f4e5be-a668-43bb-bdcf-391ab3043dc0_1530x855.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:814,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;814&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!fiKo!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F54f4e5be-a668-43bb-bdcf-391ab3043dc0_1530x855.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!fiKo!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F54f4e5be-a668-43bb-bdcf-391ab3043dc0_1530x855.png 424w, https://substackcdn.com/image/fetch/$s_!fiKo!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F54f4e5be-a668-43bb-bdcf-391ab3043dc0_1530x855.png 848w, https://substackcdn.com/image/fetch/$s_!fiKo!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F54f4e5be-a668-43bb-bdcf-391ab3043dc0_1530x855.png 1272w, https://substackcdn.com/image/fetch/$s_!fiKo!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F54f4e5be-a668-43bb-bdcf-391ab3043dc0_1530x855.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
    &lt;figcaption&gt;
     Slide from RDNA4’s Launch Presentation not Hot Chips 2025
    &lt;/figcaption&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   AMD achieves this efficiency using compression, better raytracing structures, and a larger L2 cache. As a result, RDNA4 can pack its performance into a relatively small 356.5 mm² die and use a modest 256-bit GDDR6 memory setup. Display and media engine improvements are welcome too. Multi-monitor idle power feels like a neglected area for discrete GPUs, even though I know many people use multiple monitors for productivity. Lowering idle power in those setups is much appreciated. On the media engine side, AMD’s video encoding capabilities have often lagged behind the competition. RDNA4’s progress at least prevents AMD from falling as far behind as they have before.
  &lt;/p&gt;
  &lt;p&gt;
   &lt;span&gt;
    If you like the content then consider heading over to the
   &lt;/span&gt;
   &lt;a href=&quot;https://www.patreon.com/ChipsandCheese&quot; rel=&quot;&quot;&gt;
    Patreon
   &lt;/a&gt;
   &lt;span&gt;
    or
   &lt;/span&gt;
   &lt;a href=&quot;https://www.paypal.com/donate/?hosted_button_id=4EMPH66SBGVSQ&quot; rel=&quot;&quot;&gt;
    PayPal
   &lt;/a&gt;
   &lt;span&gt;
    if you want to toss a few bucks to Chips and Cheese. Also consider joining the
   &lt;/span&gt;
   &lt;a href=&quot;https://discord.gg/TwVnRhxgY2&quot; rel=&quot;&quot;&gt;
    Discord
   &lt;/a&gt;
   &lt;span&gt;
    .
   &lt;/span&gt;
  &lt;/p&gt;
 &lt;/div&gt;
&lt;/div&gt;

</description>
</item>
<item>
<title> Intel’s E2200 “Mount Morgan” IPU at Hot Chips 2025 </title>
<link>https://chipsandcheese.com/p/intels-e2200-mount-morgan-ipu-at</link>
<pubDate>Wed, 10 Sep 2025 21:35:12 -0000</pubDate>
<description>
&lt;div&gt;
 &lt;div dir=&quot;auto&quot;&gt;
  &lt;p&gt;
   Intel’s IPUs, or Infrastructure Processing Units, evolved as network adapters developed increasingly sophisticated offload capabilities. IPUs take things a step further, aiming to take on a wide variety of infrastructure services in a cloud environment in addition to traditional software defined networking functions. Infrastructure services are run by the cloud operator and orchestrate tasks like provisioning VMs or collecting metrics. They won’t stress a modern server CPU, but every CPU core set aside for those tasks is one that can’t be rented out to customers. Offloading infrastructure workloads also provides an extra layer of isolation between a cloud provider’s code and customer workloads. If a cloud provider rents out bare metal servers, running infrastructure services within the server may not even be an option.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!GlzW!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F57f69b2e-ed07-4071-9a4d-87ac187acb28_1597x892.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!GlzW!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F57f69b2e-ed07-4071-9a4d-87ac187acb28_1597x892.png 424w, https://substackcdn.com/image/fetch/$s_!GlzW!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F57f69b2e-ed07-4071-9a4d-87ac187acb28_1597x892.png 848w, https://substackcdn.com/image/fetch/$s_!GlzW!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F57f69b2e-ed07-4071-9a4d-87ac187acb28_1597x892.png 1272w, https://substackcdn.com/image/fetch/$s_!GlzW!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F57f69b2e-ed07-4071-9a4d-87ac187acb28_1597x892.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/57f69b2e-ed07-4071-9a4d-87ac187acb28_1597x892.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:813,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:false,&quot;topImage&quot;:true,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; fetchpriority=&quot;high&quot; height=&quot;813&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!GlzW!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F57f69b2e-ed07-4071-9a4d-87ac187acb28_1597x892.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!GlzW!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F57f69b2e-ed07-4071-9a4d-87ac187acb28_1597x892.png 424w, https://substackcdn.com/image/fetch/$s_!GlzW!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F57f69b2e-ed07-4071-9a4d-87ac187acb28_1597x892.png 848w, https://substackcdn.com/image/fetch/$s_!GlzW!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F57f69b2e-ed07-4071-9a4d-87ac187acb28_1597x892.png 1272w, https://substackcdn.com/image/fetch/$s_!GlzW!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F57f69b2e-ed07-4071-9a4d-87ac187acb28_1597x892.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Intel’s incoming “Mount Morgan” IPU packs a variety of highly configurable accelerators alongside general purpose CPU cores, and aims to capture as many infrastructure tasks as possible. It shares those characteristics with its predecessor, “Mount Evans”. Flexibility is the name of the game with these IPUs, which can appear as a particularly capable network card to up to four host servers, or run standalone to act as a small server. Compared to Mount Evans, Mount Morgan packs more general purpose compute power, improved accelerators, and more off-chip bandwidth to support the whole package.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!qPO1!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd1e7ad2f-14ab-45a0-85d4-76ef308854f2_1277x717.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!qPO1!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd1e7ad2f-14ab-45a0-85d4-76ef308854f2_1277x717.png 424w, https://substackcdn.com/image/fetch/$s_!qPO1!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd1e7ad2f-14ab-45a0-85d4-76ef308854f2_1277x717.png 848w, https://substackcdn.com/image/fetch/$s_!qPO1!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd1e7ad2f-14ab-45a0-85d4-76ef308854f2_1277x717.png 1272w, https://substackcdn.com/image/fetch/$s_!qPO1!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd1e7ad2f-14ab-45a0-85d4-76ef308854f2_1277x717.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/d1e7ad2f-14ab-45a0-85d4-76ef308854f2_1277x717.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:717,&quot;width&quot;:1277,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:false,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;717&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!qPO1!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd1e7ad2f-14ab-45a0-85d4-76ef308854f2_1277x717.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!qPO1!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd1e7ad2f-14ab-45a0-85d4-76ef308854f2_1277x717.png 424w, https://substackcdn.com/image/fetch/$s_!qPO1!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd1e7ad2f-14ab-45a0-85d4-76ef308854f2_1277x717.png 848w, https://substackcdn.com/image/fetch/$s_!qPO1!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd1e7ad2f-14ab-45a0-85d4-76ef308854f2_1277x717.png 1272w, https://substackcdn.com/image/fetch/$s_!qPO1!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd1e7ad2f-14ab-45a0-85d4-76ef308854f2_1277x717.png 1456w&quot; width=&quot;1277&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;h1&gt;
   Compute Complex
  &lt;/h1&gt;
  &lt;p&gt;
   Intel includes a set of Arm cores in their IPU, because CPUs are the ultimate word in programmability. They run Linux and let the IPU handle a wide range of infrastructure services, and ensure the IPU stays relevant as infrastructure requirements change. Mount Morgan’s compute complex gets an upgrade to 24 Arm Neoverse N2 cores, up from 16 Neoverse N1 cores in Mount Evans. Intel didn’t disclose the exact core configuration, but Mount Evans set its Neoverse N1 cores up with 512 KB L2 caches and ran them at 2.5 GHz. It’s not the fastest Neoverse N1 configuration around, but it’s still nothing to sneeze at. Mount Morgan of course takes things further. Neoverse N1 is a 5-wide out-of-order core with a 160 entry ROB, ample execution resources, and a very capable branch predictor. Each core is already a substantial upgrade over Neoverse N1. 24 Neoverse N2 cores would be enough to handle some production server workloads, let alone a collection of infrastructure services.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!npNV!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0f92fedd-56b7-4a77-a800-ab9ec41c40fb_1598x897.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!npNV!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0f92fedd-56b7-4a77-a800-ab9ec41c40fb_1598x897.png 424w, https://substackcdn.com/image/fetch/$s_!npNV!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0f92fedd-56b7-4a77-a800-ab9ec41c40fb_1598x897.png 848w, https://substackcdn.com/image/fetch/$s_!npNV!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0f92fedd-56b7-4a77-a800-ab9ec41c40fb_1598x897.png 1272w, https://substackcdn.com/image/fetch/$s_!npNV!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0f92fedd-56b7-4a77-a800-ab9ec41c40fb_1598x897.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/0f92fedd-56b7-4a77-a800-ab9ec41c40fb_1598x897.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:817,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:false,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;817&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!npNV!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0f92fedd-56b7-4a77-a800-ab9ec41c40fb_1598x897.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!npNV!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0f92fedd-56b7-4a77-a800-ab9ec41c40fb_1598x897.png 424w, https://substackcdn.com/image/fetch/$s_!npNV!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0f92fedd-56b7-4a77-a800-ab9ec41c40fb_1598x897.png 848w, https://substackcdn.com/image/fetch/$s_!npNV!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0f92fedd-56b7-4a77-a800-ab9ec41c40fb_1598x897.png 1272w, https://substackcdn.com/image/fetch/$s_!npNV!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0f92fedd-56b7-4a77-a800-ab9ec41c40fb_1598x897.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Mount Morgan gets a memory subsystem upgrade to quad channel LPDDR5-6400 to feed the more powerful compute complex. Mount Evans had a triple channel LPDDR4X-4267 setup, connected to 48 GB of onboard memory capacity. If Intel keeps the same memory capacity per channel, Mount Morgan would have 64 GB of onboard memory. Assuming Intel’s presentation refers to 16-bit LPDDR4/5(X) channels, Mount Morgan would have 51.2 GB/s of DRAM bandwidth compared to 25.6 GB/s in Mount Evans. Those figures would be doubled if Intel refers to 32-bit data buses to LPDDR chips, rather than channels. A 32 MB System Level Cache helps reduce pressure on the memory controllers. Intel didn’t increase the cache’s capacity compared to the last generation, so 32 MB likely strikes a good balance between hitrate and die area requirements. The System Level Cache is truly system level, meaning it services the IPU’s various hardware acceleration blocks in addition to the CPU cores.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!LOOk!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9625aa61-7aa1-4fc7-ab6f-1e6eb4526052_1597x895.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!LOOk!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9625aa61-7aa1-4fc7-ab6f-1e6eb4526052_1597x895.png 424w, https://substackcdn.com/image/fetch/$s_!LOOk!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9625aa61-7aa1-4fc7-ab6f-1e6eb4526052_1597x895.png 848w, https://substackcdn.com/image/fetch/$s_!LOOk!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9625aa61-7aa1-4fc7-ab6f-1e6eb4526052_1597x895.png 1272w, https://substackcdn.com/image/fetch/$s_!LOOk!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9625aa61-7aa1-4fc7-ab6f-1e6eb4526052_1597x895.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/9625aa61-7aa1-4fc7-ab6f-1e6eb4526052_1597x895.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:816,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:false,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;816&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!LOOk!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9625aa61-7aa1-4fc7-ab6f-1e6eb4526052_1597x895.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!LOOk!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9625aa61-7aa1-4fc7-ab6f-1e6eb4526052_1597x895.png 424w, https://substackcdn.com/image/fetch/$s_!LOOk!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9625aa61-7aa1-4fc7-ab6f-1e6eb4526052_1597x895.png 848w, https://substackcdn.com/image/fetch/$s_!LOOk!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9625aa61-7aa1-4fc7-ab6f-1e6eb4526052_1597x895.png 1272w, https://substackcdn.com/image/fetch/$s_!LOOk!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9625aa61-7aa1-4fc7-ab6f-1e6eb4526052_1597x895.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   A Lookaside Crypto and Compression Engine (LCE) sits within the compute complex, and shares lineage with Intel’s Quickassist (QAT) accelerator line. Intel says the LCE features a number of upgrades over QAT targeted towards IPU use cases. But perhaps the most notable upgrade is getting asymmetric crypto support, which was conspicuously missing from Mount Evans’s LCE block. Asymmetric cryptography algorithms like RSA and ECDHE are used in TLS handshakes, and aren’t accelerated by special instructions on many server CPUs. Therefore, asymmetric crypto can consume significant CPU power when a server handles many connections per second. It was a compelling use case for QAT, and it’s great to see Mount Morgan get that as well. The LCE block also supports symmetric crypto and compression algorithms, capabilities inherited from QAT.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!b7p9!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F034f3e00-5465-48d1-9a65-ff64c5a06588_1277x715.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!b7p9!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F034f3e00-5465-48d1-9a65-ff64c5a06588_1277x715.png 424w, https://substackcdn.com/image/fetch/$s_!b7p9!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F034f3e00-5465-48d1-9a65-ff64c5a06588_1277x715.png 848w, https://substackcdn.com/image/fetch/$s_!b7p9!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F034f3e00-5465-48d1-9a65-ff64c5a06588_1277x715.png 1272w, https://substackcdn.com/image/fetch/$s_!b7p9!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F034f3e00-5465-48d1-9a65-ff64c5a06588_1277x715.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/034f3e00-5465-48d1-9a65-ff64c5a06588_1277x715.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:715,&quot;width&quot;:1277,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;715&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!b7p9!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F034f3e00-5465-48d1-9a65-ff64c5a06588_1277x715.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!b7p9!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F034f3e00-5465-48d1-9a65-ff64c5a06588_1277x715.png 424w, https://substackcdn.com/image/fetch/$s_!b7p9!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F034f3e00-5465-48d1-9a65-ff64c5a06588_1277x715.png 848w, https://substackcdn.com/image/fetch/$s_!b7p9!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F034f3e00-5465-48d1-9a65-ff64c5a06588_1277x715.png 1272w, https://substackcdn.com/image/fetch/$s_!b7p9!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F034f3e00-5465-48d1-9a65-ff64c5a06588_1277x715.png 1456w&quot; width=&quot;1277&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   A programmable DMA engine in the LCE lets cloud providers move data as part of hardware accelerated workflows. Intel gives an example workflow for accessing remote storage, where the LCE helps move, compress, and encrypt data. Other accelerator blocks located in the IPU’s network subsystem help complete the process.
  &lt;/p&gt;
  &lt;h1&gt;
   Network Subsystem
  &lt;/h1&gt;
  &lt;p&gt;
   Networking bandwidth and offloads are a core function of the IPU, and its importance can’t be understated. Cloud servers need high network and storage bandwidth. The two are often two sides of the same coin, because cloud providers might use separate storage servers accessed over datacenter networking. Mount Morgan has 400 Gbps of Ethernet throughput, double Mount Evans’s 200 Gbps.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!PxE-!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fdf77fa55-4ba0-4a27-a23b-c26f4217bd38_1596x893.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!PxE-!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fdf77fa55-4ba0-4a27-a23b-c26f4217bd38_1596x893.png 424w, https://substackcdn.com/image/fetch/$s_!PxE-!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fdf77fa55-4ba0-4a27-a23b-c26f4217bd38_1596x893.png 848w, https://substackcdn.com/image/fetch/$s_!PxE-!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fdf77fa55-4ba0-4a27-a23b-c26f4217bd38_1596x893.png 1272w, https://substackcdn.com/image/fetch/$s_!PxE-!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fdf77fa55-4ba0-4a27-a23b-c26f4217bd38_1596x893.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/df77fa55-4ba0-4a27-a23b-c26f4217bd38_1596x893.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:815,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;815&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!PxE-!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fdf77fa55-4ba0-4a27-a23b-c26f4217bd38_1596x893.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!PxE-!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fdf77fa55-4ba0-4a27-a23b-c26f4217bd38_1596x893.png 424w, https://substackcdn.com/image/fetch/$s_!PxE-!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fdf77fa55-4ba0-4a27-a23b-c26f4217bd38_1596x893.png 848w, https://substackcdn.com/image/fetch/$s_!PxE-!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fdf77fa55-4ba0-4a27-a23b-c26f4217bd38_1596x893.png 1272w, https://substackcdn.com/image/fetch/$s_!PxE-!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fdf77fa55-4ba0-4a27-a23b-c26f4217bd38_1596x893.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   True to its smart NIC lineage, Mount Morgan uses a large number of inline accelerators to handle cloud networking tasks. A programmable P4-based packet processing pipeline, called the FXP, sits at the heart of the network subsystem. P4 is a packet processing language that lets developers express how they want packets handled. Hardware blocks within the FXP pipeline closely match P4 demands. A parser decodes packet headers and translates the packet into a representation understood by downstream stages. Downstream stages can check for exact or wildcard matches. Longest prefix matches can be carried out in hardware too, which is useful for routing.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!Htz7!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4f2ef077-1f8a-463a-9f6d-18e3d1f2c970_1598x897.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!Htz7!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4f2ef077-1f8a-463a-9f6d-18e3d1f2c970_1598x897.png 424w, https://substackcdn.com/image/fetch/$s_!Htz7!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4f2ef077-1f8a-463a-9f6d-18e3d1f2c970_1598x897.png 848w, https://substackcdn.com/image/fetch/$s_!Htz7!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4f2ef077-1f8a-463a-9f6d-18e3d1f2c970_1598x897.png 1272w, https://substackcdn.com/image/fetch/$s_!Htz7!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4f2ef077-1f8a-463a-9f6d-18e3d1f2c970_1598x897.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/4f2ef077-1f8a-463a-9f6d-18e3d1f2c970_1598x897.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:817,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;817&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!Htz7!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4f2ef077-1f8a-463a-9f6d-18e3d1f2c970_1598x897.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!Htz7!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4f2ef077-1f8a-463a-9f6d-18e3d1f2c970_1598x897.png 424w, https://substackcdn.com/image/fetch/$s_!Htz7!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4f2ef077-1f8a-463a-9f6d-18e3d1f2c970_1598x897.png 848w, https://substackcdn.com/image/fetch/$s_!Htz7!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4f2ef077-1f8a-463a-9f6d-18e3d1f2c970_1598x897.png 1272w, https://substackcdn.com/image/fetch/$s_!Htz7!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4f2ef077-1f8a-463a-9f6d-18e3d1f2c970_1598x897.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   The FXP can handle a packet every cycle, and can be configured to perform multiple passes per packet. Intel gives an example where one pass processes outer packet layers to perform decapsulation and checks against access control lists. A second pass can look at the inner packet, and carry out connection tracking or implement firewall rules.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!lgcu!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5504d365-fe82-46e8-ba59-ac9d5c022baa_1596x897.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!lgcu!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5504d365-fe82-46e8-ba59-ac9d5c022baa_1596x897.png 424w, https://substackcdn.com/image/fetch/$s_!lgcu!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5504d365-fe82-46e8-ba59-ac9d5c022baa_1596x897.png 848w, https://substackcdn.com/image/fetch/$s_!lgcu!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5504d365-fe82-46e8-ba59-ac9d5c022baa_1596x897.png 1272w, https://substackcdn.com/image/fetch/$s_!lgcu!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5504d365-fe82-46e8-ba59-ac9d5c022baa_1596x897.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/5504d365-fe82-46e8-ba59-ac9d5c022baa_1596x897.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:818,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;818&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!lgcu!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5504d365-fe82-46e8-ba59-ac9d5c022baa_1596x897.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!lgcu!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5504d365-fe82-46e8-ba59-ac9d5c022baa_1596x897.png 424w, https://substackcdn.com/image/fetch/$s_!lgcu!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5504d365-fe82-46e8-ba59-ac9d5c022baa_1596x897.png 848w, https://substackcdn.com/image/fetch/$s_!lgcu!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5504d365-fe82-46e8-ba59-ac9d5c022baa_1596x897.png 1272w, https://substackcdn.com/image/fetch/$s_!lgcu!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5504d365-fe82-46e8-ba59-ac9d5c022baa_1596x897.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   An inline crypto block sits within the network subsystem as well. Unlike the LCE in the compute complex, this crypto block is dedicated to packet processing and focuses on symmetric cryptography. It includes its own packet parsers, letting it terminate IPSec and PSP connections and carry out IPSec/PSP functions like anti-replay window protection, sequence number generation, and error checking in hardware. IPSec is used for VPN connections, which are vital for letting customers connect to cloud services. PSP is Google’s protocol for encrypting data transfers internal to Google’s cloud. Compared to Mount Evans, the crypto block’s throughput has been doubled to support 400 Gbps, and supports 64 million flows.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!B2HC!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4e450f5f-8214-4bfd-b493-2e4dcaa72512_1275x715.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!B2HC!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4e450f5f-8214-4bfd-b493-2e4dcaa72512_1275x715.png 424w, https://substackcdn.com/image/fetch/$s_!B2HC!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4e450f5f-8214-4bfd-b493-2e4dcaa72512_1275x715.png 848w, https://substackcdn.com/image/fetch/$s_!B2HC!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4e450f5f-8214-4bfd-b493-2e4dcaa72512_1275x715.png 1272w, https://substackcdn.com/image/fetch/$s_!B2HC!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4e450f5f-8214-4bfd-b493-2e4dcaa72512_1275x715.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/4e450f5f-8214-4bfd-b493-2e4dcaa72512_1275x715.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:715,&quot;width&quot;:1275,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;715&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!B2HC!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4e450f5f-8214-4bfd-b493-2e4dcaa72512_1275x715.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!B2HC!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4e450f5f-8214-4bfd-b493-2e4dcaa72512_1275x715.png 424w, https://substackcdn.com/image/fetch/$s_!B2HC!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4e450f5f-8214-4bfd-b493-2e4dcaa72512_1275x715.png 848w, https://substackcdn.com/image/fetch/$s_!B2HC!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4e450f5f-8214-4bfd-b493-2e4dcaa72512_1275x715.png 1272w, https://substackcdn.com/image/fetch/$s_!B2HC!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4e450f5f-8214-4bfd-b493-2e4dcaa72512_1275x715.png 1456w&quot; width=&quot;1275&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Cloud providers have to handle customer network traffic while ensuring fairness. Customers only pay for a provisioned amount of network bandwidth. Furthermore, customer traffic can’t be allowed to monopolize the network and cause problems with infrastructure services. The IPU has a traffic shaper block, letting it carry out quality of service measures completely in hardware. One mode uses a mutli-level hierarchical scheduler to arbitrate between packets based on source port, destination port, and traffic class. Another “timing wheel” mode does per-flow packet pacing, which can be controlled by classification rules set up at the FXP. Intel says the timing wheel mode gives a pacing resolution of 512 nanoseconds per slot.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!YQO3!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fdb03e6d6-f0d3-4508-a446-02d2d63488dd_1276x717.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!YQO3!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fdb03e6d6-f0d3-4508-a446-02d2d63488dd_1276x717.png 424w, https://substackcdn.com/image/fetch/$s_!YQO3!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fdb03e6d6-f0d3-4508-a446-02d2d63488dd_1276x717.png 848w, https://substackcdn.com/image/fetch/$s_!YQO3!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fdb03e6d6-f0d3-4508-a446-02d2d63488dd_1276x717.png 1272w, https://substackcdn.com/image/fetch/$s_!YQO3!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fdb03e6d6-f0d3-4508-a446-02d2d63488dd_1276x717.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/db03e6d6-f0d3-4508-a446-02d2d63488dd_1276x717.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:717,&quot;width&quot;:1276,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;717&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!YQO3!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fdb03e6d6-f0d3-4508-a446-02d2d63488dd_1276x717.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!YQO3!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fdb03e6d6-f0d3-4508-a446-02d2d63488dd_1276x717.png 424w, https://substackcdn.com/image/fetch/$s_!YQO3!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fdb03e6d6-f0d3-4508-a446-02d2d63488dd_1276x717.png 848w, https://substackcdn.com/image/fetch/$s_!YQO3!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fdb03e6d6-f0d3-4508-a446-02d2d63488dd_1276x717.png 1272w, https://substackcdn.com/image/fetch/$s_!YQO3!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fdb03e6d6-f0d3-4508-a446-02d2d63488dd_1276x717.png 1456w&quot; width=&quot;1276&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   RDMA traffic accounts for a significant portion of datacenter traffic. For example, Azure says RDMA accounts for 70% of intra-cloud network traffic, and is used for disk IO. Mount Morgan has a RDMA transport option to provide hardware offload for that traffic. It can support two million queue pairs across multiple hosts, and can expose 1K virtual functions per host. The latter should let a cloud provider directly expose RDMA acceleration capabilities to VMs. To ensure reliable transport, the RDMA transport engine supports the Falcon and Swift transport protocols. Both protocols offer improvements over TCP, and Intel implements congestion control for those protocols completely in hardware. To reduce latency, the RDMA block can bypass the packet processing pipeline and handle RDMA connections on its own.
  &lt;/p&gt;
  &lt;p&gt;
   All of the accelerator blocks above are clients of the system level cache. Some hardware acceleration use cases, like connection tracking with millions of flows, can have significant memory footprints. The system level cache should let the IPU keep frequently accessed portions of accelerator memory structures on-chip, reducing DRAM bandwidth needs.
  &lt;/p&gt;
  &lt;h1&gt;
   Host Fabric and PCIe Switch
  &lt;/h1&gt;
  &lt;p&gt;
   Mount Morgan’s PCIe capabilities have grown far beyond what a normal network card may offer. It has 32 PCIe Gen 5 lanes, providing more IO bandwidth than some recent desktop CPUs. It’s also a huge upgrade over the 16 PCIe Gen 4 lanes in Mount Evans.
  &lt;/p&gt;
  &lt;p&gt;
   Traditionally, a network card sits downstream of a host, and thus appears as a device attached to a server. The host fabric and PCIe subsystem is flexible to let the IPU wear many hats. It can appear as a downstream device to up to four server hosts, each of which sees the IPU as a separate, independent device. Mount Evans supported this “multi-host” mode as well, but Mount Morgan’s higher PCIe bandwidth is necessary to utilize its 400 Gigabit networking.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!CzkX!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff471871c-24ac-4ab3-9c30-4982a34f13e4_1595x895.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!CzkX!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff471871c-24ac-4ab3-9c30-4982a34f13e4_1595x895.png 424w, https://substackcdn.com/image/fetch/$s_!CzkX!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff471871c-24ac-4ab3-9c30-4982a34f13e4_1595x895.png 848w, https://substackcdn.com/image/fetch/$s_!CzkX!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff471871c-24ac-4ab3-9c30-4982a34f13e4_1595x895.png 1272w, https://substackcdn.com/image/fetch/$s_!CzkX!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff471871c-24ac-4ab3-9c30-4982a34f13e4_1595x895.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/f471871c-24ac-4ab3-9c30-4982a34f13e4_1595x895.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:817,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;817&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!CzkX!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff471871c-24ac-4ab3-9c30-4982a34f13e4_1595x895.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!CzkX!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff471871c-24ac-4ab3-9c30-4982a34f13e4_1595x895.png 424w, https://substackcdn.com/image/fetch/$s_!CzkX!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff471871c-24ac-4ab3-9c30-4982a34f13e4_1595x895.png 848w, https://substackcdn.com/image/fetch/$s_!CzkX!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff471871c-24ac-4ab3-9c30-4982a34f13e4_1595x895.png 1272w, https://substackcdn.com/image/fetch/$s_!CzkX!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff471871c-24ac-4ab3-9c30-4982a34f13e4_1595x895.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Mount Morgan can run in a “headless” mode, where it acts as a standalone server and a lightweight alternative to dedicating a traditional server to infrastructure tasks. In this mode, Mount Morgan’s 32 PCIe lanes can let it connect to many SSDs and other devices. The IPU’s accelerators as well as the PCIe lanes appear downstream of the IPU’s CPU cores, which act as a host CPU.
  &lt;/p&gt;
  &lt;p&gt;
   A “converged” mode can use some PCIe lanes to connect to upstream server hosts, while other lanes connect to downstream devices. In this mode, the IPU shows up as a PCIe switch to connected hosts, with downstream devices visible behind it. A server could connect to SSDs and GPUs through the IPU. The IPU’s CPU cores can sit on top of the PCIe switch and access downstream devices, or can be exposed as a downstream device behind the PCIe switch.
  &lt;/p&gt;
  &lt;p&gt;
   The IPU’s multiple modes are a showcase of IO flexibility. It’s a bit like how AMD uses the same die as an IO die within the CPU and a part of the motherboard chipset on AM4 platforms. The IO die’s PCIe lanes can connect to downstream devices when it’s serving within the CPU, or be split between an upstream host and downstream devices when used in the chipset. Intel is also no stranger to PCIe configurability. Their early QAT PCIe cards reused their Lewisburg chipset, exposing it as a downstream device with three QAT devices appearing behind a PCIe switch.
  &lt;/p&gt;
  &lt;h1&gt;
   Final Words
  &lt;/h1&gt;
  &lt;p&gt;
   &lt;span&gt;
    Cloud computing plays a huge role in the tech world today. It originally started with commodity hardware, with similar server configurations to what customers might deploy in on-premise environments. But as cloud computing expanded, cloud providers started to see use cases for cloud-specific hardware accelerators. Examples include
   &lt;/span&gt;
   &lt;a href=&quot;https://docs.aws.amazon.com/whitepapers/latest/security-design-of-aws-nitro-system/the-components-of-the-nitro-system.html&quot; rel=&quot;&quot;&gt;
    &quot;Nitro&quot; cards
   &lt;/a&gt;
   &lt;span&gt;
    in Amazon Web Services,
   &lt;/span&gt;
   &lt;a href=&quot;https://www.microsoft.com/en-us/research/wp-content/uploads/2018/03/Azure_SmartNIC_NSDI_2018.pdf&quot; rel=&quot;&quot;&gt;
    or smart NICs with FPGAs
   &lt;/a&gt;
   &lt;span&gt;
    in Microsoft Azure. Intel has no doubt seen this trend, and IPUs are the company&#x27;s answer.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!y3et!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1e9222de-2706-4527-a4a9-b3e1b160e5b5_1278x713.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!y3et!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1e9222de-2706-4527-a4a9-b3e1b160e5b5_1278x713.png 424w, https://substackcdn.com/image/fetch/$s_!y3et!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1e9222de-2706-4527-a4a9-b3e1b160e5b5_1278x713.png 848w, https://substackcdn.com/image/fetch/$s_!y3et!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1e9222de-2706-4527-a4a9-b3e1b160e5b5_1278x713.png 1272w, https://substackcdn.com/image/fetch/$s_!y3et!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1e9222de-2706-4527-a4a9-b3e1b160e5b5_1278x713.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/1e9222de-2706-4527-a4a9-b3e1b160e5b5_1278x713.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:713,&quot;width&quot;:1278,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;713&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!y3et!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1e9222de-2706-4527-a4a9-b3e1b160e5b5_1278x713.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!y3et!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1e9222de-2706-4527-a4a9-b3e1b160e5b5_1278x713.png 424w, https://substackcdn.com/image/fetch/$s_!y3et!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1e9222de-2706-4527-a4a9-b3e1b160e5b5_1278x713.png 848w, https://substackcdn.com/image/fetch/$s_!y3et!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1e9222de-2706-4527-a4a9-b3e1b160e5b5_1278x713.png 1272w, https://substackcdn.com/image/fetch/$s_!y3et!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1e9222de-2706-4527-a4a9-b3e1b160e5b5_1278x713.png 1456w&quot; width=&quot;1278&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Mount Morgan tries to service all kinds of cloud acceleration needs by packing an incredible number of highly configurable accelerators, in recognition of cloud providers’ diverse and changing needs. Hardware acceleration always runs the danger of becoming obsolete as protocols change. Intel tries to avoid this by having very generalized accelerators, like the FXP, as well as packing in CPU cores that can run just about anything under the sun. The latter feels like overkill for infrastructure tasks, and could let the IPU remain relevant even if some acceleration capabilities become obsolete.
  &lt;/p&gt;
  &lt;p&gt;
   At a higher level, IPUs like Mount Morgan show that Intel still has ambitions to stretch beyond its core CPU market. Developing Mount Morgan must have been a complex endeavor. It’s a showcase of Intel’s engineering capability even when their CPU side goes through a bit of a rough spot. It’ll be interesting to see whether Intel’s IPUs can gain ground in the cloud market, especially with providers that have already developed in-house hardware offload capabilities tailored to their requirements.
  &lt;/p&gt;
  &lt;p&gt;
   &lt;span&gt;
    If you like the content then consider heading over to the
   &lt;/span&gt;
   &lt;a href=&quot;https://www.patreon.com/ChipsandCheese&quot; rel=&quot;&quot;&gt;
    Patreon
   &lt;/a&gt;
   &lt;span&gt;
    or
   &lt;/span&gt;
   &lt;a href=&quot;https://www.paypal.com/donate/?hosted_button_id=4EMPH66SBGVSQ&quot; rel=&quot;&quot;&gt;
    PayPal
   &lt;/a&gt;
   &lt;span&gt;
    if you want to toss a few bucks to Chips and Cheese. Also consider joining the
   &lt;/span&gt;
   &lt;a href=&quot;https://discord.gg/TwVnRhxgY2&quot; rel=&quot;&quot;&gt;
    Discord
   &lt;/a&gt;
   &lt;span&gt;
    .
   &lt;/span&gt;
  &lt;/p&gt;
 &lt;/div&gt;
&lt;/div&gt;

</description>
</item>
<item>
<title> Hot Chips 2025: Session 1 - CPUs </title>
<link>https://chipsandcheese.com/p/hot-chips-2025-session-1-cpus</link>
<pubDate>Sun, 07 Sep 2025 21:55:48 -0000</pubDate>
<description>
&lt;div&gt;
 &lt;div dir=&quot;auto&quot;&gt;
  &lt;p&gt;
   &lt;span&gt;
    Hello you fine Internet folks,
   &lt;/span&gt;
   &lt;br/&gt;
   &lt;br/&gt;
   &lt;span&gt;
    Today we are talking about Hot Chips 2025 and specifically the CPU session at Hot Chips 2025 where we had presentations from Condor Computing about their new Cuzco core, PEZY about their upcoming SC4s chip, IBM about their Power11 chip which is already shipping to customers, and Intel about their upcoming E-Core based Xeon CPU codenamed Clearwater Forest.
   &lt;/span&gt;
   &lt;br/&gt;
   &lt;br/&gt;
   &lt;span&gt;
    Hope y&#x27;all enjoy!
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;div data-attrs=&#x27;{&quot;videoId&quot;:&quot;n75Cuss_v6Y&quot;,&quot;startTime&quot;:null,&quot;endTime&quot;:null}&#x27; data-component-name=&quot;Youtube2ToDOM&quot;&gt;
   &lt;div&gt;
    &lt;iframe allow=&quot;autoplay; fullscreen&quot; allowautoplay=&quot;true&quot; allowfullscreen=&quot;true&quot; frameborder=&quot;0&quot; gesture=&quot;media&quot; height=&quot;409&quot; loading=&quot;lazy&quot; src=&quot;https://www.youtube-nocookie.com/embed/n75Cuss_v6Y?rel=0&amp;autoplay=0&amp;showinfo=0&amp;enablejsapi=0&quot; width=&quot;728&quot;&gt;
    &lt;/iframe&gt;
   &lt;/div&gt;
  &lt;/div&gt;
  &lt;p&gt;
   &lt;span&gt;
    If you’d like more detailed break downs of most of the chips and the presentations, here are links to our articles on them:
   &lt;/span&gt;
   &lt;br/&gt;
   &lt;br/&gt;
   &lt;span&gt;
    Condor Computing’s Cuzco Core:
   &lt;/span&gt;
   &lt;a href=&quot;https://chipsandcheese.com/p/condors-cuzco-risc-v-core-at-hot&quot; rel=&quot;&quot;&gt;
    https://chipsandcheese.com/p/condors-cuzco-risc-v-core-at-hot
   &lt;/a&gt;
  &lt;/p&gt;
  &lt;p&gt;
   &lt;span&gt;
    PEZY’s SC4s Chip:
   &lt;/span&gt;
   &lt;a href=&quot;https://chipsandcheese.com/p/pezy-sc4s-at-hot-chips-2025&quot; rel=&quot;&quot;&gt;
    https://chipsandcheese.com/p/pezy-sc4s-at-hot-chips-2025
   &lt;/a&gt;
  &lt;/p&gt;
  &lt;p&gt;
   &lt;span&gt;
    IBM Power - What is Next?:
   &lt;/span&gt;
   &lt;a href=&quot;https://chipsandcheese.com/p/ibm-power-whats-next&quot; rel=&quot;&quot;&gt;
    https://chipsandcheese.com/p/ibm-power-whats-next
   &lt;/a&gt;
  &lt;/p&gt;
  &lt;p&gt;
   &lt;span&gt;
    Intel’s Clearwater Forest Xeon:
   &lt;/span&gt;
   &lt;a href=&quot;https://chipsandcheese.com/p/intels-clearwater-forest-e-core-server&quot; rel=&quot;&quot;&gt;
    https://chipsandcheese.com/p/intels-clearwater-forest-e-core-server
   &lt;/a&gt;
  &lt;/p&gt;
  &lt;p&gt;
   &lt;br/&gt;
  &lt;/p&gt;
 &lt;/div&gt;
&lt;/div&gt;

</description>
</item>
<item>
<title> PEZY-SC4s at Hot Chips 2025 </title>
<link>https://chipsandcheese.com/p/pezy-sc4s-at-hot-chips-2025</link>
<pubDate>Thu, 04 Sep 2025 21:30:35 -0000</pubDate>
<description>
&lt;div&gt;
 &lt;div dir=&quot;auto&quot;&gt;
  &lt;p&gt;
   Japan has a long history of building domestic supercomputer architectures dating back to the 1980s. PEZY Computing is one player in Japan’s supercomputing scene alongside Fujitsu and NEC, and has taken several spots in the Green500 list. RIKEN’s Exascaler-1.4 used PEZY-SC chips to take first place in Green500’s November 2015 rankings. More recently, PEZY-SC3 placed 12th on Green500’s November 2021 list. PEZY presented their newest architecture, PEZY-SC4S, at Hot Chips 2025. While the physical product is not yet available, PEZY is presenting results of simulations and is talking about the architecture of SC4s.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!Fhve!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff6300d0b-5a5f-429c-89d5-f519a862affd_1875x1016.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!Fhve!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff6300d0b-5a5f-429c-89d5-f519a862affd_1875x1016.png 424w, https://substackcdn.com/image/fetch/$s_!Fhve!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff6300d0b-5a5f-429c-89d5-f519a862affd_1875x1016.png 848w, https://substackcdn.com/image/fetch/$s_!Fhve!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff6300d0b-5a5f-429c-89d5-f519a862affd_1875x1016.png 1272w, https://substackcdn.com/image/fetch/$s_!Fhve!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff6300d0b-5a5f-429c-89d5-f519a862affd_1875x1016.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/f6300d0b-5a5f-429c-89d5-f519a862affd_1875x1016.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:789,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:617457,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:false,&quot;topImage&quot;:true,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/171901084?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff6300d0b-5a5f-429c-89d5-f519a862affd_1875x1016.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; fetchpriority=&quot;high&quot; height=&quot;789&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!Fhve!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff6300d0b-5a5f-429c-89d5-f519a862affd_1875x1016.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!Fhve!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff6300d0b-5a5f-429c-89d5-f519a862affd_1875x1016.png 424w, https://substackcdn.com/image/fetch/$s_!Fhve!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff6300d0b-5a5f-429c-89d5-f519a862affd_1875x1016.png 848w, https://substackcdn.com/image/fetch/$s_!Fhve!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff6300d0b-5a5f-429c-89d5-f519a862affd_1875x1016.png 1272w, https://substackcdn.com/image/fetch/$s_!Fhve!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff6300d0b-5a5f-429c-89d5-f519a862affd_1875x1016.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   PEZY targets highly efficient FP64 compute by running a massively parallel array of execution units at lower clocks and voltages than contemporary GPUs. At the same time, it tries to avoid glass jaw performance behavior with low branching penalties and a sophisticated cache hierarchy. Their PEZY-SC products connect to a host system via PCIe, much like a GPU. The ‘s’ in SC4s denotes a scaled down model that uses a smaller die and draws less power. For example, PEZY-SC3 used a 786 mm2 die on TSMC’s 7nm process and drew up to 470W. PEZY-SC3s uses a smaller 109 mm2 die with a milder 80W power draw, and has 512 Processing Elements (PEs) compared to 4096 on the larger PEZY-SC3.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!DWMj!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8f9717dc-dcef-4336-a3ae-3851bf08ebc6_1183x645.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!DWMj!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8f9717dc-dcef-4336-a3ae-3851bf08ebc6_1183x645.png 424w, https://substackcdn.com/image/fetch/$s_!DWMj!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8f9717dc-dcef-4336-a3ae-3851bf08ebc6_1183x645.png 848w, https://substackcdn.com/image/fetch/$s_!DWMj!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8f9717dc-dcef-4336-a3ae-3851bf08ebc6_1183x645.png 1272w, https://substackcdn.com/image/fetch/$s_!DWMj!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8f9717dc-dcef-4336-a3ae-3851bf08ebc6_1183x645.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/8f9717dc-dcef-4336-a3ae-3851bf08ebc6_1183x645.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:645,&quot;width&quot;:1183,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:463700,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:false,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/171901084?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8f9717dc-dcef-4336-a3ae-3851bf08ebc6_1183x645.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;645&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!DWMj!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8f9717dc-dcef-4336-a3ae-3851bf08ebc6_1183x645.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!DWMj!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8f9717dc-dcef-4336-a3ae-3851bf08ebc6_1183x645.png 424w, https://substackcdn.com/image/fetch/$s_!DWMj!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8f9717dc-dcef-4336-a3ae-3851bf08ebc6_1183x645.png 848w, https://substackcdn.com/image/fetch/$s_!DWMj!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8f9717dc-dcef-4336-a3ae-3851bf08ebc6_1183x645.png 1272w, https://substackcdn.com/image/fetch/$s_!DWMj!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8f9717dc-dcef-4336-a3ae-3851bf08ebc6_1183x645.png 1456w&quot; width=&quot;1183&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   PEZY-SC4s is large for a ‘s’ part, with the same per-clock throughput as SC3. A bump from 1.2 to 1.5 GHz gives it a slight lead in overall throughput compared to SC3, and places it well ahead of SC3s.
  &lt;/p&gt;
  &lt;h1&gt;
   SC4s’s Processing Element
  &lt;/h1&gt;
  &lt;p&gt;
   From an organization perspective, a PEZY PE is somewhat analogous to an execution unit partition on a GPU, like AMD’s SIMD or Nvidia’s SM sub-partitions. They’re very small cores that hide latency using thread level parallelism. On PEZY-SC4s, a PE has eight hardware threads, a bit like SMT8 on a CPU. These eight threads are arranged in pairs of “front” and “back” threads, but it’s probably more intuitive to see this is two groups of four threads. One four-thread group is active at a time. Hardware carries out fine-grained multithreading within a group, selecting a different thread every cycle to hide short duration stalls within individual threads.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!rR4K!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd71a72f1-d279-4280-b566-22ebb9c650b1_1048x587.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!rR4K!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd71a72f1-d279-4280-b566-22ebb9c650b1_1048x587.png 424w, https://substackcdn.com/image/fetch/$s_!rR4K!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd71a72f1-d279-4280-b566-22ebb9c650b1_1048x587.png 848w, https://substackcdn.com/image/fetch/$s_!rR4K!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd71a72f1-d279-4280-b566-22ebb9c650b1_1048x587.png 1272w, https://substackcdn.com/image/fetch/$s_!rR4K!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd71a72f1-d279-4280-b566-22ebb9c650b1_1048x587.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/d71a72f1-d279-4280-b566-22ebb9c650b1_1048x587.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:587,&quot;width&quot;:1048,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:68377,&quot;alt&quot;:&quot;&quot;,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:false,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/171901084?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd71a72f1-d279-4280-b566-22ebb9c650b1_1048x587.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;587&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!rR4K!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd71a72f1-d279-4280-b566-22ebb9c650b1_1048x587.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!rR4K!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd71a72f1-d279-4280-b566-22ebb9c650b1_1048x587.png 424w, https://substackcdn.com/image/fetch/$s_!rR4K!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd71a72f1-d279-4280-b566-22ebb9c650b1_1048x587.png 848w, https://substackcdn.com/image/fetch/$s_!rR4K!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd71a72f1-d279-4280-b566-22ebb9c650b1_1048x587.png 1272w, https://substackcdn.com/image/fetch/$s_!rR4K!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd71a72f1-d279-4280-b566-22ebb9c650b1_1048x587.png 1456w&quot; title=&quot;&quot; width=&quot;1048&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   PEZY handles longer latency events by swapping active thread groups. This coarse-grained multithreading can be carried out with a thread switching instruction or a flag on a potentially long latency instruction, such as a memory load. Programmers can also opt for an automatic thread switching mode, inherited from PEZY-SC2. Depending on how well this “automatic chgthread” mode works, a PEZY PE could be treated purely as a fine-grained multithreading design. That is, thread switching and latency hiding happens automatically without help from the programmer or compiler.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!xjLG!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F60b3ec92-2cb0-4e7f-a19a-1b069865564c_1049x577.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!xjLG!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F60b3ec92-2cb0-4e7f-a19a-1b069865564c_1049x577.png 424w, https://substackcdn.com/image/fetch/$s_!xjLG!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F60b3ec92-2cb0-4e7f-a19a-1b069865564c_1049x577.png 848w, https://substackcdn.com/image/fetch/$s_!xjLG!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F60b3ec92-2cb0-4e7f-a19a-1b069865564c_1049x577.png 1272w, https://substackcdn.com/image/fetch/$s_!xjLG!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F60b3ec92-2cb0-4e7f-a19a-1b069865564c_1049x577.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/60b3ec92-2cb0-4e7f-a19a-1b069865564c_1049x577.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:577,&quot;width&quot;:1049,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:87492,&quot;alt&quot;:&quot;&quot;,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/171901084?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F60b3ec92-2cb0-4e7f-a19a-1b069865564c_1049x577.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;577&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!xjLG!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F60b3ec92-2cb0-4e7f-a19a-1b069865564c_1049x577.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!xjLG!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F60b3ec92-2cb0-4e7f-a19a-1b069865564c_1049x577.png 424w, https://substackcdn.com/image/fetch/$s_!xjLG!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F60b3ec92-2cb0-4e7f-a19a-1b069865564c_1049x577.png 848w, https://substackcdn.com/image/fetch/$s_!xjLG!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F60b3ec92-2cb0-4e7f-a19a-1b069865564c_1049x577.png 1272w, https://substackcdn.com/image/fetch/$s_!xjLG!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F60b3ec92-2cb0-4e7f-a19a-1b069865564c_1049x577.png 1456w&quot; title=&quot;&quot; width=&quot;1049&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   GPUs issue a single instruction across a wide “wave” or “warp” of data elements, which means they lose throughput if control flow diverges within a wave. PEZY emphasizes that they’re targeting a MIMD design, with minimal branching penalties compared to a GPU. A PEZY PE feeds its four-wide FP64 unit in a SIMD fashion, and uses wider vectors for lower precision data types. The comparatively small 256-bit SIMD width makes PEZY less susceptible to branch divergence penalties than a typical GPU, which may have 1024-bit (wave32) or 2048-bit (wave64) vector lengths.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!QuYK!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2c34ff58-a07a-407c-ac6c-dc1e324443ef_1170x634.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!QuYK!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2c34ff58-a07a-407c-ac6c-dc1e324443ef_1170x634.png 424w, https://substackcdn.com/image/fetch/$s_!QuYK!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2c34ff58-a07a-407c-ac6c-dc1e324443ef_1170x634.png 848w, https://substackcdn.com/image/fetch/$s_!QuYK!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2c34ff58-a07a-407c-ac6c-dc1e324443ef_1170x634.png 1272w, https://substackcdn.com/image/fetch/$s_!QuYK!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2c34ff58-a07a-407c-ac6c-dc1e324443ef_1170x634.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/2c34ff58-a07a-407c-ac6c-dc1e324443ef_1170x634.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:634,&quot;width&quot;:1170,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:95343,&quot;alt&quot;:&quot;&quot;,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/171901084?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2c34ff58-a07a-407c-ac6c-dc1e324443ef_1170x634.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;634&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!QuYK!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2c34ff58-a07a-407c-ac6c-dc1e324443ef_1170x634.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!QuYK!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2c34ff58-a07a-407c-ac6c-dc1e324443ef_1170x634.png 424w, https://substackcdn.com/image/fetch/$s_!QuYK!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2c34ff58-a07a-407c-ac6c-dc1e324443ef_1170x634.png 848w, https://substackcdn.com/image/fetch/$s_!QuYK!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2c34ff58-a07a-407c-ac6c-dc1e324443ef_1170x634.png 1272w, https://substackcdn.com/image/fetch/$s_!QuYK!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2c34ff58-a07a-407c-ac6c-dc1e324443ef_1170x634.png 1456w&quot; title=&quot;&quot; width=&quot;1170&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   For comparison, PEZY-SC3’s PEs had a 2-wide FP64 unit. PEZY-SC4S’s wider execution units reduce instruction control costs. But the wider SIMD width could increase the chance of control flow divergence within a vector. For lower precision data types, PEZY-SC4S introduces BF16 support, in a nod to the current AI boom. However, PEZY did not spend die area or transistors on dedicated matrix multiplication units, unlike its GPU peers.
  &lt;/p&gt;
  &lt;h2&gt;
   Memory Subsystem
  &lt;/h2&gt;
  &lt;p&gt;
   PEZY’s memory subsystem starts with small PE-private L1 caches, with lower level caches shared between various numbers of PEs at different organizational levels. PEZY names organizational levels after administrative divisions. Groups of four PEs form a Village, four Villages form a City, 16 Cities make a Prefecture, and eight Prefectures form a chip (a State). PEZY-SC4s actually has 18 Cities in each Prefecture, or 2304 PEs in total, but two Cities in each Prefecture are disabled to provide redundancy.
  &lt;/p&gt;
  &lt;p&gt;
   A PE’s instruction cache is just 4 KB, and likely fills a role similar to the L0 instruction caches on Nvidia’s Turing. PEZY-SC3 could fetch 8B/cycle from the instruction cache and issue two instructions per cycle, implying each instruction is 4 bytes. If that’s the same in PEZY-SC4s, the 4 KB L1 instruction cache can hold 1024 instructions. That’s small compared even to a micro-op cache. A 32 KB L2 instruction cache is shared across 16 PEs, and should help handle larger instruction footprints.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!wvQf!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F48de269d-bcfe-428c-a1ea-75b11b8903ed_1428x849.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!wvQf!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F48de269d-bcfe-428c-a1ea-75b11b8903ed_1428x849.png 424w, https://substackcdn.com/image/fetch/$s_!wvQf!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F48de269d-bcfe-428c-a1ea-75b11b8903ed_1428x849.png 848w, https://substackcdn.com/image/fetch/$s_!wvQf!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F48de269d-bcfe-428c-a1ea-75b11b8903ed_1428x849.png 1272w, https://substackcdn.com/image/fetch/$s_!wvQf!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F48de269d-bcfe-428c-a1ea-75b11b8903ed_1428x849.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/48de269d-bcfe-428c-a1ea-75b11b8903ed_1428x849.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:849,&quot;width&quot;:1428,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:154411,&quot;alt&quot;:&quot;&quot;,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/171901084?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F48de269d-bcfe-428c-a1ea-75b11b8903ed_1428x849.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;849&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!wvQf!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F48de269d-bcfe-428c-a1ea-75b11b8903ed_1428x849.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!wvQf!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F48de269d-bcfe-428c-a1ea-75b11b8903ed_1428x849.png 424w, https://substackcdn.com/image/fetch/$s_!wvQf!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F48de269d-bcfe-428c-a1ea-75b11b8903ed_1428x849.png 848w, https://substackcdn.com/image/fetch/$s_!wvQf!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F48de269d-bcfe-428c-a1ea-75b11b8903ed_1428x849.png 1272w, https://substackcdn.com/image/fetch/$s_!wvQf!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F48de269d-bcfe-428c-a1ea-75b11b8903ed_1428x849.png 1456w&quot; title=&quot;&quot; width=&quot;1428&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   The L1 data cache is similarly small at 4 KB, though it has doubled in size compared to the 2 KB L1D in PEZY-SC3. L1D bandwidth remains unchanged at 16 bytes/cycle, which leaves PEZY-SC4s with a lower ratio of load bandwidth to compute throughput, when considering each PE’s execution units are now twice as wide. However, the massive load bandwidth available on PEZY-SC3 was likely overkill, and could only be fully utilized if a load instruction were issued every cycle. Increasing L1D capacity instead of bandwidth is likely a good tradeoff. 2 KB is really small, and 4 KB is still small. L1D load-to-use latency is 12 cycles, or three instructions because each thread only executes once every four cycles.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!H2if!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd291fb85-98aa-42da-a97f-81e4a80a65c8_1899x1030.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!H2if!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd291fb85-98aa-42da-a97f-81e4a80a65c8_1899x1030.png 424w, https://substackcdn.com/image/fetch/$s_!H2if!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd291fb85-98aa-42da-a97f-81e4a80a65c8_1899x1030.png 848w, https://substackcdn.com/image/fetch/$s_!H2if!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd291fb85-98aa-42da-a97f-81e4a80a65c8_1899x1030.png 1272w, https://substackcdn.com/image/fetch/$s_!H2if!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd291fb85-98aa-42da-a97f-81e4a80a65c8_1899x1030.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/d291fb85-98aa-42da-a97f-81e4a80a65c8_1899x1030.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:790,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:141913,&quot;alt&quot;:&quot;&quot;,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/171901084?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd291fb85-98aa-42da-a97f-81e4a80a65c8_1899x1030.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;790&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!H2if!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd291fb85-98aa-42da-a97f-81e4a80a65c8_1899x1030.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!H2if!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd291fb85-98aa-42da-a97f-81e4a80a65c8_1899x1030.png 424w, https://substackcdn.com/image/fetch/$s_!H2if!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd291fb85-98aa-42da-a97f-81e4a80a65c8_1899x1030.png 848w, https://substackcdn.com/image/fetch/$s_!H2if!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd291fb85-98aa-42da-a97f-81e4a80a65c8_1899x1030.png 1272w, https://substackcdn.com/image/fetch/$s_!H2if!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd291fb85-98aa-42da-a97f-81e4a80a65c8_1899x1030.png 1456w&quot; title=&quot;&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Each PE also implements local memory, much like GPUs. A 24 KB block of local storage fills a role analogous to AMD’s Local Data Share or Nvidia’s Shared Memory. It’s a directly addressed, software managed scratchpad and not a hardware managed cache. The compiler can also use a “stack region” in local storage, likely to handle register spills and function calls. Four PEs within a “village” can share local memory, possibly providing 96 KB pools of directly addressable storage. Local storage has 4 cycle load-to-use latency, so the next instruction within a thread can immediately use a previously loaded value from local storage without incurring extra delay.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!XF-7!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa9d61fd8-4a6f-4909-8b90-7b3d7eb43739_1841x1042.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!XF-7!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa9d61fd8-4a6f-4909-8b90-7b3d7eb43739_1841x1042.png 424w, https://substackcdn.com/image/fetch/$s_!XF-7!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa9d61fd8-4a6f-4909-8b90-7b3d7eb43739_1841x1042.png 848w, https://substackcdn.com/image/fetch/$s_!XF-7!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa9d61fd8-4a6f-4909-8b90-7b3d7eb43739_1841x1042.png 1272w, https://substackcdn.com/image/fetch/$s_!XF-7!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa9d61fd8-4a6f-4909-8b90-7b3d7eb43739_1841x1042.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/a9d61fd8-4a6f-4909-8b90-7b3d7eb43739_1841x1042.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:824,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:190993,&quot;alt&quot;:&quot;&quot;,&quot;title&quot;:&quot;&quot;,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/171901084?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa9d61fd8-4a6f-4909-8b90-7b3d7eb43739_1841x1042.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;824&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!XF-7!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa9d61fd8-4a6f-4909-8b90-7b3d7eb43739_1841x1042.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!XF-7!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa9d61fd8-4a6f-4909-8b90-7b3d7eb43739_1841x1042.png 424w, https://substackcdn.com/image/fetch/$s_!XF-7!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa9d61fd8-4a6f-4909-8b90-7b3d7eb43739_1841x1042.png 848w, https://substackcdn.com/image/fetch/$s_!XF-7!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa9d61fd8-4a6f-4909-8b90-7b3d7eb43739_1841x1042.png 1272w, https://substackcdn.com/image/fetch/$s_!XF-7!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa9d61fd8-4a6f-4909-8b90-7b3d7eb43739_1841x1042.png 1456w&quot; title=&quot;&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   A 64 KB L2 data cache is shared across 16 PEs in a “City” (four Villages), and has 20 cycle latency. There is no bandwidth reduction in going to L2D, which can also provide 16B/cycle of load bandwidth per PE. That’s 256B/cycle total per L2 instance. Matching L1D and L2D bandwidth suggests the L1D is meant to serve almost as a L0 cache, opportunistically providing lower latency while many memory loads fall through to L2D. The L2D’s low ~13-14 ns latency would match many GPU first level data caches. With a relatively low thread count per PE and small SIMD widths, PEZY likely needs low latency memory access to avoid stalls. That seems to be reflected in its L1/L2 cache setup.
  &lt;/p&gt;
  &lt;h1&gt;
   System Level Organization
  &lt;/h1&gt;
  &lt;p&gt;
   “Cities” are connected to each other and last level cache slices via crossbars, and share a 64 MB last level cache (L3). The L3 is split into slices, and can provide 12 TB/s of read bandwidth (1024 bytes/cycle) and 6 TB/s of write bandwidth (512 bytes/cycle). L3 latency is 100-160 cycles, likely depending on the distance between a PE and the L3 slice. Even the higher figure would give PEZY’s L3 better latency than AMD RDNA4’s similarly sized Infinity Cache (measured to just over 130 ns using scalar accesses). PEZY has not changed last level cache capacity compared to PEZY-SC3, keeping it at 64 MB.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!maYF!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2a7c616d-632d-48ab-b05f-bc3f43e6e9c5_1586x885.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!maYF!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2a7c616d-632d-48ab-b05f-bc3f43e6e9c5_1586x885.png 424w, https://substackcdn.com/image/fetch/$s_!maYF!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2a7c616d-632d-48ab-b05f-bc3f43e6e9c5_1586x885.png 848w, https://substackcdn.com/image/fetch/$s_!maYF!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2a7c616d-632d-48ab-b05f-bc3f43e6e9c5_1586x885.png 1272w, https://substackcdn.com/image/fetch/$s_!maYF!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2a7c616d-632d-48ab-b05f-bc3f43e6e9c5_1586x885.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/2a7c616d-632d-48ab-b05f-bc3f43e6e9c5_1586x885.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:812,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:663708,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/171901084?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2a7c616d-632d-48ab-b05f-bc3f43e6e9c5_1586x885.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;812&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!maYF!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2a7c616d-632d-48ab-b05f-bc3f43e6e9c5_1586x885.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!maYF!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2a7c616d-632d-48ab-b05f-bc3f43e6e9c5_1586x885.png 424w, https://substackcdn.com/image/fetch/$s_!maYF!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2a7c616d-632d-48ab-b05f-bc3f43e6e9c5_1586x885.png 848w, https://substackcdn.com/image/fetch/$s_!maYF!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2a7c616d-632d-48ab-b05f-bc3f43e6e9c5_1586x885.png 1272w, https://substackcdn.com/image/fetch/$s_!maYF!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2a7c616d-632d-48ab-b05f-bc3f43e6e9c5_1586x885.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Besides providing caching capacity, the last level cache handles atomic operations much like the shared L2 cache on GPUs. Similarly, PEZY uses explicit sync/flush instructions to synchronize threads and make writes visible at different levels. That frees PEZY from implementing cache coherency like a GPU, simplifying hardware.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!CGat!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F18a54722-a3eb-415f-8fd3-f6c98f25cd07_1558x878.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!CGat!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F18a54722-a3eb-415f-8fd3-f6c98f25cd07_1558x878.png 424w, https://substackcdn.com/image/fetch/$s_!CGat!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F18a54722-a3eb-415f-8fd3-f6c98f25cd07_1558x878.png 848w, https://substackcdn.com/image/fetch/$s_!CGat!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F18a54722-a3eb-415f-8fd3-f6c98f25cd07_1558x878.png 1272w, https://substackcdn.com/image/fetch/$s_!CGat!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F18a54722-a3eb-415f-8fd3-f6c98f25cd07_1558x878.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/18a54722-a3eb-415f-8fd3-f6c98f25cd07_1558x878.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:821,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:523683,&quot;alt&quot;:&quot;&quot;,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/171901084?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F18a54722-a3eb-415f-8fd3-f6c98f25cd07_1558x878.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;821&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!CGat!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F18a54722-a3eb-415f-8fd3-f6c98f25cd07_1558x878.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!CGat!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F18a54722-a3eb-415f-8fd3-f6c98f25cd07_1558x878.png 424w, https://substackcdn.com/image/fetch/$s_!CGat!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F18a54722-a3eb-415f-8fd3-f6c98f25cd07_1558x878.png 848w, https://substackcdn.com/image/fetch/$s_!CGat!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F18a54722-a3eb-415f-8fd3-f6c98f25cd07_1558x878.png 1272w, https://substackcdn.com/image/fetch/$s_!CGat!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F18a54722-a3eb-415f-8fd3-f6c98f25cd07_1558x878.png 1456w&quot; title=&quot;&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   For system memory, PEZY uses four HBM3 stacks to provide 3.2 TB/s of bandwidth and 96 GB of capacity. If each HBM3 stack has a 1024-bit bus, that works out to a 8 GT/s data rate. For comparison, PEZY-SC3 had a 1.23 TB/s HBM2 setup with 32 GB of capacity, supplemented by a dual channel DDR4-3200 setup (51.2 GB/s). Likely, PEZY-SC3 used DDR4 to make up for HBM2’s capacity deficiencies. With HBM3 providing 96 GB of DRAM capacity, PEZY likely decided the DDR4 controllers were no longer needed.
  &lt;/p&gt;
  &lt;h3&gt;
   Management Processor
  &lt;/h3&gt;
  &lt;p&gt;
   PEZY-SC4s also includes a quad core RISC-V management processor running at 1.5 GHz. PEZY chose to use the open source Rocket Core, which is an in-order, scalar core. PEZY’s shift to RISC-V has parallels elsewhere, as many vendors seem to find the open ISA attractive. Examples include Nvidia moving towards RISC-V for their GPU management processors, replacing their prior Falcon architecture.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!Calh!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd82921f3-3ff3-4b5a-a4f0-6311862e941a_373x99.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!Calh!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd82921f3-3ff3-4b5a-a4f0-6311862e941a_373x99.png 424w, https://substackcdn.com/image/fetch/$s_!Calh!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd82921f3-3ff3-4b5a-a4f0-6311862e941a_373x99.png 848w, https://substackcdn.com/image/fetch/$s_!Calh!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd82921f3-3ff3-4b5a-a4f0-6311862e941a_373x99.png 1272w, https://substackcdn.com/image/fetch/$s_!Calh!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd82921f3-3ff3-4b5a-a4f0-6311862e941a_373x99.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/d82921f3-3ff3-4b5a-a4f0-6311862e941a_373x99.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:99,&quot;width&quot;:373,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:6079,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/171901084?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd82921f3-3ff3-4b5a-a4f0-6311862e941a_373x99.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;99&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!Calh!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd82921f3-3ff3-4b5a-a4f0-6311862e941a_373x99.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!Calh!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd82921f3-3ff3-4b5a-a4f0-6311862e941a_373x99.png 424w, https://substackcdn.com/image/fetch/$s_!Calh!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd82921f3-3ff3-4b5a-a4f0-6311862e941a_373x99.png 848w, https://substackcdn.com/image/fetch/$s_!Calh!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd82921f3-3ff3-4b5a-a4f0-6311862e941a_373x99.png 1272w, https://substackcdn.com/image/fetch/$s_!Calh!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd82921f3-3ff3-4b5a-a4f0-6311862e941a_373x99.png 1456w&quot; width=&quot;373&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
      &lt;div&gt;
      &lt;/div&gt;
     &lt;/div&gt;
    &lt;/a&gt;
    &lt;figcaption&gt;
     Management processors across PEZY generations
    &lt;/figcaption&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   In PEZY-SC3, the management processor “controls the PEs and PCIe interfaces”. Likely, they help distribute work to the PEs and orchestrate transfers between the PEZY accelerator and host system memory.
  &lt;/p&gt;
  &lt;h1&gt;
   Host
  &lt;/h1&gt;
  &lt;p&gt;
   PEZY’s accelerators connect to the host via a standard PCIe interface. PEZY-SC4s uses a 16 lane PCIe Gen 5 interface for host communication, which is an upgrade over the PCIe Gen 4 lanes on PEZY-SC3. The host system is a standard x86-64 server, which will use an EPYC 9555P CPU (Zen 5) and Infiniband networking. One system will host four PEZY-SC4s accelerators, in a similar configuration to PEZY-SC3.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!QTUZ!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc3361d30-0677-4ddf-a5fc-242ffc69b254_1589x889.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!QTUZ!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc3361d30-0677-4ddf-a5fc-242ffc69b254_1589x889.png 424w, https://substackcdn.com/image/fetch/$s_!QTUZ!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc3361d30-0677-4ddf-a5fc-242ffc69b254_1589x889.png 848w, https://substackcdn.com/image/fetch/$s_!QTUZ!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc3361d30-0677-4ddf-a5fc-242ffc69b254_1589x889.png 1272w, https://substackcdn.com/image/fetch/$s_!QTUZ!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc3361d30-0677-4ddf-a5fc-242ffc69b254_1589x889.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/c3361d30-0677-4ddf-a5fc-242ffc69b254_1589x889.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:815,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:1112370,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/171901084?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc3361d30-0677-4ddf-a5fc-242ffc69b254_1589x889.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;815&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!QTUZ!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc3361d30-0677-4ddf-a5fc-242ffc69b254_1589x889.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!QTUZ!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc3361d30-0677-4ddf-a5fc-242ffc69b254_1589x889.png 424w, https://substackcdn.com/image/fetch/$s_!QTUZ!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc3361d30-0677-4ddf-a5fc-242ffc69b254_1589x889.png 848w, https://substackcdn.com/image/fetch/$s_!QTUZ!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc3361d30-0677-4ddf-a5fc-242ffc69b254_1589x889.png 1272w, https://substackcdn.com/image/fetch/$s_!QTUZ!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc3361d30-0677-4ddf-a5fc-242ffc69b254_1589x889.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   For comparison, PEZY-SC3 uses an AMD EPYC 7702P host processor, which has Zen 2 cores.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!Uuy4!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe25f030c-edfe-4b20-9827-a58aff5e55dd_1271x670.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!Uuy4!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe25f030c-edfe-4b20-9827-a58aff5e55dd_1271x670.png 424w, https://substackcdn.com/image/fetch/$s_!Uuy4!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe25f030c-edfe-4b20-9827-a58aff5e55dd_1271x670.png 848w, https://substackcdn.com/image/fetch/$s_!Uuy4!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe25f030c-edfe-4b20-9827-a58aff5e55dd_1271x670.png 1272w, https://substackcdn.com/image/fetch/$s_!Uuy4!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe25f030c-edfe-4b20-9827-a58aff5e55dd_1271x670.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/e25f030c-edfe-4b20-9827-a58aff5e55dd_1271x670.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:670,&quot;width&quot;:1271,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:782766,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/171901084?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe25f030c-edfe-4b20-9827-a58aff5e55dd_1271x670.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;670&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!Uuy4!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe25f030c-edfe-4b20-9827-a58aff5e55dd_1271x670.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!Uuy4!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe25f030c-edfe-4b20-9827-a58aff5e55dd_1271x670.png 424w, https://substackcdn.com/image/fetch/$s_!Uuy4!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe25f030c-edfe-4b20-9827-a58aff5e55dd_1271x670.png 848w, https://substackcdn.com/image/fetch/$s_!Uuy4!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe25f030c-edfe-4b20-9827-a58aff5e55dd_1271x670.png 1272w, https://substackcdn.com/image/fetch/$s_!Uuy4!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe25f030c-edfe-4b20-9827-a58aff5e55dd_1271x670.png 1456w&quot; width=&quot;1271&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;h1&gt;
   Final Words
  &lt;/h1&gt;
  &lt;p&gt;
   PEZY’s aims for efficient FP64 compute while also making it easy to utilize. PEZY-SC4S has a mutli-level cache setup to balance caching capacity and speed. It uses small vectors, reducing throughput losses from branch divergence.  The programming model (PZCL) is very similar to OpenCL, which should make it intuitive for anyone used to programming GPUs.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!hU7M!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff1906a59-dcf8-4b54-9c1b-b9a9ce1117bf_1549x864.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!hU7M!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff1906a59-dcf8-4b54-9c1b-b9a9ce1117bf_1549x864.png 424w, https://substackcdn.com/image/fetch/$s_!hU7M!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff1906a59-dcf8-4b54-9c1b-b9a9ce1117bf_1549x864.png 848w, https://substackcdn.com/image/fetch/$s_!hU7M!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff1906a59-dcf8-4b54-9c1b-b9a9ce1117bf_1549x864.png 1272w, https://substackcdn.com/image/fetch/$s_!hU7M!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff1906a59-dcf8-4b54-9c1b-b9a9ce1117bf_1549x864.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/f1906a59-dcf8-4b54-9c1b-b9a9ce1117bf_1549x864.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:812,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:125178,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/171901084?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff1906a59-dcf8-4b54-9c1b-b9a9ce1117bf_1549x864.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;812&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!hU7M!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff1906a59-dcf8-4b54-9c1b-b9a9ce1117bf_1549x864.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!hU7M!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff1906a59-dcf8-4b54-9c1b-b9a9ce1117bf_1549x864.png 424w, https://substackcdn.com/image/fetch/$s_!hU7M!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff1906a59-dcf8-4b54-9c1b-b9a9ce1117bf_1549x864.png 848w, https://substackcdn.com/image/fetch/$s_!hU7M!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff1906a59-dcf8-4b54-9c1b-b9a9ce1117bf_1549x864.png 1272w, https://substackcdn.com/image/fetch/$s_!hU7M!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff1906a59-dcf8-4b54-9c1b-b9a9ce1117bf_1549x864.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Compared to their prior PEZY-SC3S, PEZY-SC4 is more of a refinement that focuses on increased efficiency. Power draw in an earlier PEZY presentation was given at 270W, while PE-only power was estimated at 212W when running DGEMM. PEZY didn’t give any final power figures because they don’t have silicon yet. But initial figures suggest PEZY-SC4S will come in comfortably below 300W per chip.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!tbxj!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fccd04d58-a153-4aec-bf64-7e125a154007_1272x712.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!tbxj!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fccd04d58-a153-4aec-bf64-7e125a154007_1272x712.png 424w, https://substackcdn.com/image/fetch/$s_!tbxj!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fccd04d58-a153-4aec-bf64-7e125a154007_1272x712.png 848w, https://substackcdn.com/image/fetch/$s_!tbxj!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fccd04d58-a153-4aec-bf64-7e125a154007_1272x712.png 1272w, https://substackcdn.com/image/fetch/$s_!tbxj!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fccd04d58-a153-4aec-bf64-7e125a154007_1272x712.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/ccd04d58-a153-4aec-bf64-7e125a154007_1272x712.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:712,&quot;width&quot;:1272,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:179549,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/171901084?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fccd04d58-a153-4aec-bf64-7e125a154007_1272x712.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;712&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!tbxj!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fccd04d58-a153-4aec-bf64-7e125a154007_1272x712.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!tbxj!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fccd04d58-a153-4aec-bf64-7e125a154007_1272x712.png 424w, https://substackcdn.com/image/fetch/$s_!tbxj!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fccd04d58-a153-4aec-bf64-7e125a154007_1272x712.png 848w, https://substackcdn.com/image/fetch/$s_!tbxj!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fccd04d58-a153-4aec-bf64-7e125a154007_1272x712.png 1272w, https://substackcdn.com/image/fetch/$s_!tbxj!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fccd04d58-a153-4aec-bf64-7e125a154007_1272x712.png 1456w&quot; width=&quot;1272&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
    &lt;figcaption&gt;
     Slide from an earlier presentation showing a PEZY-SC series roadmap
    &lt;/figcaption&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   If PEZY-SC4S can hit full throughput at 270W, it’ll achieve ~91 Gigaflops per Watt (GF/W) of FP64 performance. This is quite a bit better than Nvidia&#x27;s H200, at around 49 FP64 GF/W, and somewhat less than AMD&#x27;s HPC-focused MI300A, at around 110 FP64 GF/W. However there is no such thing as a free lunch. MI300A&#x27;s 3D-stacked chiplet-based design was significantly more time-consuming and costly to develop along with more expensive to manufacture than PEZY&#x27;s more traditional monolithic design.
  &lt;/p&gt;
  &lt;p&gt;
   Compared to the latest generation of AI-focused accelerators from AMD and NVIDIA, CDNA4 and Blackwell Ultra respectively, SC4s leads in FP64 efficiency by a considerable margin; though it is worth noting that NVIDIA have sacrificed the overwhelming majority of FP64 performance on B300 to the point where some consumer GPUs will outclass it at FP64 tasks.
  &lt;/p&gt;
  &lt;p&gt;
   The AI boom has left a bit of a blind spot for applications where high precision and result accuracy are paramount. In simulations for example, floating point error can compound over multiple iterations. Higher precision data types like FP64 can help reduce that error, and PEZY’s SC4S targets those applications.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!Aqpo!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4d5b92db-fe02-4895-ac9c-f0e216acf18e_1594x893.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!Aqpo!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4d5b92db-fe02-4895-ac9c-f0e216acf18e_1594x893.png 424w, https://substackcdn.com/image/fetch/$s_!Aqpo!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4d5b92db-fe02-4895-ac9c-f0e216acf18e_1594x893.png 848w, https://substackcdn.com/image/fetch/$s_!Aqpo!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4d5b92db-fe02-4895-ac9c-f0e216acf18e_1594x893.png 1272w, https://substackcdn.com/image/fetch/$s_!Aqpo!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4d5b92db-fe02-4895-ac9c-f0e216acf18e_1594x893.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/4d5b92db-fe02-4895-ac9c-f0e216acf18e_1594x893.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:816,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:117786,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/171901084?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4d5b92db-fe02-4895-ac9c-f0e216acf18e_1594x893.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;816&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!Aqpo!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4d5b92db-fe02-4895-ac9c-f0e216acf18e_1594x893.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!Aqpo!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4d5b92db-fe02-4895-ac9c-f0e216acf18e_1594x893.png 424w, https://substackcdn.com/image/fetch/$s_!Aqpo!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4d5b92db-fe02-4895-ac9c-f0e216acf18e_1594x893.png 848w, https://substackcdn.com/image/fetch/$s_!Aqpo!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4d5b92db-fe02-4895-ac9c-f0e216acf18e_1594x893.png 1272w, https://substackcdn.com/image/fetch/$s_!Aqpo!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4d5b92db-fe02-4895-ac9c-f0e216acf18e_1594x893.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   At a higher level, efforts like PEZY-SC4s and Fujitsu’s A64FX show a curious pattern where Japan maintains domestic hardware architecture development capabilities. It’s contrasts with many other countries that still build their own supercomputers, but rely on chips designed in the US by companies like AMD, Intel, and Nvidia. From the perspective of those countries, it’s undoubtedly cheaper and less risky to rely on the US’s technological base to create the chips they need. But Japan’s approach has merits too. They can design chips tightly targeted to their needs, like energy efficient FP64 compute. It also leads to more unique designs, which I’m fascinated by. I look forward to seeing how PEZY-SC4s does once it’s deployed.
  &lt;/p&gt;
  &lt;p&gt;
   &lt;span&gt;
    If you like the content then consider heading over to the
   &lt;/span&gt;
   &lt;a href=&quot;https://www.patreon.com/ChipsandCheese&quot; rel=&quot;&quot;&gt;
    Patreon
   &lt;/a&gt;
   &lt;span&gt;
    or
   &lt;/span&gt;
   &lt;a href=&quot;https://www.paypal.com/donate/?hosted_button_id=4EMPH66SBGVSQ&quot; rel=&quot;&quot;&gt;
    PayPal
   &lt;/a&gt;
   &lt;span&gt;
    if you want to toss a few bucks to Chips and Cheese. Also consider joining the
   &lt;/span&gt;
   &lt;a href=&quot;https://discord.gg/TwVnRhxgY2&quot; rel=&quot;&quot;&gt;
    Discord
   &lt;/a&gt;
   &lt;span&gt;
    .
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;h1&gt;
   References
  &lt;/h1&gt;
  &lt;ol&gt;
   &lt;li&gt;
    &lt;p&gt;
     Nvidia B200 power limit appears to be 1 kW: https://docs.nvidia.com/dgx/dgxb200-user-guide/power-capping.html
    &lt;/p&gt;
   &lt;/li&gt;
   &lt;li&gt;
    &lt;p&gt;
     メニーコアプロセッサPEZY-SC3 によるヒトゲノム解析の高速化とPEZY-SCシリーズの展望について, presented at Supercomputing Japan 2025. Projects power consumption for PEZY-SC4S to be 270W
    &lt;/p&gt;
   &lt;/li&gt;
   &lt;li&gt;
    &lt;p&gt;
     PEZY-SC3, 高い電力効率を実現するMIMDメニーコアプロセッサ
    &lt;/p&gt;
   &lt;/li&gt;
   &lt;li&gt;
    &lt;p&gt;
     DGX B200 specifications: https://resources.nvidia.com/en-us-dgx-systems/dgx-b200-datasheet
    &lt;/p&gt;
   &lt;/li&gt;
   &lt;li&gt;
    &lt;p&gt;
     https://docs.nvidia.com/cuda/blackwell-tuning-guide/index.html#increased-l2-capacity
    &lt;/p&gt;
   &lt;/li&gt;
  &lt;/ol&gt;
  &lt;p&gt;
  &lt;/p&gt;
 &lt;/div&gt;
&lt;/div&gt;

</description>
</item>
<item>
<title> Liquid Cooling Exhibits at Hot Chips 2025 </title>
<link>https://chipsandcheese.com/p/liquid-cooling-exhibits-at-hot-chips</link>
<pubDate>Mon, 01 Sep 2025 18:36:17 -0000</pubDate>
<description>
&lt;div&gt;
 &lt;div dir=&quot;auto&quot;&gt;
  &lt;p&gt;
   Hot Chips doesn’t just consist of presentations on hardware architecture, although those are the core of what Hot Chips is about. The conference also features stands where various companies show off their developments, and that’s not restricted to chips. Some of those showed off interesting liquid cooling components, particularly in cold plate design.
  &lt;/p&gt;
  &lt;h1&gt;
   Water Jets
  &lt;/h1&gt;
  &lt;p&gt;
   Many of the waterblocks on display use microjets, rather than microfin arrays. Water flows through a manifold at the top of the block, and reaches the cold plate surface through small channels. These channels can be distributed across the cold plate, ensuring cold water supply across the chip.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!57AD!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe896c7e1-2184-412c-a068-2c5676642435_1600x1065.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!57AD!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe896c7e1-2184-412c-a068-2c5676642435_1600x1065.png 424w, https://substackcdn.com/image/fetch/$s_!57AD!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe896c7e1-2184-412c-a068-2c5676642435_1600x1065.png 848w, https://substackcdn.com/image/fetch/$s_!57AD!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe896c7e1-2184-412c-a068-2c5676642435_1600x1065.png 1272w, https://substackcdn.com/image/fetch/$s_!57AD!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe896c7e1-2184-412c-a068-2c5676642435_1600x1065.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/e896c7e1-2184-412c-a068-2c5676642435_1600x1065.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:969,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:false,&quot;topImage&quot;:true,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; fetchpriority=&quot;high&quot; height=&quot;969&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!57AD!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe896c7e1-2184-412c-a068-2c5676642435_1600x1065.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!57AD!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe896c7e1-2184-412c-a068-2c5676642435_1600x1065.png 424w, https://substackcdn.com/image/fetch/$s_!57AD!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe896c7e1-2184-412c-a068-2c5676642435_1600x1065.png 848w, https://substackcdn.com/image/fetch/$s_!57AD!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe896c7e1-2184-412c-a068-2c5676642435_1600x1065.png 1272w, https://substackcdn.com/image/fetch/$s_!57AD!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe896c7e1-2184-412c-a068-2c5676642435_1600x1065.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Alloy Enterprises showed a cutaway of an early prototype of a MI350X waterblock. The manifold in the top layer (bottom in the photo) would take incoming cold water. Holes in an intermediate layer allow water to pass through, forming microjets. A bottom layer, not shown, would interface with the chip. Finally, hot water from the bottom layer would be drawn out through tubing and eventually make its way to a heat exchanger.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!zQLW!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5f56802c-7c82-4f11-88c6-c181d15760d0_1600x1469.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!zQLW!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5f56802c-7c82-4f11-88c6-c181d15760d0_1600x1469.png 424w, https://substackcdn.com/image/fetch/$s_!zQLW!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5f56802c-7c82-4f11-88c6-c181d15760d0_1600x1469.png 848w, https://substackcdn.com/image/fetch/$s_!zQLW!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5f56802c-7c82-4f11-88c6-c181d15760d0_1600x1469.png 1272w, https://substackcdn.com/image/fetch/$s_!zQLW!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5f56802c-7c82-4f11-88c6-c181d15760d0_1600x1469.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/5f56802c-7c82-4f11-88c6-c181d15760d0_1600x1469.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:1337,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:false,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;1337&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!zQLW!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5f56802c-7c82-4f11-88c6-c181d15760d0_1600x1469.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!zQLW!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5f56802c-7c82-4f11-88c6-c181d15760d0_1600x1469.png 424w, https://substackcdn.com/image/fetch/$s_!zQLW!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5f56802c-7c82-4f11-88c6-c181d15760d0_1600x1469.png 848w, https://substackcdn.com/image/fetch/$s_!zQLW!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5f56802c-7c82-4f11-88c6-c181d15760d0_1600x1469.png 1272w, https://substackcdn.com/image/fetch/$s_!zQLW!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5f56802c-7c82-4f11-88c6-c181d15760d0_1600x1469.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Another advantage is that the jets can be positioned with chip hotspots in mind, rather than uniformly across the chip. Jetcool showed off such a design, with holes for water jets positioned at anticipated chip hotspots. Their “SmartLid” waterblock has non-uniform water jet distribution, seen in the hole placement below. Larger holes on the side let water exit.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!oiJA!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F29f63a26-1c32-49ea-825f-6777b83aba55_1263x914.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!oiJA!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F29f63a26-1c32-49ea-825f-6777b83aba55_1263x914.png 424w, https://substackcdn.com/image/fetch/$s_!oiJA!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F29f63a26-1c32-49ea-825f-6777b83aba55_1263x914.png 848w, https://substackcdn.com/image/fetch/$s_!oiJA!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F29f63a26-1c32-49ea-825f-6777b83aba55_1263x914.png 1272w, https://substackcdn.com/image/fetch/$s_!oiJA!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F29f63a26-1c32-49ea-825f-6777b83aba55_1263x914.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/29f63a26-1c32-49ea-825f-6777b83aba55_1263x914.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:914,&quot;width&quot;:1263,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:false,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;914&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!oiJA!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F29f63a26-1c32-49ea-825f-6777b83aba55_1263x914.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!oiJA!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F29f63a26-1c32-49ea-825f-6777b83aba55_1263x914.png 424w, https://substackcdn.com/image/fetch/$s_!oiJA!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F29f63a26-1c32-49ea-825f-6777b83aba55_1263x914.png 848w, https://substackcdn.com/image/fetch/$s_!oiJA!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F29f63a26-1c32-49ea-825f-6777b83aba55_1263x914.png 1272w, https://substackcdn.com/image/fetch/$s_!oiJA!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F29f63a26-1c32-49ea-825f-6777b83aba55_1263x914.png 1456w&quot; width=&quot;1263&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   “SmartLid” goes further too, sending water directly to the die without using a cold plate and thermal interface material. Removing layers improves heat transfer efficiency, a concept that enthusiasts are familiar with delidding. Hitting the die directly with water jets is a natural next step, though one that I find at least slightly scary. I hope that rubber gasket is a really good one. I also hope the chip being cooled doesn’t have any water-sensitive surface mount components too close to the die.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!E4C_!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0f9ec588-c62d-4e59-8dc8-ee4543fcb8b2_1565x1600.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!E4C_!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0f9ec588-c62d-4e59-8dc8-ee4543fcb8b2_1565x1600.png 424w, https://substackcdn.com/image/fetch/$s_!E4C_!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0f9ec588-c62d-4e59-8dc8-ee4543fcb8b2_1565x1600.png 848w, https://substackcdn.com/image/fetch/$s_!E4C_!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0f9ec588-c62d-4e59-8dc8-ee4543fcb8b2_1565x1600.png 1272w, https://substackcdn.com/image/fetch/$s_!E4C_!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0f9ec588-c62d-4e59-8dc8-ee4543fcb8b2_1565x1600.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/0f9ec588-c62d-4e59-8dc8-ee4543fcb8b2_1565x1600.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:1489,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;1489&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!E4C_!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0f9ec588-c62d-4e59-8dc8-ee4543fcb8b2_1565x1600.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!E4C_!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0f9ec588-c62d-4e59-8dc8-ee4543fcb8b2_1565x1600.png 424w, https://substackcdn.com/image/fetch/$s_!E4C_!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0f9ec588-c62d-4e59-8dc8-ee4543fcb8b2_1565x1600.png 848w, https://substackcdn.com/image/fetch/$s_!E4C_!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0f9ec588-c62d-4e59-8dc8-ee4543fcb8b2_1565x1600.png 1272w, https://substackcdn.com/image/fetch/$s_!E4C_!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0f9ec588-c62d-4e59-8dc8-ee4543fcb8b2_1565x1600.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   It’s also worth noting how small the water jets are. They’re difficult to see with the naked eye, so Jetcool mounted LEDs inside to show the water jet hole placement.
  &lt;/p&gt;
  &lt;p&gt;
   Needless to say, a solution like this won’t be broadly applicable to PC hardware. Coolers for PC enthusiasts must cater to a wide range of chips across different platforms. Specializing by positioning water jets over anticipated hot spots would require different designs for each chip.
  &lt;/p&gt;
  &lt;p&gt;
   But large scale server deployments, such as those meant for AI, won’t have a diverse collection of hardware. For logistics reasons, companies will want to standardize on one server configuration with memory, CPUs, and accelerators set in stone, and deploy that across a wide fleet. With increased thermal requirements from AI, designing waterblocks tightly optimized for certain chips may be worthwhile.
  &lt;/p&gt;
  &lt;h1&gt;
   More Waterblock Designs
  &lt;/h1&gt;
  &lt;p&gt;
   Alloy had a range of waterblocks on display, including the one above. Some used copper, much like consumer PC cooling solutions, but aluminum was present as well. Copper allows for excellent heat transfer efficiency, which is why it’s so popular, but its weight can be a huge disadvantage. Sometimes servers need to be transported by aircraft, where weight restrictions can be a concern. Aluminum is much better when weight matters. However, corrosion can reduce lifespan. As with everything, there’s a tradeoff.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!W6qW!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6c0cb8b4-1aad-48f6-894b-6ebbf4972398_1600x1065.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!W6qW!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6c0cb8b4-1aad-48f6-894b-6ebbf4972398_1600x1065.png 424w, https://substackcdn.com/image/fetch/$s_!W6qW!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6c0cb8b4-1aad-48f6-894b-6ebbf4972398_1600x1065.png 848w, https://substackcdn.com/image/fetch/$s_!W6qW!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6c0cb8b4-1aad-48f6-894b-6ebbf4972398_1600x1065.png 1272w, https://substackcdn.com/image/fetch/$s_!W6qW!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6c0cb8b4-1aad-48f6-894b-6ebbf4972398_1600x1065.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/6c0cb8b4-1aad-48f6-894b-6ebbf4972398_1600x1065.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:969,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;969&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!W6qW!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6c0cb8b4-1aad-48f6-894b-6ebbf4972398_1600x1065.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!W6qW!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6c0cb8b4-1aad-48f6-894b-6ebbf4972398_1600x1065.png 424w, https://substackcdn.com/image/fetch/$s_!W6qW!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6c0cb8b4-1aad-48f6-894b-6ebbf4972398_1600x1065.png 848w, https://substackcdn.com/image/fetch/$s_!W6qW!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6c0cb8b4-1aad-48f6-894b-6ebbf4972398_1600x1065.png 1272w, https://substackcdn.com/image/fetch/$s_!W6qW!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6c0cb8b4-1aad-48f6-894b-6ebbf4972398_1600x1065.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   For example, here’s the back of an aluminum waterblock for the MI300 series. While not obvious from a photograph, this design is noticeably lighter than copper waterblocks. Interestingly, the cold plate features cutouts for temperature sensors.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!SH7h!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F245f99d4-baff-4a71-b87a-96112eeffa02_1600x1065.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!SH7h!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F245f99d4-baff-4a71-b87a-96112eeffa02_1600x1065.png 424w, https://substackcdn.com/image/fetch/$s_!SH7h!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F245f99d4-baff-4a71-b87a-96112eeffa02_1600x1065.png 848w, https://substackcdn.com/image/fetch/$s_!SH7h!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F245f99d4-baff-4a71-b87a-96112eeffa02_1600x1065.png 1272w, https://substackcdn.com/image/fetch/$s_!SH7h!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F245f99d4-baff-4a71-b87a-96112eeffa02_1600x1065.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/245f99d4-baff-4a71-b87a-96112eeffa02_1600x1065.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:969,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;969&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!SH7h!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F245f99d4-baff-4a71-b87a-96112eeffa02_1600x1065.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!SH7h!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F245f99d4-baff-4a71-b87a-96112eeffa02_1600x1065.png 424w, https://substackcdn.com/image/fetch/$s_!SH7h!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F245f99d4-baff-4a71-b87a-96112eeffa02_1600x1065.png 848w, https://substackcdn.com/image/fetch/$s_!SH7h!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F245f99d4-baff-4a71-b87a-96112eeffa02_1600x1065.png 1272w, https://substackcdn.com/image/fetch/$s_!SH7h!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F245f99d4-baff-4a71-b87a-96112eeffa02_1600x1065.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Jetcool’s stand also featured a copper waterblock for the MI300 series. It’s copper, and features contact pads for various components located around the GPU die.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!eHzb!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6932f152-1e27-4bee-89da-794ed87d13e8_1600x1065.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!eHzb!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6932f152-1e27-4bee-89da-794ed87d13e8_1600x1065.png 424w, https://substackcdn.com/image/fetch/$s_!eHzb!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6932f152-1e27-4bee-89da-794ed87d13e8_1600x1065.png 848w, https://substackcdn.com/image/fetch/$s_!eHzb!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6932f152-1e27-4bee-89da-794ed87d13e8_1600x1065.png 1272w, https://substackcdn.com/image/fetch/$s_!eHzb!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6932f152-1e27-4bee-89da-794ed87d13e8_1600x1065.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/6932f152-1e27-4bee-89da-794ed87d13e8_1600x1065.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:969,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;969&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!eHzb!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6932f152-1e27-4bee-89da-794ed87d13e8_1600x1065.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!eHzb!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6932f152-1e27-4bee-89da-794ed87d13e8_1600x1065.png 424w, https://substackcdn.com/image/fetch/$s_!eHzb!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6932f152-1e27-4bee-89da-794ed87d13e8_1600x1065.png 848w, https://substackcdn.com/image/fetch/$s_!eHzb!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6932f152-1e27-4bee-89da-794ed87d13e8_1600x1065.png 1272w, https://substackcdn.com/image/fetch/$s_!eHzb!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6932f152-1e27-4bee-89da-794ed87d13e8_1600x1065.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   The top of the waterblock has some beautiful metal machining patterns.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!zbWd!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F20d88c6e-7cc1-43b3-b947-1dc7f29bfef5_1600x1065.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!zbWd!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F20d88c6e-7cc1-43b3-b947-1dc7f29bfef5_1600x1065.png 424w, https://substackcdn.com/image/fetch/$s_!zbWd!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F20d88c6e-7cc1-43b3-b947-1dc7f29bfef5_1600x1065.png 848w, https://substackcdn.com/image/fetch/$s_!zbWd!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F20d88c6e-7cc1-43b3-b947-1dc7f29bfef5_1600x1065.png 1272w, https://substackcdn.com/image/fetch/$s_!zbWd!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F20d88c6e-7cc1-43b3-b947-1dc7f29bfef5_1600x1065.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/20d88c6e-7cc1-43b3-b947-1dc7f29bfef5_1600x1065.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:969,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;969&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!zbWd!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F20d88c6e-7cc1-43b3-b947-1dc7f29bfef5_1600x1065.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!zbWd!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F20d88c6e-7cc1-43b3-b947-1dc7f29bfef5_1600x1065.png 424w, https://substackcdn.com/image/fetch/$s_!zbWd!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F20d88c6e-7cc1-43b3-b947-1dc7f29bfef5_1600x1065.png 848w, https://substackcdn.com/image/fetch/$s_!zbWd!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F20d88c6e-7cc1-43b3-b947-1dc7f29bfef5_1600x1065.png 1272w, https://substackcdn.com/image/fetch/$s_!zbWd!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F20d88c6e-7cc1-43b3-b947-1dc7f29bfef5_1600x1065.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Jetcool also showed off system level stuff. This is a setup meant for cooling Nvidia’s GB200 setup, which features two B200 GPUs and a Grace CPU.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!V1Ju!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F581c568b-1691-4838-83dd-cd71e96fd793_1338x1600.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!V1Ju!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F581c568b-1691-4838-83dd-cd71e96fd793_1338x1600.png 424w, https://substackcdn.com/image/fetch/$s_!V1Ju!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F581c568b-1691-4838-83dd-cd71e96fd793_1338x1600.png 848w, https://substackcdn.com/image/fetch/$s_!V1Ju!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F581c568b-1691-4838-83dd-cd71e96fd793_1338x1600.png 1272w, https://substackcdn.com/image/fetch/$s_!V1Ju!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F581c568b-1691-4838-83dd-cd71e96fd793_1338x1600.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/581c568b-1691-4838-83dd-cd71e96fd793_1338x1600.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:1600,&quot;width&quot;:1338,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;1600&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!V1Ju!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F581c568b-1691-4838-83dd-cd71e96fd793_1338x1600.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!V1Ju!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F581c568b-1691-4838-83dd-cd71e96fd793_1338x1600.png 424w, https://substackcdn.com/image/fetch/$s_!V1Ju!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F581c568b-1691-4838-83dd-cd71e96fd793_1338x1600.png 848w, https://substackcdn.com/image/fetch/$s_!V1Ju!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F581c568b-1691-4838-83dd-cd71e96fd793_1338x1600.png 1272w, https://substackcdn.com/image/fetch/$s_!V1Ju!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F581c568b-1691-4838-83dd-cd71e96fd793_1338x1600.png 1456w&quot; width=&quot;1338&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   The three chips are connected in series. It looks like coolant would flow across one GPU, then to the other GPU, and finally to the CPU. It’s a setup that makes a lot of sense because the GPUs will do heavy lifting in AI workloads, and generate more heat too.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!OXGe!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbef11a6d-d86a-4e75-9938-73352ee0a670_1600x1065.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!OXGe!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbef11a6d-d86a-4e75-9938-73352ee0a670_1600x1065.png 424w, https://substackcdn.com/image/fetch/$s_!OXGe!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbef11a6d-d86a-4e75-9938-73352ee0a670_1600x1065.png 848w, https://substackcdn.com/image/fetch/$s_!OXGe!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbef11a6d-d86a-4e75-9938-73352ee0a670_1600x1065.png 1272w, https://substackcdn.com/image/fetch/$s_!OXGe!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbef11a6d-d86a-4e75-9938-73352ee0a670_1600x1065.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/bef11a6d-d86a-4e75-9938-73352ee0a670_1600x1065.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:969,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;969&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!OXGe!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbef11a6d-d86a-4e75-9938-73352ee0a670_1600x1065.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!OXGe!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbef11a6d-d86a-4e75-9938-73352ee0a670_1600x1065.png 424w, https://substackcdn.com/image/fetch/$s_!OXGe!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbef11a6d-d86a-4e75-9938-73352ee0a670_1600x1065.png 848w, https://substackcdn.com/image/fetch/$s_!OXGe!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbef11a6d-d86a-4e75-9938-73352ee0a670_1600x1065.png 1272w, https://substackcdn.com/image/fetch/$s_!OXGe!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbef11a6d-d86a-4e75-9938-73352ee0a670_1600x1065.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   The cold plates for the GB200 setup are copper and flat, and remind me of PC cooling waterblocks.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!7M3u!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1e89a88e-292b-4697-a43d-9c7622577f13_1600x1065.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!7M3u!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1e89a88e-292b-4697-a43d-9c7622577f13_1600x1065.png 424w, https://substackcdn.com/image/fetch/$s_!7M3u!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1e89a88e-292b-4697-a43d-9c7622577f13_1600x1065.png 848w, https://substackcdn.com/image/fetch/$s_!7M3u!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1e89a88e-292b-4697-a43d-9c7622577f13_1600x1065.png 1272w, https://substackcdn.com/image/fetch/$s_!7M3u!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1e89a88e-292b-4697-a43d-9c7622577f13_1600x1065.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/1e89a88e-292b-4697-a43d-9c7622577f13_1600x1065.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:969,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;969&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!7M3u!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1e89a88e-292b-4697-a43d-9c7622577f13_1600x1065.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!7M3u!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1e89a88e-292b-4697-a43d-9c7622577f13_1600x1065.png 424w, https://substackcdn.com/image/fetch/$s_!7M3u!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1e89a88e-292b-4697-a43d-9c7622577f13_1600x1065.png 848w, https://substackcdn.com/image/fetch/$s_!7M3u!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1e89a88e-292b-4697-a43d-9c7622577f13_1600x1065.png 1272w, https://substackcdn.com/image/fetch/$s_!7M3u!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1e89a88e-292b-4697-a43d-9c7622577f13_1600x1065.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Finally, Jetcool has a server set up with a self-contained water cooling setup. It’s a reminder that not all datacenters are set up to do water cooling at the building level. A solution that uses radiators, pumps, and waterblocks all contained within the same system can seamlessly slot into existing datacenters. This setup puts two CPUs in series.
  &lt;/p&gt;
  &lt;h1&gt;
   Nvidia’s GB300 Server
  &lt;/h1&gt;
  &lt;p&gt;
   While not specifically set up to showcase liquid cooling, Nvidia had a GB300 server and NVLink switch on display. The GB300 server has external connections for liquid cooling. Liquid goes through flexible rubber pipes, and then moves to hard copper pipes as it gets closer to the copper waterblocks. Heated water goes back to rubber pipes and exits the system.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!K3t9!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Faced57b7-02c4-4428-95bb-5b50d0d2b38c_1600x1065.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!K3t9!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Faced57b7-02c4-4428-95bb-5b50d0d2b38c_1600x1065.png 424w, https://substackcdn.com/image/fetch/$s_!K3t9!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Faced57b7-02c4-4428-95bb-5b50d0d2b38c_1600x1065.png 848w, https://substackcdn.com/image/fetch/$s_!K3t9!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Faced57b7-02c4-4428-95bb-5b50d0d2b38c_1600x1065.png 1272w, https://substackcdn.com/image/fetch/$s_!K3t9!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Faced57b7-02c4-4428-95bb-5b50d0d2b38c_1600x1065.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/aced57b7-02c4-4428-95bb-5b50d0d2b38c_1600x1065.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:969,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;969&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!K3t9!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Faced57b7-02c4-4428-95bb-5b50d0d2b38c_1600x1065.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!K3t9!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Faced57b7-02c4-4428-95bb-5b50d0d2b38c_1600x1065.png 424w, https://substackcdn.com/image/fetch/$s_!K3t9!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Faced57b7-02c4-4428-95bb-5b50d0d2b38c_1600x1065.png 848w, https://substackcdn.com/image/fetch/$s_!K3t9!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Faced57b7-02c4-4428-95bb-5b50d0d2b38c_1600x1065.png 1272w, https://substackcdn.com/image/fetch/$s_!K3t9!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Faced57b7-02c4-4428-95bb-5b50d0d2b38c_1600x1065.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   A closer look at the waterblocks shows a layer over them that almost looks like the pattern on a resistive touch sensor. I wonder if it’s there to detect leaks. Perhaps water will close a circuit and trip a sensor.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!AY_H!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb4b178e4-6151-4ef3-b320-c754f793144b_1600x1065.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!AY_H!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb4b178e4-6151-4ef3-b320-c754f793144b_1600x1065.png 424w, https://substackcdn.com/image/fetch/$s_!AY_H!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb4b178e4-6151-4ef3-b320-c754f793144b_1600x1065.png 848w, https://substackcdn.com/image/fetch/$s_!AY_H!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb4b178e4-6151-4ef3-b320-c754f793144b_1600x1065.png 1272w, https://substackcdn.com/image/fetch/$s_!AY_H!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb4b178e4-6151-4ef3-b320-c754f793144b_1600x1065.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/b4b178e4-6151-4ef3-b320-c754f793144b_1600x1065.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:969,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;969&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!AY_H!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb4b178e4-6151-4ef3-b320-c754f793144b_1600x1065.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!AY_H!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb4b178e4-6151-4ef3-b320-c754f793144b_1600x1065.png 424w, https://substackcdn.com/image/fetch/$s_!AY_H!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb4b178e4-6151-4ef3-b320-c754f793144b_1600x1065.png 848w, https://substackcdn.com/image/fetch/$s_!AY_H!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb4b178e4-6151-4ef3-b320-c754f793144b_1600x1065.png 1272w, https://substackcdn.com/image/fetch/$s_!AY_H!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb4b178e4-6151-4ef3-b320-c754f793144b_1600x1065.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   The NVLink switch is also water cooled with a similar setup. Again, there’s hard copper pipes, copper waterblocks, and funny patterns hooked up to what could be a sensor.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!8lwZ!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fed3f22be-4d14-46c5-9476-3a7841126d89_1600x1065.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!8lwZ!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fed3f22be-4d14-46c5-9476-3a7841126d89_1600x1065.png 424w, https://substackcdn.com/image/fetch/$s_!8lwZ!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fed3f22be-4d14-46c5-9476-3a7841126d89_1600x1065.png 848w, https://substackcdn.com/image/fetch/$s_!8lwZ!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fed3f22be-4d14-46c5-9476-3a7841126d89_1600x1065.png 1272w, https://substackcdn.com/image/fetch/$s_!8lwZ!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fed3f22be-4d14-46c5-9476-3a7841126d89_1600x1065.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/ed3f22be-4d14-46c5-9476-3a7841126d89_1600x1065.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:969,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;969&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!8lwZ!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fed3f22be-4d14-46c5-9476-3a7841126d89_1600x1065.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!8lwZ!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fed3f22be-4d14-46c5-9476-3a7841126d89_1600x1065.png 424w, https://substackcdn.com/image/fetch/$s_!8lwZ!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fed3f22be-4d14-46c5-9476-3a7841126d89_1600x1065.png 848w, https://substackcdn.com/image/fetch/$s_!8lwZ!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fed3f22be-4d14-46c5-9476-3a7841126d89_1600x1065.png 1272w, https://substackcdn.com/image/fetch/$s_!8lwZ!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fed3f22be-4d14-46c5-9476-3a7841126d89_1600x1065.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Water cooling only extends to the hottest components like the GPUs or NVSwitch chips. Other components make do with passive air cooling, provided by fans near the front of the case. What looks like a Samsung SSD on the side doesn’t even need a passive heatsink.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!opog!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7aa244de-11c8-478f-aef5-a48d67f78f35_1600x1062.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!opog!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7aa244de-11c8-478f-aef5-a48d67f78f35_1600x1062.png 424w, https://substackcdn.com/image/fetch/$s_!opog!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7aa244de-11c8-478f-aef5-a48d67f78f35_1600x1062.png 848w, https://substackcdn.com/image/fetch/$s_!opog!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7aa244de-11c8-478f-aef5-a48d67f78f35_1600x1062.png 1272w, https://substackcdn.com/image/fetch/$s_!opog!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7aa244de-11c8-478f-aef5-a48d67f78f35_1600x1062.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/7aa244de-11c8-478f-aef5-a48d67f78f35_1600x1062.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:966,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;966&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!opog!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7aa244de-11c8-478f-aef5-a48d67f78f35_1600x1062.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!opog!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7aa244de-11c8-478f-aef5-a48d67f78f35_1600x1062.png 424w, https://substackcdn.com/image/fetch/$s_!opog!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7aa244de-11c8-478f-aef5-a48d67f78f35_1600x1062.png 848w, https://substackcdn.com/image/fetch/$s_!opog!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7aa244de-11c8-478f-aef5-a48d67f78f35_1600x1062.png 1272w, https://substackcdn.com/image/fetch/$s_!opog!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7aa244de-11c8-478f-aef5-a48d67f78f35_1600x1062.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;h1&gt;
   Final Words
  &lt;/h1&gt;
  &lt;p&gt;
   The current AI boom makes cooling a hot topic. Chips built to accelerate machine learning are rapidly trending towards higher power draw, which translates to higher waste heat output. For example, Meta’s Catalina uses racks of 18 compute trays, which each host two B200 GPUs and two Grace CPUs.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!cOFD!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff89d1a5c-968d-465d-a737-5bb1edf8d383_1437x808.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!cOFD!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff89d1a5c-968d-465d-a737-5bb1edf8d383_1437x808.png 424w, https://substackcdn.com/image/fetch/$s_!cOFD!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff89d1a5c-968d-465d-a737-5bb1edf8d383_1437x808.png 848w, https://substackcdn.com/image/fetch/$s_!cOFD!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff89d1a5c-968d-465d-a737-5bb1edf8d383_1437x808.png 1272w, https://substackcdn.com/image/fetch/$s_!cOFD!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff89d1a5c-968d-465d-a737-5bb1edf8d383_1437x808.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/f89d1a5c-968d-465d-a737-5bb1edf8d383_1437x808.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:808,&quot;width&quot;:1437,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;808&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!cOFD!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff89d1a5c-968d-465d-a737-5bb1edf8d383_1437x808.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!cOFD!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff89d1a5c-968d-465d-a737-5bb1edf8d383_1437x808.png 424w, https://substackcdn.com/image/fetch/$s_!cOFD!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff89d1a5c-968d-465d-a737-5bb1edf8d383_1437x808.png 848w, https://substackcdn.com/image/fetch/$s_!cOFD!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff89d1a5c-968d-465d-a737-5bb1edf8d383_1437x808.png 1272w, https://substackcdn.com/image/fetch/$s_!cOFD!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff89d1a5c-968d-465d-a737-5bb1edf8d383_1437x808.png 1456w&quot; width=&quot;1437&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   &lt;span&gt;
    A single rack can draw 93.5 kW. For perspective, the
   &lt;/span&gt;
   &lt;a href=&quot;https://www.eia.gov/energyexplained/use-of-energy/electricity-use-in-homes.php&quot; rel=&quot;&quot;&gt;
    average US household
   &lt;/a&gt;
   &lt;span&gt;
    draws less than 2 kW, averaged out over a year (16000 kWh / 8760 hours per year). An AMD MI350 rack goes for even higher compute density, packing 128 MI355X liquid cooled GPUs into a rack. The MI350 OAM liquid cooled module is designed for 1.4 kW, so the 128 GPUs could draw nearly 180 kW. For a larger scale example, a Google “superpod” of 9216 networked Ironwood TPU chips draws about 10 MW. All of that waste heat has to go somewhere, and datacenter cooling technologies are being pushed to their limits. The current trend sees power draw, and thus waste heat, increase generation over generation as chipmakers build higher throughput hardware to handle AI demands.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   All of that waste heat has to go somewhere, which drives innovation in liquid cooling technologies. While liquid cooling hardware displayed at Hot Chips 2025 was very focused on the enterprise side and cooling AI-related chips, I hope some techniques will trickle down to consumer hardware in the years to come. Hotspotting is definitely an issue that spans consumer and enterprise segments. And zooming up, I would love a solution that lets me pre-heat water with my computer, and use less energy at the water heater.
  &lt;/p&gt;
  &lt;p&gt;
   &lt;span&gt;
    If you like the content then consider heading over to the
   &lt;/span&gt;
   &lt;a href=&quot;https://www.patreon.com/ChipsandCheese&quot; rel=&quot;&quot;&gt;
    Patreon
   &lt;/a&gt;
   &lt;span&gt;
    or
   &lt;/span&gt;
   &lt;a href=&quot;https://www.paypal.com/donate/?hosted_button_id=4EMPH66SBGVSQ&quot; rel=&quot;&quot;&gt;
    PayPal
   &lt;/a&gt;
   &lt;span&gt;
    if you want to toss a few bucks to Chips and Cheese. Also consider joining the
   &lt;/span&gt;
   &lt;a href=&quot;https://discord.gg/TwVnRhxgY2&quot; rel=&quot;&quot;&gt;
    Discord
   &lt;/a&gt;
   &lt;span&gt;
    .
   &lt;/span&gt;
  &lt;/p&gt;
 &lt;/div&gt;
&lt;/div&gt;

</description>
</item>
<item>
<title> Condor’s Cuzco RISC-V Core at Hot Chips 2025 </title>
<link>https://chipsandcheese.com/p/condors-cuzco-risc-v-core-at-hot</link>
<pubDate>Fri, 29 Aug 2025 17:45:55 -0000</pubDate>
<description>
&lt;div&gt;
 &lt;div dir=&quot;auto&quot;&gt;
  &lt;p&gt;
   &lt;span&gt;
    Condor Computing,
   &lt;/span&gt;
   &lt;strong&gt;
   &lt;/strong&gt;
   &lt;span&gt;
    a subsidiary of Andes Technology that creates licensable RISC-V cores, has a business model with parallels to Arm (the company) and SiFive. Andes formed Condor in 2023, so Condor is a relatively young player on the RISC-V scene. However, Andes does have RISC-V design experience prior to Condor’s formation with a few RISC-V cores under their belt from years past.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   Condor is presenting their Cuzco core at Hot Chips 2025. This core is a heavyweight within the RISC-V scene, with wide out-of-order execution and a modern branch predictor and some new time based tricks. It’s in the same segment as high performance RISC-V designs like SiFive’s P870 and Veyron’s V1. Like those cores, Cuzco should stand head and shoulders above currently in-silicon RISC-V cores like Alibaba T-HEAD’s C910 and SiFive’s P550.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!2an9!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1630238d-2ae4-4c37-b5d1-c1db7a6d865c_1279x716.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!2an9!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1630238d-2ae4-4c37-b5d1-c1db7a6d865c_1279x716.png 424w, https://substackcdn.com/image/fetch/$s_!2an9!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1630238d-2ae4-4c37-b5d1-c1db7a6d865c_1279x716.png 848w, https://substackcdn.com/image/fetch/$s_!2an9!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1630238d-2ae4-4c37-b5d1-c1db7a6d865c_1279x716.png 1272w, https://substackcdn.com/image/fetch/$s_!2an9!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1630238d-2ae4-4c37-b5d1-c1db7a6d865c_1279x716.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/1630238d-2ae4-4c37-b5d1-c1db7a6d865c_1279x716.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:716,&quot;width&quot;:1279,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:false,&quot;topImage&quot;:true,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; fetchpriority=&quot;high&quot; height=&quot;716&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!2an9!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1630238d-2ae4-4c37-b5d1-c1db7a6d865c_1279x716.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!2an9!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1630238d-2ae4-4c37-b5d1-c1db7a6d865c_1279x716.png 424w, https://substackcdn.com/image/fetch/$s_!2an9!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1630238d-2ae4-4c37-b5d1-c1db7a6d865c_1279x716.png 848w, https://substackcdn.com/image/fetch/$s_!2an9!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1630238d-2ae4-4c37-b5d1-c1db7a6d865c_1279x716.png 1272w, https://substackcdn.com/image/fetch/$s_!2an9!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1630238d-2ae4-4c37-b5d1-c1db7a6d865c_1279x716.png 1456w&quot; width=&quot;1279&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Besides being a wide out-of-order design, Cuzco uses mostly static scheduling in the backend to save power and reduce complexity. Condor calls this a “time-based” scheduling scheme. I’ll cover more on this later, but it’s important to note that this is purely an implementation detail. It doesn’t require ISA modifications or special treatment from the compiler for optimal performance.
  &lt;/p&gt;
  &lt;h1&gt;
   Core Overview
  &lt;/h1&gt;
  &lt;p&gt;
   Cuzco is a 8-wide out-of-order core with a 256 entry ROB and clock speed targets around 2 GHz SS (Slow-Slow) to 2.5 GHz (Typical-Typical) on TSMC’s 5nm process. The pipeline has 12 stages counting from instruction fetch to data cache access completion. However, a 10 cycle mispredict penalty probably more accurately describes the core’s pipeline length relative to its competitors.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!IvR7!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe476ef8c-fe18-468d-9e25-cd478ea14d2f_1480x557.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!IvR7!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe476ef8c-fe18-468d-9e25-cd478ea14d2f_1480x557.png 424w, https://substackcdn.com/image/fetch/$s_!IvR7!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe476ef8c-fe18-468d-9e25-cd478ea14d2f_1480x557.png 848w, https://substackcdn.com/image/fetch/$s_!IvR7!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe476ef8c-fe18-468d-9e25-cd478ea14d2f_1480x557.png 1272w, https://substackcdn.com/image/fetch/$s_!IvR7!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe476ef8c-fe18-468d-9e25-cd478ea14d2f_1480x557.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/e476ef8c-fe18-468d-9e25-cd478ea14d2f_1480x557.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:548,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:false,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;548&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!IvR7!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe476ef8c-fe18-468d-9e25-cd478ea14d2f_1480x557.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!IvR7!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe476ef8c-fe18-468d-9e25-cd478ea14d2f_1480x557.png 424w, https://substackcdn.com/image/fetch/$s_!IvR7!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe476ef8c-fe18-468d-9e25-cd478ea14d2f_1480x557.png 848w, https://substackcdn.com/image/fetch/$s_!IvR7!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe476ef8c-fe18-468d-9e25-cd478ea14d2f_1480x557.png 1272w, https://substackcdn.com/image/fetch/$s_!IvR7!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe476ef8c-fe18-468d-9e25-cd478ea14d2f_1480x557.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   As a licensed core, Cuzco is meant to be highly configurable to widen its target market. The core is built from a variable number of execution slices. Customization options also include L2 TLB size, off-cluster bus widths, and L2/L3 capacity. Condor can also adjust the size of various internal core structures to meet customer performance requirements. Cuzco cores are arranged into clusters with up to eight cores. Clusters interface with the system via a CHI bus, so customers can bring their own network-on-chip (NoC) to hit higher core counts via multi-cluster setups.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!AW4y!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F16a84802-4a32-42fd-bf89-6e75ce5d3914_1600x904.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!AW4y!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F16a84802-4a32-42fd-bf89-6e75ce5d3914_1600x904.png 424w, https://substackcdn.com/image/fetch/$s_!AW4y!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F16a84802-4a32-42fd-bf89-6e75ce5d3914_1600x904.png 848w, https://substackcdn.com/image/fetch/$s_!AW4y!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F16a84802-4a32-42fd-bf89-6e75ce5d3914_1600x904.png 1272w, https://substackcdn.com/image/fetch/$s_!AW4y!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F16a84802-4a32-42fd-bf89-6e75ce5d3914_1600x904.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/16a84802-4a32-42fd-bf89-6e75ce5d3914_1600x904.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:823,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:false,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;823&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!AW4y!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F16a84802-4a32-42fd-bf89-6e75ce5d3914_1600x904.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!AW4y!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F16a84802-4a32-42fd-bf89-6e75ce5d3914_1600x904.png 424w, https://substackcdn.com/image/fetch/$s_!AW4y!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F16a84802-4a32-42fd-bf89-6e75ce5d3914_1600x904.png 848w, https://substackcdn.com/image/fetch/$s_!AW4y!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F16a84802-4a32-42fd-bf89-6e75ce5d3914_1600x904.png 1272w, https://substackcdn.com/image/fetch/$s_!AW4y!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F16a84802-4a32-42fd-bf89-6e75ce5d3914_1600x904.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;h1&gt;
   Frontend
  &lt;/h1&gt;
  &lt;p&gt;
   Cuzco’s frontend starts with a sophisticated branch predictor, as is typical for modern cores targeting any reasonable performance level. Conditional branches are handled via a TAGE-SC-L predictor. TAGE stands for Tagged Geometric, a technique that uses multiple tables each handling a different history length. It seeks to efficiently use branch predictor storage by selecting the most appropriate history length for each branch, as opposed to older techniques that use a fixed history length. The SC (Statistical Corrector) part handles the small subset of branches where TAGE doesn’t work well, and can invert the prediction if it sees TAGE often getting things wrong under certain circumstances. Finally, L indicates a loop predictor. A loop predictor is simply a set of counters that come into play for branches that are taken a certain number of times, then not taken once. If the branch predictor detects such loop behavior, the loop predictor can let it avoid mispredicting on the last iteration of the loop. Basically, TAGE-SC-L is an augmented version of the basic TAGE predictor.
  &lt;/p&gt;
  &lt;p&gt;
   AMD’s Zen 2, Ampere’s AmpereOne, and Qualcomm’s Oryon also use TAGE predictors of some sort, and achieve excellent branch prediction accuracy. AMD, Ampere, and Qualcomm also likely augment the basic TAGE prediction strategy in some way. How Cuzco’s TAGE predictor performs will depend on how large its history tables are, as well as how well the predictor is tuned (selection of index vs tag bits, history lengths, distribution of storage budget across TAGE tables, etc). For Cuzco’s part, they’ve disclosed that the TAGE predictor’s base component uses a 16K entry table of bimodal counters.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!olX5!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3c6d8dfa-88d8-4eef-a550-95b009e18aa9_1600x897.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!olX5!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3c6d8dfa-88d8-4eef-a550-95b009e18aa9_1600x897.png 424w, https://substackcdn.com/image/fetch/$s_!olX5!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3c6d8dfa-88d8-4eef-a550-95b009e18aa9_1600x897.png 848w, https://substackcdn.com/image/fetch/$s_!olX5!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3c6d8dfa-88d8-4eef-a550-95b009e18aa9_1600x897.png 1272w, https://substackcdn.com/image/fetch/$s_!olX5!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3c6d8dfa-88d8-4eef-a550-95b009e18aa9_1600x897.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/3c6d8dfa-88d8-4eef-a550-95b009e18aa9_1600x897.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:816,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;816&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!olX5!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3c6d8dfa-88d8-4eef-a550-95b009e18aa9_1600x897.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!olX5!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3c6d8dfa-88d8-4eef-a550-95b009e18aa9_1600x897.png 424w, https://substackcdn.com/image/fetch/$s_!olX5!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3c6d8dfa-88d8-4eef-a550-95b009e18aa9_1600x897.png 848w, https://substackcdn.com/image/fetch/$s_!olX5!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3c6d8dfa-88d8-4eef-a550-95b009e18aa9_1600x897.png 1272w, https://substackcdn.com/image/fetch/$s_!olX5!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3c6d8dfa-88d8-4eef-a550-95b009e18aa9_1600x897.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Branch target caching on Cuzco is provided by a 8K entry branch target buffer (BTB) split into two levels. Condor’s slides show the BTB hit/miss occurring on the cycle after instruction cache access starts, so a taken branch likely creates a single pipeline bubble. Returns are predicted using a 32 entry return stack. Cuzco also has an indirect branch predictor, which is typical on modern CPUs.
  &lt;/p&gt;
  &lt;p&gt;
   Cuzco’s instruction fetch logic feeds from a 64 KB 8-way set associative instruction cache, and speeds up address translations with a 64 entry fully associative TLB. The instruction fetch stages pull an entire 64B cacheline into the ICQ (instruction cache queue), and then pull instructions from that into an instruction queue (XIQ). The decoders feed from the XIQ, and can handle up to eight instructions per cycle.
  &lt;/p&gt;
  &lt;h1&gt;
   Rename and Allocate
  &lt;/h1&gt;
  &lt;p&gt;
   Much of the action in Condor’s presentation relates to the rename and allocate stage, which acts as a bridge between the frontend and out-of-order backend. In most out-of-order cores, the renamer carries out register renaming and allocates resources in the backend. Then, the backend dynamically schedules instructions as their dependencies become available. Cuzco’s renamer goes a step further and predicts instruction schedules as well.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!LtQn!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F26690f6d-e03a-4cb5-9c3e-f37765879dca_1600x898.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!LtQn!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F26690f6d-e03a-4cb5-9c3e-f37765879dca_1600x898.png 424w, https://substackcdn.com/image/fetch/$s_!LtQn!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F26690f6d-e03a-4cb5-9c3e-f37765879dca_1600x898.png 848w, https://substackcdn.com/image/fetch/$s_!LtQn!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F26690f6d-e03a-4cb5-9c3e-f37765879dca_1600x898.png 1272w, https://substackcdn.com/image/fetch/$s_!LtQn!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F26690f6d-e03a-4cb5-9c3e-f37765879dca_1600x898.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/26690f6d-e03a-4cb5-9c3e-f37765879dca_1600x898.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:817,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;817&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!LtQn!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F26690f6d-e03a-4cb5-9c3e-f37765879dca_1600x898.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!LtQn!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F26690f6d-e03a-4cb5-9c3e-f37765879dca_1600x898.png 424w, https://substackcdn.com/image/fetch/$s_!LtQn!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F26690f6d-e03a-4cb5-9c3e-f37765879dca_1600x898.png 848w, https://substackcdn.com/image/fetch/$s_!LtQn!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F26690f6d-e03a-4cb5-9c3e-f37765879dca_1600x898.png 1272w, https://substackcdn.com/image/fetch/$s_!LtQn!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F26690f6d-e03a-4cb5-9c3e-f37765879dca_1600x898.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   One parallel to this is Nvidia’s static scheduling in Kepler and subsequent GPU architectures. Both simplify scheduling by telling an instruction to execute a certain number of cycles in the future, rather than having hardware dynamically check for dependencies. But Nvidia does this in their compiler because GPU ISAs aren’t standardized. Cuzco still uses hardware to create dynamic schedules, but moves that job into the rename/allocate stage rather than the schedulers in the backend. Schedulers can be expensive structures in conventional out-of-order CPUs, because they have to check whether instructions are ready to execute every cycle. On Cuzco, the backend schedulers can simply wait a specified number of cycles, and then issue an instruction knowing the dependencies will be ready by then.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!-1Pi!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F29ef4401-9d22-4005-af0b-205294710e18_1600x904.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!-1Pi!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F29ef4401-9d22-4005-af0b-205294710e18_1600x904.png 424w, https://substackcdn.com/image/fetch/$s_!-1Pi!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F29ef4401-9d22-4005-af0b-205294710e18_1600x904.png 848w, https://substackcdn.com/image/fetch/$s_!-1Pi!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F29ef4401-9d22-4005-af0b-205294710e18_1600x904.png 1272w, https://substackcdn.com/image/fetch/$s_!-1Pi!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F29ef4401-9d22-4005-af0b-205294710e18_1600x904.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/29ef4401-9d22-4005-af0b-205294710e18_1600x904.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:823,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;823&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!-1Pi!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F29ef4401-9d22-4005-af0b-205294710e18_1600x904.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!-1Pi!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F29ef4401-9d22-4005-af0b-205294710e18_1600x904.png 424w, https://substackcdn.com/image/fetch/$s_!-1Pi!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F29ef4401-9d22-4005-af0b-205294710e18_1600x904.png 848w, https://substackcdn.com/image/fetch/$s_!-1Pi!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F29ef4401-9d22-4005-af0b-205294710e18_1600x904.png 1272w, https://substackcdn.com/image/fetch/$s_!-1Pi!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F29ef4401-9d22-4005-af0b-205294710e18_1600x904.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   To carry out time-based scheduling, Cuzco maintains a Time Resource Matrix (TRM), which tracks utilization of various resources like execution ports, functional units, and data buses for a certain number of cycles in the future. The TRM can look 256 cycles into the future, which keeps storage requirements under control. Because searching a 256 row matrix in hardware would be extremely expensive, Cuzco only looks for available resources in a small window after an instruction’s dependencies are predicted to be ready. Condor found searching a window of eight cycles provided a good tradeoff. Because the renamer can handle up to eight instructions, it at most has to access 64 rows in the TRM per cycle. If the renamer can’t find free resources in the search window, the instruction will be stalled at the ID2 stage.
  &lt;/p&gt;
  &lt;p&gt;
   Another potential limitation is the TRM size, which could be a limitation for long latency instructions. However, the longest latency instructions tend to be loads that miss cache. Cuzco always assumes a L1D hit for TRM scheduling, and uses replay to handle L1D misses. That means stalls at ID2 from TRM size limitations should also be rare.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!WZiL!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fde934736-2aec-481d-b1a7-2e721ad25860_1600x898.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!WZiL!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fde934736-2aec-481d-b1a7-2e721ad25860_1600x898.png 424w, https://substackcdn.com/image/fetch/$s_!WZiL!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fde934736-2aec-481d-b1a7-2e721ad25860_1600x898.png 848w, https://substackcdn.com/image/fetch/$s_!WZiL!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fde934736-2aec-481d-b1a7-2e721ad25860_1600x898.png 1272w, https://substackcdn.com/image/fetch/$s_!WZiL!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fde934736-2aec-481d-b1a7-2e721ad25860_1600x898.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/de934736-2aec-481d-b1a7-2e721ad25860_1600x898.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:817,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;817&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!WZiL!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fde934736-2aec-481d-b1a7-2e721ad25860_1600x898.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!WZiL!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fde934736-2aec-481d-b1a7-2e721ad25860_1600x898.png 424w, https://substackcdn.com/image/fetch/$s_!WZiL!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fde934736-2aec-481d-b1a7-2e721ad25860_1600x898.png 848w, https://substackcdn.com/image/fetch/$s_!WZiL!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fde934736-2aec-481d-b1a7-2e721ad25860_1600x898.png 1272w, https://substackcdn.com/image/fetch/$s_!WZiL!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fde934736-2aec-481d-b1a7-2e721ad25860_1600x898.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Compared to a hypothetical “greedy” setup, where the core is able to create a perfect schedule with execution resource limitations in mind, limiting the TRM search window decreases performance by a few percent. Condor notes that creating a core to match the “greedy” figure may not even be possible. A conventional out-of-order core wouldn’t have TRM-related restrictions, but may face difficulties creating an optimal schedule for other reasons. For example, a distributed scheduler may have several micro-ops become ready in one scheduling queue, and face “false” delays even though free execution units may be available on other scheduling queues.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!8gUV!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff26a1969-520c-4798-95e9-799e1905ee7a_1600x884.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!8gUV!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff26a1969-520c-4798-95e9-799e1905ee7a_1600x884.png 424w, https://substackcdn.com/image/fetch/$s_!8gUV!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff26a1969-520c-4798-95e9-799e1905ee7a_1600x884.png 848w, https://substackcdn.com/image/fetch/$s_!8gUV!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff26a1969-520c-4798-95e9-799e1905ee7a_1600x884.png 1272w, https://substackcdn.com/image/fetch/$s_!8gUV!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff26a1969-520c-4798-95e9-799e1905ee7a_1600x884.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/f26a1969-520c-4798-95e9-799e1905ee7a_1600x884.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:804,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;804&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!8gUV!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff26a1969-520c-4798-95e9-799e1905ee7a_1600x884.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!8gUV!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff26a1969-520c-4798-95e9-799e1905ee7a_1600x884.png 424w, https://substackcdn.com/image/fetch/$s_!8gUV!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff26a1969-520c-4798-95e9-799e1905ee7a_1600x884.png 848w, https://substackcdn.com/image/fetch/$s_!8gUV!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff26a1969-520c-4798-95e9-799e1905ee7a_1600x884.png 1272w, https://substackcdn.com/image/fetch/$s_!8gUV!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff26a1969-520c-4798-95e9-799e1905ee7a_1600x884.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Static scheduling only works when instruction latencies are known ahead of time. Some instructions have variable latency, like loads that can miss caches or TLBs, encounter bank conflicts, or require store forwarding. As mentioned before, Cuzco uses instruction replay to handle variable latency instructions and the associated dynamic behavior. The renamer does take some measures to reduce replays, like checking to see if a load gets its address from the same register as a prior store. However, it doesn’t attempt to predict memory dependencies like Intel’s Core 2, and also doesn’t try to predict whether a load will miss cache.
  &lt;/p&gt;
  &lt;h1&gt;
   Out-of-Order Backend
  &lt;/h1&gt;
  &lt;p&gt;
   Out of order execution in Cuzco is relatively simple, because the rename/allocate stage takes care of figuring out when instructions will execute. Each instruction is simply held within the schedulers until a specified number of cycles pass, after which it’s sent for execution. If the rename/allocate stage guesses wrong, replay gets handled via “poison” bits. The erroneously executed instruction’s result data is effectively marked as poisoned, and any instructions consuming that data will get re-executed. Replaying instructions costs power and wastes execution throughput, so replays should ideally be a rare event. 70.07 replays per 1000 instructions feels like a bit of a high figure, but likely isn’t a major problem because execution resources are rarely a limitation in an out-of-order core. Taking about 7% more execution resources may be an acceptable tradeoff, considering most modern chips rarely use their core width in a sustained fashion.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!KFlE!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6b115df6-d801-4dbf-be59-52a3645970de_1600x885.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!KFlE!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6b115df6-d801-4dbf-be59-52a3645970de_1600x885.png 424w, https://substackcdn.com/image/fetch/$s_!KFlE!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6b115df6-d801-4dbf-be59-52a3645970de_1600x885.png 848w, https://substackcdn.com/image/fetch/$s_!KFlE!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6b115df6-d801-4dbf-be59-52a3645970de_1600x885.png 1272w, https://substackcdn.com/image/fetch/$s_!KFlE!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6b115df6-d801-4dbf-be59-52a3645970de_1600x885.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/6b115df6-d801-4dbf-be59-52a3645970de_1600x885.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:805,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;805&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!KFlE!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6b115df6-d801-4dbf-be59-52a3645970de_1600x885.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!KFlE!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6b115df6-d801-4dbf-be59-52a3645970de_1600x885.png 424w, https://substackcdn.com/image/fetch/$s_!KFlE!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6b115df6-d801-4dbf-be59-52a3645970de_1600x885.png 848w, https://substackcdn.com/image/fetch/$s_!KFlE!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6b115df6-d801-4dbf-be59-52a3645970de_1600x885.png 1272w, https://substackcdn.com/image/fetch/$s_!KFlE!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6b115df6-d801-4dbf-be59-52a3645970de_1600x885.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Execution resources are grouped into slices, each of which have a pair of pipelines. A slice can execute all of the core’s supported RISC-V instructions, making it easy to scale execution resources by changing slice count. Each slice consists of a set of execution queues (XEQs), which hold micro-ops waiting for a functional unit. Cuzco has XEQs per functional unit, unlike conventional designs that tend to have a scheduling queue that feeds all functional units attached to an execution port. Four register read ports supply operands to the slice, and two write ports handle result writeback. Bus conflicts are handled by the TRM as well. A slice cannot execute more than two micro-ops per cycle, even doing so would not oversubscribe the register read ports. For example, a slice can’t issue an integer add, a branch, and a load in the same cycle even though that would only require four register inputs.
  &lt;/p&gt;
  &lt;p&gt;
   XEQs are sized to match workload characteristics, much like tuning a distributed scheduler. While XEQ sizes can be set to match customer requirements, Condor was able to give some figures for a baseline configuration. ALUs get 16 entry queues, while branches and address generation units (LS) get 8 entry queues. XEQ sizes are adjustable in powers of two, from 2 to 32 entries. There’s generally a single cycle of latency for forwarding between slices. The core can be configured to do zero cycle cross-slice forwarding, but that would be quite difficult to pull off.
  &lt;/p&gt;
  &lt;p&gt;
   On the vector side, Cuzco supports 256/512-bit VLENs via multiple micro-ops, which are distributed across the execution slices. Execution units are natively 64 bits wide. There’s one FMA unit per slice, so peak FP32 throughput is eight FMA operations per cycle, or 16 FLOPS when counting the add and multiply as separate operations. FP adds execute with 2 cycle latency, while FP multiplies and multiply-adds have four cycle latency. The two cycle FP add latency is nice to see, and matches recent cores like Neoverse N1 and Intel’s Golden Cove, albeit at much lower clocks.
  &lt;/p&gt;
  &lt;h1&gt;
   Load/Store
  &lt;/h1&gt;
  &lt;p&gt;
   Cuzco’s load/store unit has a 64 entry load queue, a 64 entry store queue, and a 64 entry queue for data cache misses. Loads can leave the load queue after accessing the data cache, likely creating behavior similar to AMD’s Zen series where the out-of-order backend can have far more loads pending retirement than the documented load queue capacity would suggest. The core has four load/store pipelines in a four slice configuration, or one pipeline per slice. Maximum load bandwidth is 64B/cycle, achievable with vector loads.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!y8PV!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff84018c0-8784-4e0c-9d51-8e29681da1f3_1165x404.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!y8PV!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff84018c0-8784-4e0c-9d51-8e29681da1f3_1165x404.png 424w, https://substackcdn.com/image/fetch/$s_!y8PV!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff84018c0-8784-4e0c-9d51-8e29681da1f3_1165x404.png 848w, https://substackcdn.com/image/fetch/$s_!y8PV!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff84018c0-8784-4e0c-9d51-8e29681da1f3_1165x404.png 1272w, https://substackcdn.com/image/fetch/$s_!y8PV!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff84018c0-8784-4e0c-9d51-8e29681da1f3_1165x404.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/f84018c0-8784-4e0c-9d51-8e29681da1f3_1165x404.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:404,&quot;width&quot;:1165,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:76406,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/172284931?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff84018c0-8784-4e0c-9d51-8e29681da1f3_1165x404.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;404&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!y8PV!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff84018c0-8784-4e0c-9d51-8e29681da1f3_1165x404.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!y8PV!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff84018c0-8784-4e0c-9d51-8e29681da1f3_1165x404.png 424w, https://substackcdn.com/image/fetch/$s_!y8PV!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff84018c0-8784-4e0c-9d51-8e29681da1f3_1165x404.png 848w, https://substackcdn.com/image/fetch/$s_!y8PV!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff84018c0-8784-4e0c-9d51-8e29681da1f3_1165x404.png 1272w, https://substackcdn.com/image/fetch/$s_!y8PV!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff84018c0-8784-4e0c-9d51-8e29681da1f3_1165x404.png 1456w&quot; width=&quot;1165&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   The L1D is physically indexed and physically addressed (PIPT), so address translation has to complete before L1D access.To speed up address translation, Cuzco has a 64 entry fully associative data TLB. The L2 TLB is 4-way set associative, and can have 1K, 2K, or 4K entries. Cuzco’s core private, unified L2 cache has configurable capacity as well. An example 2 MB L2 occupies 1.04 mm2 on TSMC 5nm.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!LNhg!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7163cc13-d13f-4bb7-a6d0-570501ed0b45_1600x897.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!LNhg!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7163cc13-d13f-4bb7-a6d0-570501ed0b45_1600x897.png 424w, https://substackcdn.com/image/fetch/$s_!LNhg!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7163cc13-d13f-4bb7-a6d0-570501ed0b45_1600x897.png 848w, https://substackcdn.com/image/fetch/$s_!LNhg!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7163cc13-d13f-4bb7-a6d0-570501ed0b45_1600x897.png 1272w, https://substackcdn.com/image/fetch/$s_!LNhg!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7163cc13-d13f-4bb7-a6d0-570501ed0b45_1600x897.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/7163cc13-d13f-4bb7-a6d0-570501ed0b45_1600x897.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:816,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;816&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!LNhg!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7163cc13-d13f-4bb7-a6d0-570501ed0b45_1600x897.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!LNhg!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7163cc13-d13f-4bb7-a6d0-570501ed0b45_1600x897.png 424w, https://substackcdn.com/image/fetch/$s_!LNhg!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7163cc13-d13f-4bb7-a6d0-570501ed0b45_1600x897.png 848w, https://substackcdn.com/image/fetch/$s_!LNhg!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7163cc13-d13f-4bb7-a6d0-570501ed0b45_1600x897.png 1272w, https://substackcdn.com/image/fetch/$s_!LNhg!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7163cc13-d13f-4bb7-a6d0-570501ed0b45_1600x897.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Eight cores per cluster share a L3 cache, which is split into slices to handle bandwidth demands from multiple cores. Each slice can deliver 64B/cycle, and slice count matches core count. Thus Cuzco enjoys 64B/cycle of load bandwidth throughout the cache hierarchy, of course with the caveat that L3 bandwidth may be lower if accesses from different cores clash into the same slice. Cores and L3 slices within a cluster are linked by a crossbar. The L3 cache can run at up to core clock. Requests to the system head out through a 64B/cycle CHI interface. System topology beyond the cluster is up to the implementer.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!8yWm!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fdd9e9a4f-7ecd-44e2-b621-660a1bf93acf_1600x898.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!8yWm!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fdd9e9a4f-7ecd-44e2-b621-660a1bf93acf_1600x898.png 424w, https://substackcdn.com/image/fetch/$s_!8yWm!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fdd9e9a4f-7ecd-44e2-b621-660a1bf93acf_1600x898.png 848w, https://substackcdn.com/image/fetch/$s_!8yWm!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fdd9e9a4f-7ecd-44e2-b621-660a1bf93acf_1600x898.png 1272w, https://substackcdn.com/image/fetch/$s_!8yWm!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fdd9e9a4f-7ecd-44e2-b621-660a1bf93acf_1600x898.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/dd9e9a4f-7ecd-44e2-b621-660a1bf93acf_1600x898.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:817,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;817&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!8yWm!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fdd9e9a4f-7ecd-44e2-b621-660a1bf93acf_1600x898.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!8yWm!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fdd9e9a4f-7ecd-44e2-b621-660a1bf93acf_1600x898.png 424w, https://substackcdn.com/image/fetch/$s_!8yWm!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fdd9e9a4f-7ecd-44e2-b621-660a1bf93acf_1600x898.png 848w, https://substackcdn.com/image/fetch/$s_!8yWm!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fdd9e9a4f-7ecd-44e2-b621-660a1bf93acf_1600x898.png 1272w, https://substackcdn.com/image/fetch/$s_!8yWm!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fdd9e9a4f-7ecd-44e2-b621-660a1bf93acf_1600x898.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Replays for cache misses are carried out by rescheduling the data consumer to a later time when data is predicted to be ready. Thus a L3 hit would cause a consuming instruction to be executed three times - once for the predicted L1D hit, once for the predicted L2 hit, and a final time for the L3 hit with the correct data.
  &lt;/p&gt;
  &lt;h1&gt;
   Final Words
  &lt;/h1&gt;
  &lt;p&gt;
   High performance CPU design has settled down over the past couple decades, and converged on an out-of-order execution model. There’s no denying that out-of-order execution is difficult. Numerous alternatives have been tried through the years but didn’t have staying power. Intel’s Itanium sought to use an ISA-based approach, but failed to unseat the company’s own x86 cores that used out-of-order execution. Nvidia’s Denver tried to dynamically compile ARM instructions into microcode bundles, but that approach was not carried forward. All successful high performance designs today generally use the same out-of-order execution strategy, albeit with plenty of variation. That’s driven by the requirements of ISA compatibility, and the need to deliver high single threaded performance across a broad range of applications. Breaking from the mould is obviously fraught with peril.
  &lt;/p&gt;
  &lt;p&gt;
   Condor seeks to break from the mould, but does so deep in the core in a way that should be invisible to software a functional perspective, and mostly invisible from a performance perspective. The core runs RISC-V instructions and thus benefits from that software ecosystem, unlike Itanium. It doesn’t rely on a compiled microcode cache like Denver, so it doesn’t end up running in a degraded performance beyond what a typical OoO core would see when dealing with poor code locality. Finally, instruction replay effectively creates dynamic schedules and handles cache misses
  &lt;/p&gt;
  &lt;p&gt;
   &lt;span&gt;
    If you like the content then consider heading over to the
   &lt;/span&gt;
   &lt;a href=&quot;https://www.patreon.com/ChipsandCheese&quot; rel=&quot;&quot;&gt;
    Patreon
   &lt;/a&gt;
   &lt;span&gt;
    or
   &lt;/span&gt;
   &lt;a href=&quot;https://www.paypal.com/donate/?hosted_button_id=4EMPH66SBGVSQ&quot; rel=&quot;&quot;&gt;
    PayPal
   &lt;/a&gt;
   &lt;span&gt;
    if you want to toss a few bucks to Chips and Cheese. Also consider joining the
   &lt;/span&gt;
   &lt;a href=&quot;https://discord.gg/TwVnRhxgY2&quot; rel=&quot;&quot;&gt;
    Discord
   &lt;/a&gt;
   &lt;span&gt;
    .
   &lt;/span&gt;
  &lt;/p&gt;
 &lt;/div&gt;
&lt;/div&gt;

</description>
</item>
<item>
<title> Intel&#x27;s Clearwater Forest E-Core Server Chip at Hot Chips 2025 </title>
<link>https://chipsandcheese.com/p/intels-clearwater-forest-e-core-server</link>
<pubDate>Mon, 25 Aug 2025 20:40:12 -0000</pubDate>
<description>
&lt;div&gt;
 &lt;div dir=&quot;auto&quot;&gt;
  &lt;p&gt;
   E-Cores have been a central fixture of Intel&#x27;s client CPU strategy for the past few years. There, they help provide performance density and let Intel compete with AMD on multithreaded applications. But performance density isn&#x27;t just useful in the client scene. The past few years have seen a number of density focused server designs, like Ampere&#x27;s 80 core Altra and 192 core AmpereOne as well as AMD&#x27;s 128 core Bergamo. Intel doesn&#x27;t want to be left out of the density-optimized server segment, and their E-Cores are perfect for breaking into that market.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!tC7i!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb43e8134-4a2f-4833-843b-d0e0469dbcbe_2387x1354.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!tC7i!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb43e8134-4a2f-4833-843b-d0e0469dbcbe_2387x1354.png 424w, https://substackcdn.com/image/fetch/$s_!tC7i!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb43e8134-4a2f-4833-843b-d0e0469dbcbe_2387x1354.png 848w, https://substackcdn.com/image/fetch/$s_!tC7i!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb43e8134-4a2f-4833-843b-d0e0469dbcbe_2387x1354.png 1272w, https://substackcdn.com/image/fetch/$s_!tC7i!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb43e8134-4a2f-4833-843b-d0e0469dbcbe_2387x1354.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/b43e8134-4a2f-4833-843b-d0e0469dbcbe_2387x1354.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:826,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:1547949,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:false,&quot;topImage&quot;:true,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/171912149?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb43e8134-4a2f-4833-843b-d0e0469dbcbe_2387x1354.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; fetchpriority=&quot;high&quot; height=&quot;826&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!tC7i!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb43e8134-4a2f-4833-843b-d0e0469dbcbe_2387x1354.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!tC7i!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb43e8134-4a2f-4833-843b-d0e0469dbcbe_2387x1354.png 424w, https://substackcdn.com/image/fetch/$s_!tC7i!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb43e8134-4a2f-4833-843b-d0e0469dbcbe_2387x1354.png 848w, https://substackcdn.com/image/fetch/$s_!tC7i!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb43e8134-4a2f-4833-843b-d0e0469dbcbe_2387x1354.png 1272w, https://substackcdn.com/image/fetch/$s_!tC7i!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb43e8134-4a2f-4833-843b-d0e0469dbcbe_2387x1354.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
  &lt;/p&gt;
  &lt;p&gt;
   Clearwater Forest uses Skymont E-Cores, giving it a huge jump in per-core performance over the Crestmont E-Cores used in Intel’s prior Sierra Forest design. Skymont is wider and has more reordering capacity than its predecessor. In a client design, its performance is not far off that of Intel’s P-Cores, so it provides substantial single-threaded performance. Skymont cores are packed into quad core clusters with a 4 MB L2.
  &lt;/p&gt;
  &lt;h1&gt;
   Packaging and Physical Aspects
  &lt;/h1&gt;
  &lt;p&gt;
   Skymont clusters are then packed onto compute dies fabricated on Intel’s 18A node, because CPU cores have the most to gain from an improved process node. A compute die appears to contain six Skymont clusters, or 24 cores.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!M3BJ!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6973bd85-b696-454f-81cd-ccd5d6b871a5_2391x1338.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!M3BJ!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6973bd85-b696-454f-81cd-ccd5d6b871a5_2391x1338.png 424w, https://substackcdn.com/image/fetch/$s_!M3BJ!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6973bd85-b696-454f-81cd-ccd5d6b871a5_2391x1338.png 848w, https://substackcdn.com/image/fetch/$s_!M3BJ!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6973bd85-b696-454f-81cd-ccd5d6b871a5_2391x1338.png 1272w, https://substackcdn.com/image/fetch/$s_!M3BJ!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6973bd85-b696-454f-81cd-ccd5d6b871a5_2391x1338.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/6973bd85-b696-454f-81cd-ccd5d6b871a5_2391x1338.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:815,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:1527097,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:false,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/171912149?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6973bd85-b696-454f-81cd-ccd5d6b871a5_2391x1338.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;815&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!M3BJ!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6973bd85-b696-454f-81cd-ccd5d6b871a5_2391x1338.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!M3BJ!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6973bd85-b696-454f-81cd-ccd5d6b871a5_2391x1338.png 424w, https://substackcdn.com/image/fetch/$s_!M3BJ!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6973bd85-b696-454f-81cd-ccd5d6b871a5_2391x1338.png 848w, https://substackcdn.com/image/fetch/$s_!M3BJ!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6973bd85-b696-454f-81cd-ccd5d6b871a5_2391x1338.png 1272w, https://substackcdn.com/image/fetch/$s_!M3BJ!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6973bd85-b696-454f-81cd-ccd5d6b871a5_2391x1338.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Intel’s 18A node features a number of improvements related to density and power delivery. These should help Skymont perform better while using less area and power. While not mentioned in Intel’s presentation, it’s notable that Intel will be implementing Skymont on both their 18A node in Clearwater Forest, as well as TSMC’s 3nm node in Arrow Lake. It’s a showcase of the company’s ability to be process node agnostic, drawing a contrast with how older Intel cores went hand-in-hand with Intel nodes.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!3nNH!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F261aae30-a497-445c-b40e-d1757a70908e_2387x1334.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!3nNH!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F261aae30-a497-445c-b40e-d1757a70908e_2387x1334.png 424w, https://substackcdn.com/image/fetch/$s_!3nNH!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F261aae30-a497-445c-b40e-d1757a70908e_2387x1334.png 848w, https://substackcdn.com/image/fetch/$s_!3nNH!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F261aae30-a497-445c-b40e-d1757a70908e_2387x1334.png 1272w, https://substackcdn.com/image/fetch/$s_!3nNH!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F261aae30-a497-445c-b40e-d1757a70908e_2387x1334.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/261aae30-a497-445c-b40e-d1757a70908e_2387x1334.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:814,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:811496,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:false,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/171912149?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F261aae30-a497-445c-b40e-d1757a70908e_2387x1334.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;814&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!3nNH!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F261aae30-a497-445c-b40e-d1757a70908e_2387x1334.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!3nNH!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F261aae30-a497-445c-b40e-d1757a70908e_2387x1334.png 424w, https://substackcdn.com/image/fetch/$s_!3nNH!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F261aae30-a497-445c-b40e-d1757a70908e_2387x1334.png 848w, https://substackcdn.com/image/fetch/$s_!3nNH!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F261aae30-a497-445c-b40e-d1757a70908e_2387x1334.png 1272w, https://substackcdn.com/image/fetch/$s_!3nNH!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F261aae30-a497-445c-b40e-d1757a70908e_2387x1334.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Compute dies are placed on top of Intel 3 base dies using 3D stacking. Base dies host the chip’s mesh interconnect and L3 slices. Placing the L3 on separate base tiles gives Intel the die area necessary to implement 8 MB L3 slices, which gives a chip 576 MB of last level cache. Clearwater Forest has three base dies, which connect to each other over embedded silicon bridges with 45 micron pitch. For comparison, the compute dies connect to the base dies using a denser 9 micron pitch, if I heard the presenter correctly.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!2iOn!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F66fda4f3-5ca2-49ba-bec5-05cc7bcb8630_1663x930.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!2iOn!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F66fda4f3-5ca2-49ba-bec5-05cc7bcb8630_1663x930.png 424w, https://substackcdn.com/image/fetch/$s_!2iOn!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F66fda4f3-5ca2-49ba-bec5-05cc7bcb8630_1663x930.png 848w, https://substackcdn.com/image/fetch/$s_!2iOn!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F66fda4f3-5ca2-49ba-bec5-05cc7bcb8630_1663x930.png 1272w, https://substackcdn.com/image/fetch/$s_!2iOn!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F66fda4f3-5ca2-49ba-bec5-05cc7bcb8630_1663x930.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/66fda4f3-5ca2-49ba-bec5-05cc7bcb8630_1663x930.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:814,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:686050,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/171912149?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F66fda4f3-5ca2-49ba-bec5-05cc7bcb8630_1663x930.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;814&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!2iOn!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F66fda4f3-5ca2-49ba-bec5-05cc7bcb8630_1663x930.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!2iOn!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F66fda4f3-5ca2-49ba-bec5-05cc7bcb8630_1663x930.png 424w, https://substackcdn.com/image/fetch/$s_!2iOn!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F66fda4f3-5ca2-49ba-bec5-05cc7bcb8630_1663x930.png 848w, https://substackcdn.com/image/fetch/$s_!2iOn!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F66fda4f3-5ca2-49ba-bec5-05cc7bcb8630_1663x930.png 1272w, https://substackcdn.com/image/fetch/$s_!2iOn!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F66fda4f3-5ca2-49ba-bec5-05cc7bcb8630_1663x930.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Intel’s mesh can be thought of as a ring in two directions (vertical and horizontal). Clearwater Forest runs the vertical direction across base die boundaries, going all the way from the top to the bottom of the chip. The base dies host memory controllers on the edges as well, and cache slices are associated with the closest memory controller in the horizontal direction. I take this to mean the physical address space owned by each cache slice corresponds to the range covered by the closest memory controller. That should reduce memory latency, and would make it easy to carve the chip into NUMA nodes.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!mzbA!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe107af22-06db-40b3-ad38-e11f403904a2_1656x926.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!mzbA!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe107af22-06db-40b3-ad38-e11f403904a2_1656x926.png 424w, https://substackcdn.com/image/fetch/$s_!mzbA!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe107af22-06db-40b3-ad38-e11f403904a2_1656x926.png 848w, https://substackcdn.com/image/fetch/$s_!mzbA!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe107af22-06db-40b3-ad38-e11f403904a2_1656x926.png 1272w, https://substackcdn.com/image/fetch/$s_!mzbA!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe107af22-06db-40b3-ad38-e11f403904a2_1656x926.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/e107af22-06db-40b3-ad38-e11f403904a2_1656x926.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:814,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:676594,&quot;alt&quot;:&quot;&quot;,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/171912149?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe107af22-06db-40b3-ad38-e11f403904a2_1656x926.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;814&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!mzbA!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe107af22-06db-40b3-ad38-e11f403904a2_1656x926.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!mzbA!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe107af22-06db-40b3-ad38-e11f403904a2_1656x926.png 424w, https://substackcdn.com/image/fetch/$s_!mzbA!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe107af22-06db-40b3-ad38-e11f403904a2_1656x926.png 848w, https://substackcdn.com/image/fetch/$s_!mzbA!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe107af22-06db-40b3-ad38-e11f403904a2_1656x926.png 1272w, https://substackcdn.com/image/fetch/$s_!mzbA!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe107af22-06db-40b3-ad38-e11f403904a2_1656x926.png 1456w&quot; title=&quot;&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Each base die hosts four compute dies, or 96 Skymont cores. Across the three base dies, Clearwater Forest will have a total of 288 cores - twice as much as the 144 cores on Sierra Forest.
  &lt;/p&gt;
  &lt;p&gt;
   IO dies sit at the top and bottom of the chip, and use the Intel 7 process because IO interfaces don’t scale well with improved process nodes. Intel reused the IO dies from Sierra Forest. There are definitely parallels to AMD reusing IO dies across generations, which streamlines logistics and saves on development cost.
  &lt;/p&gt;
  &lt;h1&gt;
   Interconnect and Memory Subsystem
  &lt;/h1&gt;
  &lt;p&gt;
   &lt;span&gt;
    Skymont basically has two interconnect levels in its memory hierarchy: one within the cluster, and one linking the system as a whole. Within the cluster, each Skymont core has the same L2 bandwidth as Crestmont, but aggregate L2 bandwidth has increased. From
   &lt;/span&gt;
   &lt;a href=&quot;https://old.chipsandcheese.com/2024/10/03/skymont-intels-e-cores-reach-for-the-sky/&quot; rel=&quot;&quot;&gt;
    prior measurements
   &lt;/a&gt;
   &lt;span&gt;
    , this is 64B/cycle of L2 bandwidth per core, and 256B/cycle of total L2 bandwidth. The prior Crestmont generation had 128B/cycle of L2 bandwidth within a cluster.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!fo1C!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F92f18331-7ba2-4a4e-acb1-d4f982fd153b_2394x1336.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!fo1C!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F92f18331-7ba2-4a4e-acb1-d4f982fd153b_2394x1336.png 424w, https://substackcdn.com/image/fetch/$s_!fo1C!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F92f18331-7ba2-4a4e-acb1-d4f982fd153b_2394x1336.png 848w, https://substackcdn.com/image/fetch/$s_!fo1C!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F92f18331-7ba2-4a4e-acb1-d4f982fd153b_2394x1336.png 1272w, https://substackcdn.com/image/fetch/$s_!fo1C!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F92f18331-7ba2-4a4e-acb1-d4f982fd153b_2394x1336.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/92f18331-7ba2-4a4e-acb1-d4f982fd153b_2394x1336.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:813,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:1550271,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/171912149?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F92f18331-7ba2-4a4e-acb1-d4f982fd153b_2394x1336.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;813&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!fo1C!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F92f18331-7ba2-4a4e-acb1-d4f982fd153b_2394x1336.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!fo1C!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F92f18331-7ba2-4a4e-acb1-d4f982fd153b_2394x1336.png 424w, https://substackcdn.com/image/fetch/$s_!fo1C!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F92f18331-7ba2-4a4e-acb1-d4f982fd153b_2394x1336.png 848w, https://substackcdn.com/image/fetch/$s_!fo1C!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F92f18331-7ba2-4a4e-acb1-d4f982fd153b_2394x1336.png 1272w, https://substackcdn.com/image/fetch/$s_!fo1C!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F92f18331-7ba2-4a4e-acb1-d4f982fd153b_2394x1336.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   &lt;span&gt;
    A Skymont cluster can sustain 128 L2 misses out to the system level interconnect. Getting more misses in flight is crucial for hiding memory subsystem latency and achieving high bandwidth. Intel notes that a Skymont cluster in Clearwater Forest has 35 GB/s of fabric bandwidth. I suspect this is a latency-limited measured figure, rather than something representing the width of the interface to the mesh. On Intel’s Arrow Lake desktop platform, a 4c Skymont cluster
   &lt;/span&gt;
   &lt;a href=&quot;https://chipsandcheese.com/p/skymont-in-desktop-form-atom-unleashed&quot; rel=&quot;&quot;&gt;
    can achieve nearly 60 GB/s of read bandwidth to L3
   &lt;/a&gt;
   &lt;span&gt;
    . That hints at high L3 latency, and perhaps a low mesh clock. In both cases, Skymont’s large 4 MB L2 plays a vital role in keeping traffic demands off the slower L3. In a server setting, achieving a high L2 hitrate will likely be even more critical.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!2AFs!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbddcce84-2885-4979-b063-d6d9926503cc_2382x1335.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!2AFs!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbddcce84-2885-4979-b063-d6d9926503cc_2382x1335.png 424w, https://substackcdn.com/image/fetch/$s_!2AFs!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbddcce84-2885-4979-b063-d6d9926503cc_2382x1335.png 848w, https://substackcdn.com/image/fetch/$s_!2AFs!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbddcce84-2885-4979-b063-d6d9926503cc_2382x1335.png 1272w, https://substackcdn.com/image/fetch/$s_!2AFs!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbddcce84-2885-4979-b063-d6d9926503cc_2382x1335.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/bddcce84-2885-4979-b063-d6d9926503cc_2382x1335.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:816,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:1280943,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/171912149?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbddcce84-2885-4979-b063-d6d9926503cc_2382x1335.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;816&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!2AFs!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbddcce84-2885-4979-b063-d6d9926503cc_2382x1335.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!2AFs!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbddcce84-2885-4979-b063-d6d9926503cc_2382x1335.png 424w, https://substackcdn.com/image/fetch/$s_!2AFs!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbddcce84-2885-4979-b063-d6d9926503cc_2382x1335.png 848w, https://substackcdn.com/image/fetch/$s_!2AFs!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbddcce84-2885-4979-b063-d6d9926503cc_2382x1335.png 1272w, https://substackcdn.com/image/fetch/$s_!2AFs!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbddcce84-2885-4979-b063-d6d9926503cc_2382x1335.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
  &lt;/p&gt;
  &lt;p&gt;
   Even though L3 latency is likely high and bandwidth is mediocre, Clearwater Forest’s huge 576 MB L3 capacity might provide a notable hitrate advantage. AMD’s VCache parts only have 96 MB of L3 cache, and cores in one cluster can’t allocate into another cluster’s L3. Intel sees ~1.3 TB/s of DRAM read bandwidth using DDR5-8000, which is very fast DDR5 for a server setup.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!oy_L!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1b8eb341-dfa6-4af1-921d-b9287a813735_1270x876.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!oy_L!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1b8eb341-dfa6-4af1-921d-b9287a813735_1270x876.png 424w, https://substackcdn.com/image/fetch/$s_!oy_L!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1b8eb341-dfa6-4af1-921d-b9287a813735_1270x876.png 848w, https://substackcdn.com/image/fetch/$s_!oy_L!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1b8eb341-dfa6-4af1-921d-b9287a813735_1270x876.png 1272w, https://substackcdn.com/image/fetch/$s_!oy_L!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1b8eb341-dfa6-4af1-921d-b9287a813735_1270x876.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/1b8eb341-dfa6-4af1-921d-b9287a813735_1270x876.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:876,&quot;width&quot;:1270,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:66519,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/171912149?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1b8eb341-dfa6-4af1-921d-b9287a813735_1270x876.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;876&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!oy_L!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1b8eb341-dfa6-4af1-921d-b9287a813735_1270x876.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!oy_L!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1b8eb341-dfa6-4af1-921d-b9287a813735_1270x876.png 424w, https://substackcdn.com/image/fetch/$s_!oy_L!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1b8eb341-dfa6-4af1-921d-b9287a813735_1270x876.png 848w, https://substackcdn.com/image/fetch/$s_!oy_L!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1b8eb341-dfa6-4af1-921d-b9287a813735_1270x876.png 1272w, https://substackcdn.com/image/fetch/$s_!oy_L!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1b8eb341-dfa6-4af1-921d-b9287a813735_1270x876.png 1456w&quot; width=&quot;1270&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
    &lt;figcaption&gt;
     Older data on cross-socket NUMA bandwidth
    &lt;/figcaption&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   In a dual socket setup, UPI links provide 576 GB/s of cross-socket bandwidth. That’s quite high compared to read bandwidth that I’ve measured in other dual socket setups. It’d certainly be interesting to test a Clearwater Forest system to see how easy it would be to achieve that bandwidth.
  &lt;/p&gt;
  &lt;p&gt;
   Intel also has a massive amount of IO in Clearwater Forest, with 96 PCIe Gen 5 lanes per chip. 64 of those lanes support CXL. Aggregate IO bandwidth reaches 1 TB/s.
  &lt;/p&gt;
  &lt;h1&gt;
   Final Words
  &lt;/h1&gt;
  &lt;p&gt;
   Skymont is a powerful little core. If it performs anywhere near where it is on desktop, it should make Intel very competitive with AMD as well as the newest Arm server chips. Of course, core performance depends heavily on memory subsystem performance. L3 and DRAM latency are still unknowns, but I suspect Clearwater Forest will do best when L2 hitrate is very high.
  &lt;/p&gt;
  &lt;p&gt;
   For their part, Intel notes that 20 Clearwater Forest server racks can provide the same performance as 70 racks, presumably using Intel’s older server chips using P-Cores. Intel used SPEC CPU2017’s integer rate benchmark there, which runs many copies of the same test and thus scales well with core count.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!EXty!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fda5835d1-6806-4542-add3-7ad0e44e8069_2387x1341.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!EXty!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fda5835d1-6806-4542-add3-7ad0e44e8069_2387x1341.png 424w, https://substackcdn.com/image/fetch/$s_!EXty!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fda5835d1-6806-4542-add3-7ad0e44e8069_2387x1341.png 848w, https://substackcdn.com/image/fetch/$s_!EXty!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fda5835d1-6806-4542-add3-7ad0e44e8069_2387x1341.png 1272w, https://substackcdn.com/image/fetch/$s_!EXty!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fda5835d1-6806-4542-add3-7ad0e44e8069_2387x1341.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/da5835d1-6806-4542-add3-7ad0e44e8069_2387x1341.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:818,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:386228,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/171912149?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fda5835d1-6806-4542-add3-7ad0e44e8069_2387x1341.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;818&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!EXty!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fda5835d1-6806-4542-add3-7ad0e44e8069_2387x1341.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!EXty!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fda5835d1-6806-4542-add3-7ad0e44e8069_2387x1341.png 424w, https://substackcdn.com/image/fetch/$s_!EXty!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fda5835d1-6806-4542-add3-7ad0e44e8069_2387x1341.png 848w, https://substackcdn.com/image/fetch/$s_!EXty!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fda5835d1-6806-4542-add3-7ad0e44e8069_2387x1341.png 1272w, https://substackcdn.com/image/fetch/$s_!EXty!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fda5835d1-6806-4542-add3-7ad0e44e8069_2387x1341.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Evaluating Clearwater Forest is impossible before actual products make their way into deployments and get tested. But initial signs point indicate Intel’s P-Core team has a lot to be proud of. Over the past ten years, they’ve gone from sitting on a different performance planet compared to P-Cores, to getting very close to P-Core performance. With products like Clearwater Forest and Arrow Lake, E-Cores (previously Atom) are now established in the very demanding server and client desktop segments. It’ll be interesting to see both how Clearwater Forest does, as well as where Intel’s E-Cores go in the future.
  &lt;/p&gt;
  &lt;p&gt;
   &lt;span&gt;
    If you like the content then consider heading over to the
   &lt;/span&gt;
   &lt;a href=&quot;https://www.patreon.com/ChipsandCheese&quot; rel=&quot;&quot;&gt;
    Patreon
   &lt;/a&gt;
   &lt;span&gt;
    or
   &lt;/span&gt;
   &lt;a href=&quot;https://www.paypal.com/donate/?hosted_button_id=4EMPH66SBGVSQ&quot; rel=&quot;&quot;&gt;
    PayPal
   &lt;/a&gt;
   &lt;span&gt;
    if you want to toss a few bucks to Chips and Cheese. Also consider joining the
   &lt;/span&gt;
   &lt;a href=&quot;https://discord.gg/TwVnRhxgY2&quot; rel=&quot;&quot;&gt;
    Discord
   &lt;/a&gt;
   &lt;span&gt;
    .
   &lt;/span&gt;
  &lt;/p&gt;
 &lt;/div&gt;
&lt;/div&gt;

</description>
</item>
<item>
<title> Google&#x27;s Liquid Cooling at Hot Chips 2025 </title>
<link>https://chipsandcheese.com/p/googles-liquid-cooling-at-hot-chips</link>
<pubDate>Sun, 24 Aug 2025 18:47:51 -0000</pubDate>
<description>
&lt;div&gt;
 &lt;div dir=&quot;auto&quot;&gt;
  &lt;p&gt;
   Liquid cooling is a familiar concept to PC enthusiasts, and has a long history in enterprise compute as well. Recently, liquid cooling has taken an increasing role in datacenters, amid increasing power draw and correspondingly high heat output from the latest chips. Machine learning in particular has an insatiable appetite for power and cooling. Google notes that water has a thermal conductivity about 4000 times that of air, making it an attractive solution to deal with the cooling demands associated with the current AI boom. Their talk at Hot Chips 2025 focuses on datacenter-level cooling for their TPUs, which are machine learning accelerators.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!nH5V!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F175b8f8a-00fb-48e0-a742-dd90e1a5937a_1574x840.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!nH5V!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F175b8f8a-00fb-48e0-a742-dd90e1a5937a_1574x840.png 424w, https://substackcdn.com/image/fetch/$s_!nH5V!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F175b8f8a-00fb-48e0-a742-dd90e1a5937a_1574x840.png 848w, https://substackcdn.com/image/fetch/$s_!nH5V!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F175b8f8a-00fb-48e0-a742-dd90e1a5937a_1574x840.png 1272w, https://substackcdn.com/image/fetch/$s_!nH5V!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F175b8f8a-00fb-48e0-a742-dd90e1a5937a_1574x840.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/175b8f8a-00fb-48e0-a742-dd90e1a5937a_1574x840.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:777,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:1567453,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:false,&quot;topImage&quot;:true,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/171824794?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F175b8f8a-00fb-48e0-a742-dd90e1a5937a_1574x840.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; fetchpriority=&quot;high&quot; height=&quot;777&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!nH5V!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F175b8f8a-00fb-48e0-a742-dd90e1a5937a_1574x840.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!nH5V!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F175b8f8a-00fb-48e0-a742-dd90e1a5937a_1574x840.png 424w, https://substackcdn.com/image/fetch/$s_!nH5V!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F175b8f8a-00fb-48e0-a742-dd90e1a5937a_1574x840.png 848w, https://substackcdn.com/image/fetch/$s_!nH5V!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F175b8f8a-00fb-48e0-a742-dd90e1a5937a_1574x840.png 1272w, https://substackcdn.com/image/fetch/$s_!nH5V!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F175b8f8a-00fb-48e0-a742-dd90e1a5937a_1574x840.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Google’s foray into liquid cooled TPUs took form in 2018 after some experimentation and iteration. The company has continued to develop and advance their cooling designs since. Their current liquid cooling solution is designed for datacenter scale, with liquid cooling loops spanning racks rather than being contained within servers. Racks of six CDUs, or Coolant Distribution Units, perform a role analogous to the radiator+pump combo in an enthusiast water cooling loop. The CDUs use flexible hoses and quick disconnect couplings to ease maintenance and reduce tolerance requirements. A CDU rack can provide adequate cooling capacity with five CDUs active, allowing maintenance on one unit without downtime.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!La3-!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe40da4f9-3950-472f-95f5-fa2f2f85fa39_1543x877.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!La3-!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe40da4f9-3950-472f-95f5-fa2f2f85fa39_1543x877.png 424w, https://substackcdn.com/image/fetch/$s_!La3-!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe40da4f9-3950-472f-95f5-fa2f2f85fa39_1543x877.png 848w, https://substackcdn.com/image/fetch/$s_!La3-!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe40da4f9-3950-472f-95f5-fa2f2f85fa39_1543x877.png 1272w, https://substackcdn.com/image/fetch/$s_!La3-!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe40da4f9-3950-472f-95f5-fa2f2f85fa39_1543x877.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/e40da4f9-3950-472f-95f5-fa2f2f85fa39_1543x877.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:828,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:1064929,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:false,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/171824794?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe40da4f9-3950-472f-95f5-fa2f2f85fa39_1543x877.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;828&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!La3-!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe40da4f9-3950-472f-95f5-fa2f2f85fa39_1543x877.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!La3-!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe40da4f9-3950-472f-95f5-fa2f2f85fa39_1543x877.png 424w, https://substackcdn.com/image/fetch/$s_!La3-!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe40da4f9-3950-472f-95f5-fa2f2f85fa39_1543x877.png 848w, https://substackcdn.com/image/fetch/$s_!La3-!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe40da4f9-3950-472f-95f5-fa2f2f85fa39_1543x877.png 1272w, https://substackcdn.com/image/fetch/$s_!La3-!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe40da4f9-3950-472f-95f5-fa2f2f85fa39_1543x877.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   CDUs exchange heat between coolant liquid and the facility-level water supply. The two liquid supplies don’t mix, and the CDUs only move heat between the two pools of liquid. Coolant liquid from the CDUs pass through manifolds that distribute the coolant to TPU servers. TPU chips are hooked up in series in the loop, which naturally means some chips will get hotter liquid that has already passed other chips in the loop. Cooling capacity is budgeted based on the requirements of the last chip in each loop.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!8IBv!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fba46519c-57fc-4ada-9add-ddfce1d13675_2276x1325.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!8IBv!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fba46519c-57fc-4ada-9add-ddfce1d13675_2276x1325.png 424w, https://substackcdn.com/image/fetch/$s_!8IBv!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fba46519c-57fc-4ada-9add-ddfce1d13675_2276x1325.png 848w, https://substackcdn.com/image/fetch/$s_!8IBv!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fba46519c-57fc-4ada-9add-ddfce1d13675_2276x1325.png 1272w, https://substackcdn.com/image/fetch/$s_!8IBv!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fba46519c-57fc-4ada-9add-ddfce1d13675_2276x1325.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/ba46519c-57fc-4ada-9add-ddfce1d13675_2276x1325.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:848,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:1400209,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:false,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/171824794?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fba46519c-57fc-4ada-9add-ddfce1d13675_2276x1325.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;848&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!8IBv!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fba46519c-57fc-4ada-9add-ddfce1d13675_2276x1325.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!8IBv!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fba46519c-57fc-4ada-9add-ddfce1d13675_2276x1325.png 424w, https://substackcdn.com/image/fetch/$s_!8IBv!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fba46519c-57fc-4ada-9add-ddfce1d13675_2276x1325.png 848w, https://substackcdn.com/image/fetch/$s_!8IBv!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fba46519c-57fc-4ada-9add-ddfce1d13675_2276x1325.png 1272w, https://substackcdn.com/image/fetch/$s_!8IBv!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fba46519c-57fc-4ada-9add-ddfce1d13675_2276x1325.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Google uses a split-flow cold plate, which they found to perform better than a traditional straight-through configuration. To further optimize cooling, Google employs another techniques with parallels in the enthusiast world. TPUv4 switches to a bare-die setup compared to TPUv3’s lidded one. That mirrors delidding in the enthusiast world, where PC builders with especially strong stomachs remove heatspreaders (lids) to gain the higher heat transfer efficiency that bare die cooling can provide. For Google’s part, TPUv4 needs such an approach because it has 1.6x higher power draw compared to TPUv3.
  &lt;/p&gt;
  &lt;p&gt;
   Beyond moving heat off chips, liquid cooling helps reduce cooling-related power requirements. Google found the power consumption of liquid cooling pumps was less than 5% of fan power associated with an air cooling solution. Because Google uses water-to-water heat transfer to get heat off the coolant, the bulk of cooling power comes from pumps. Enthusiast setups don’t realize this potential advantage because they use liquid to move heat from chips to a more optimal location for air cooling. Usually, that’s a radiator with a fan mounted at a case intake. In theory, a PC builder could try exchanging heat to a toilet tank, allowing for highly efficient cooling with each flush. But fan and pump power in a water cooled PC is quite low in absolute terms, especially compared to the high RPM fans typically found in a server. Thus there’s little reason for an enthusiast to tackle cooling-related power.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!-5OK!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0f95e9b7-e5f8-4547-90ba-bb142202262f_2180x1306.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!-5OK!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0f95e9b7-e5f8-4547-90ba-bb142202262f_2180x1306.png 424w, https://substackcdn.com/image/fetch/$s_!-5OK!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0f95e9b7-e5f8-4547-90ba-bb142202262f_2180x1306.png 848w, https://substackcdn.com/image/fetch/$s_!-5OK!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0f95e9b7-e5f8-4547-90ba-bb142202262f_2180x1306.png 1272w, https://substackcdn.com/image/fetch/$s_!-5OK!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0f95e9b7-e5f8-4547-90ba-bb142202262f_2180x1306.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/0f95e9b7-e5f8-4547-90ba-bb142202262f_2180x1306.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:872,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:1216356,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:false,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/171824794?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0f95e9b7-e5f8-4547-90ba-bb142202262f_2180x1306.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;872&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!-5OK!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0f95e9b7-e5f8-4547-90ba-bb142202262f_2180x1306.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!-5OK!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0f95e9b7-e5f8-4547-90ba-bb142202262f_2180x1306.png 424w, https://substackcdn.com/image/fetch/$s_!-5OK!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0f95e9b7-e5f8-4547-90ba-bb142202262f_2180x1306.png 848w, https://substackcdn.com/image/fetch/$s_!-5OK!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0f95e9b7-e5f8-4547-90ba-bb142202262f_2180x1306.png 1272w, https://substackcdn.com/image/fetch/$s_!-5OK!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0f95e9b7-e5f8-4547-90ba-bb142202262f_2180x1306.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Finally, maintenance is a concern. PC enthusiasts are familiar with water cooling challenges like microbial growth and leak risk. The same concerns apply to datacenter-scale water cooling solutions. Both worlds share some mitigating measures, like quick disconnect fittings. But datacenters have to address those challenges without taking down a substantial portion of compute capacity. PC builders with an open loop have to power down their machine before draining the loop and replacing components. Google’s extra CDU, mentioned earlier, allows maintenance with zero downtime. But Google takes measures beyond that, because a small problem with one machine can translate to a maintenance nightmare at scale.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!zY4p!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Faab3b4a5-1dc9-4eea-b316-c43952bd7879_2311x1150.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!zY4p!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Faab3b4a5-1dc9-4eea-b316-c43952bd7879_2311x1150.png 424w, https://substackcdn.com/image/fetch/$s_!zY4p!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Faab3b4a5-1dc9-4eea-b316-c43952bd7879_2311x1150.png 848w, https://substackcdn.com/image/fetch/$s_!zY4p!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Faab3b4a5-1dc9-4eea-b316-c43952bd7879_2311x1150.png 1272w, https://substackcdn.com/image/fetch/$s_!zY4p!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Faab3b4a5-1dc9-4eea-b316-c43952bd7879_2311x1150.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/aab3b4a5-1dc9-4eea-b316-c43952bd7879_2311x1150.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:725,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:572413,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/171824794?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Faab3b4a5-1dc9-4eea-b316-c43952bd7879_2311x1150.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;725&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!zY4p!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Faab3b4a5-1dc9-4eea-b316-c43952bd7879_2311x1150.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!zY4p!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Faab3b4a5-1dc9-4eea-b316-c43952bd7879_2311x1150.png 424w, https://substackcdn.com/image/fetch/$s_!zY4p!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Faab3b4a5-1dc9-4eea-b316-c43952bd7879_2311x1150.png 848w, https://substackcdn.com/image/fetch/$s_!zY4p!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Faab3b4a5-1dc9-4eea-b316-c43952bd7879_2311x1150.png 1272w, https://substackcdn.com/image/fetch/$s_!zY4p!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Faab3b4a5-1dc9-4eea-b316-c43952bd7879_2311x1150.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Google extensively validates components with leak testing, uses alerting systems to discover problems like leaks, and takes preventative measures like scheduled maintenance and filtration. They also have a clear set of protocols to respond to alerts and issues, allowing a large workforce to respond to problems in a consistent fashion. It’s a far cry from the ad-hoc measures enthusiasts take to maintain their water cooling setups.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!8aMm!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fdbe62fbd-2950-4584-b597-ccfbabd48bf6_2000x1331.jpeg&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!8aMm!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fdbe62fbd-2950-4584-b597-ccfbabd48bf6_2000x1331.jpeg 424w, https://substackcdn.com/image/fetch/$s_!8aMm!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fdbe62fbd-2950-4584-b597-ccfbabd48bf6_2000x1331.jpeg 848w, https://substackcdn.com/image/fetch/$s_!8aMm!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fdbe62fbd-2950-4584-b597-ccfbabd48bf6_2000x1331.jpeg 1272w, https://substackcdn.com/image/fetch/$s_!8aMm!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fdbe62fbd-2950-4584-b597-ccfbabd48bf6_2000x1331.jpeg 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/dbe62fbd-2950-4584-b597-ccfbabd48bf6_2000x1331.jpeg&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:969,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:284103,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/jpeg&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/171824794?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fdbe62fbd-2950-4584-b597-ccfbabd48bf6_2000x1331.jpeg&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;969&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!8aMm!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fdbe62fbd-2950-4584-b597-ccfbabd48bf6_2000x1331.jpeg&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!8aMm!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fdbe62fbd-2950-4584-b597-ccfbabd48bf6_2000x1331.jpeg 424w, https://substackcdn.com/image/fetch/$s_!8aMm!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fdbe62fbd-2950-4584-b597-ccfbabd48bf6_2000x1331.jpeg 848w, https://substackcdn.com/image/fetch/$s_!8aMm!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fdbe62fbd-2950-4584-b597-ccfbabd48bf6_2000x1331.jpeg 1272w, https://substackcdn.com/image/fetch/$s_!8aMm!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fdbe62fbd-2950-4584-b597-ccfbabd48bf6_2000x1331.jpeg 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   All in all, the recent rise in datacenter liquid cooling represents a fascinating crossover with high end enthusiast PCs. Both worlds are driven to liquid cooling by its incredibly efficiency when moving heat. Both must contend with similar problems. But datacenter approahces diverge from there, and driven by scale and reliability requirements. Plenty of water cooling hardware is already visible on the first day of Hot Chips 2025. Nvidia has a GB300 server on display, with external water cooling connections clearly visible. It also uses flexible tubing, and curiously deploys fans as well.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!idPo!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbedbd2ae-652a-4b80-85ce-699280614d41_2000x1331.jpeg&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!idPo!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbedbd2ae-652a-4b80-85ce-699280614d41_2000x1331.jpeg 424w, https://substackcdn.com/image/fetch/$s_!idPo!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbedbd2ae-652a-4b80-85ce-699280614d41_2000x1331.jpeg 848w, https://substackcdn.com/image/fetch/$s_!idPo!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbedbd2ae-652a-4b80-85ce-699280614d41_2000x1331.jpeg 1272w, https://substackcdn.com/image/fetch/$s_!idPo!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbedbd2ae-652a-4b80-85ce-699280614d41_2000x1331.jpeg 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/bedbd2ae-652a-4b80-85ce-699280614d41_2000x1331.jpeg&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:969,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:238392,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/jpeg&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/171824794?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbedbd2ae-652a-4b80-85ce-699280614d41_2000x1331.jpeg&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;969&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!idPo!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbedbd2ae-652a-4b80-85ce-699280614d41_2000x1331.jpeg&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!idPo!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbedbd2ae-652a-4b80-85ce-699280614d41_2000x1331.jpeg 424w, https://substackcdn.com/image/fetch/$s_!idPo!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbedbd2ae-652a-4b80-85ce-699280614d41_2000x1331.jpeg 848w, https://substackcdn.com/image/fetch/$s_!idPo!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbedbd2ae-652a-4b80-85ce-699280614d41_2000x1331.jpeg 1272w, https://substackcdn.com/image/fetch/$s_!idPo!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbedbd2ae-652a-4b80-85ce-699280614d41_2000x1331.jpeg 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
    &lt;figcaption&gt;
     Seen at the Rebellions AI stand, showing people there installing a water block connected to a chiller for their demo
    &lt;/figcaption&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Rebellions AI, a South Korean company demo-ing a new ML accelerator, also has a water cooling setup. Their new “REBEL Quad” chip will eventually use air cooling in a PCIe card. But their demo uses a chiller and a cool looking water block, and it’s quite the sight. Zooming back up, all signs point to water cooling being here to stay as long as datacenter cooling requirements continue to intensify. The AI boom almost guarantees that will be the case.
  &lt;/p&gt;
  &lt;p&gt;
   &lt;span&gt;
    If you like the content then consider heading over to the
   &lt;/span&gt;
   &lt;a href=&quot;https://www.patreon.com/ChipsandCheese&quot; rel=&quot;&quot;&gt;
    Patreon
   &lt;/a&gt;
   &lt;span&gt;
    or
   &lt;/span&gt;
   &lt;a href=&quot;https://www.paypal.com/donate/?hosted_button_id=4EMPH66SBGVSQ&quot; rel=&quot;&quot;&gt;
    PayPal
   &lt;/a&gt;
   &lt;span&gt;
    if you want to toss a few bucks to Chips and Cheese. Also consider joining the
   &lt;/span&gt;
   &lt;a href=&quot;https://discord.gg/TwVnRhxgY2&quot; rel=&quot;&quot;&gt;
    Discord
   &lt;/a&gt;
   &lt;span&gt;
    .
   &lt;/span&gt;
  &lt;/p&gt;
 &lt;/div&gt;
&lt;/div&gt;

</description>
</item>
<item>
<title> Skymont in Gaming Workloads </title>
<link>https://chipsandcheese.com/p/skymont-in-gaming-workloads</link>
<pubDate>Wed, 20 Aug 2025 22:45:48 -0000</pubDate>
<description>
&lt;div&gt;
 &lt;div dir=&quot;auto&quot;&gt;
  &lt;p&gt;
   E-Cores are central in Intel’s CPU strategy. Their small area footprint helps Intel achieve high multithreaded performance in a low area footprint. But E-Cores don’t derive their strength from numbers alone, because they still have significant per-core performance. Skymont, the E-Cores in Intel’s latest Arrow Lake desktop platform, can reach 4.6 GHz and sustain 8 micro-ops per cycle. Workloads sensitive to per-thread performance, such as games, will still benefit from Lion Cove’s even higher clock speeds and deeper reordering capacity. Still, Skymont’s handling of gaming workloads is still interesting partially as a curiosity, and partially because it can provide playable performance across a variety of titles. Testing here was done using Intel’s Arc B580 and DDR5-6000 28-36-36-36 memory.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!VcJs!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F91b4db51-1fa1-40b5-b428-2bf46c54e076_1273x712.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!VcJs!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F91b4db51-1fa1-40b5-b428-2bf46c54e076_1273x712.png 424w, https://substackcdn.com/image/fetch/$s_!VcJs!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F91b4db51-1fa1-40b5-b428-2bf46c54e076_1273x712.png 848w, https://substackcdn.com/image/fetch/$s_!VcJs!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F91b4db51-1fa1-40b5-b428-2bf46c54e076_1273x712.png 1272w, https://substackcdn.com/image/fetch/$s_!VcJs!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F91b4db51-1fa1-40b5-b428-2bf46c54e076_1273x712.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/91b4db51-1fa1-40b5-b428-2bf46c54e076_1273x712.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:712,&quot;width&quot;:1273,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:false,&quot;topImage&quot;:true,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; fetchpriority=&quot;high&quot; height=&quot;712&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!VcJs!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F91b4db51-1fa1-40b5-b428-2bf46c54e076_1273x712.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!VcJs!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F91b4db51-1fa1-40b5-b428-2bf46c54e076_1273x712.png 424w, https://substackcdn.com/image/fetch/$s_!VcJs!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F91b4db51-1fa1-40b5-b428-2bf46c54e076_1273x712.png 848w, https://substackcdn.com/image/fetch/$s_!VcJs!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F91b4db51-1fa1-40b5-b428-2bf46c54e076_1273x712.png 1272w, https://substackcdn.com/image/fetch/$s_!VcJs!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F91b4db51-1fa1-40b5-b428-2bf46c54e076_1273x712.png 1456w&quot; width=&quot;1273&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Top-down analysis accounts for why core width went under-utilized by looking at the rename/allocate stage. It’s the narrowest stage in the pipeline, meaning that pipeline slots lost there will bring down average throughput. Skymont is often backend-bound, which is when the renamer had micro-ops to send downstream, but the out-of-order backend couldn’t accept them. Lion Cove is in a similar situation, which isn’t surprising because both cores share a memory subsystem after L2, and backend bound losses often occur because of memory access latency.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!aD5M!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1751bef6-c8db-4146-bb37-9f80535974d6_1600x669.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!aD5M!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1751bef6-c8db-4146-bb37-9f80535974d6_1600x669.png 424w, https://substackcdn.com/image/fetch/$s_!aD5M!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1751bef6-c8db-4146-bb37-9f80535974d6_1600x669.png 848w, https://substackcdn.com/image/fetch/$s_!aD5M!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1751bef6-c8db-4146-bb37-9f80535974d6_1600x669.png 1272w, https://substackcdn.com/image/fetch/$s_!aD5M!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1751bef6-c8db-4146-bb37-9f80535974d6_1600x669.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/1751bef6-c8db-4146-bb37-9f80535974d6_1600x669.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:609,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:false,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;609&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!aD5M!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1751bef6-c8db-4146-bb37-9f80535974d6_1600x669.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!aD5M!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1751bef6-c8db-4146-bb37-9f80535974d6_1600x669.png 424w, https://substackcdn.com/image/fetch/$s_!aD5M!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1751bef6-c8db-4146-bb37-9f80535974d6_1600x669.png 848w, https://substackcdn.com/image/fetch/$s_!aD5M!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1751bef6-c8db-4146-bb37-9f80535974d6_1600x669.png 1272w, https://substackcdn.com/image/fetch/$s_!aD5M!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1751bef6-c8db-4146-bb37-9f80535974d6_1600x669.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Skymont doesn’t have events or unit masks to categorize backend bound slots into core-bound and memory bound ones. AMD suggests doing so by looking at how often instruction retirement was blocked by a load versus another instruction type. That method can be roughly replicated on Skymont, which has an event that counts cycles when retirement was blocked by a load. Setting cmask=1 and the invert bit for the retirement slot count event provides the total number of cycles with retirement stalled.
  &lt;/p&gt;
  &lt;p&gt;
   A large portion of retirement stalls are caused by memory loads, but a surprising portion are caused by other reasons. There’s some difference in this method compared to AMD’s, because retirement can be stalled for reasons other than an incomplete instruction. For example, the ROB could be empty following a costly mispredict or an exception. Still, these “core bound” slots are worth a closer look.
  &lt;/p&gt;
  &lt;h1&gt;
   Backend Stalls and Core Limitations
  &lt;/h1&gt;
  &lt;p&gt;
   Resource unavailability is the most common reason that the backend can’t accept incoming micro-ops. The core’s reorder buffer, register files, memory ordering queues, and other structures can fill up as micro-ops pile up ahead of a long latency one. The first structure that fills then causes the renamer to stall. Skymont has a large 416 entry reorder buffer (ROB), which in theory lets it keep nearly as many micro-ops in flight as high performance cores like Zen 5 (448) and Lion Cove (576). However, Skymont often runs into other limitations before its ROB fills up. Its mostly distributed scheduling scheme doesn’t do as well as Zen 5’s more unified one. Microbenchmarking suggests Zen 5 and Skymont have similar scheduler entry counts across broad instruction categories, but a unified scheduler is typically more efficient for a similar entry count. Zen 5 rarely runs out of scheduler entries and fills its ROB more often, showing that advantage. Skymont’s register files and memory ordering queues are adequately sized and rarely show up as a limitation. But resource stalls aren’t the only reason behind backend-bound throughput losses.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!Is0m!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F75933bd7-d2a2-452a-ae17-da66090e4de3_1299x795.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!Is0m!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F75933bd7-d2a2-452a-ae17-da66090e4de3_1299x795.png 424w, https://substackcdn.com/image/fetch/$s_!Is0m!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F75933bd7-d2a2-452a-ae17-da66090e4de3_1299x795.png 848w, https://substackcdn.com/image/fetch/$s_!Is0m!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F75933bd7-d2a2-452a-ae17-da66090e4de3_1299x795.png 1272w, https://substackcdn.com/image/fetch/$s_!Is0m!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F75933bd7-d2a2-452a-ae17-da66090e4de3_1299x795.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/75933bd7-d2a2-452a-ae17-da66090e4de3_1299x795.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:795,&quot;width&quot;:1299,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:false,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;795&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!Is0m!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F75933bd7-d2a2-452a-ae17-da66090e4de3_1299x795.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!Is0m!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F75933bd7-d2a2-452a-ae17-da66090e4de3_1299x795.png 424w, https://substackcdn.com/image/fetch/$s_!Is0m!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F75933bd7-d2a2-452a-ae17-da66090e4de3_1299x795.png 848w, https://substackcdn.com/image/fetch/$s_!Is0m!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F75933bd7-d2a2-452a-ae17-da66090e4de3_1299x795.png 1272w, https://substackcdn.com/image/fetch/$s_!Is0m!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F75933bd7-d2a2-452a-ae17-da66090e4de3_1299x795.png 1456w&quot; width=&quot;1299&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Allocation restrictions aren’t directly documented except in performance monitoring events. One theory is that the distributed schedulers have limitations on how many micro-ops they can accept from the renamer each cycle. Arm clearly documents these restrictions for their Cortex X1 core. Perhaps Skymont has similar restrictions. In any case it’s not a huge deal. Getting rid of allocation restrictions would get micro-ops into the backend faster, but the backend will inevitably run into a resource stall if long latency instructions aren’t retired quickly enough.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!O-B6!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F33eabf1e-5b6c-4deb-8644-81b4fec4eec3_648x366.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!O-B6!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F33eabf1e-5b6c-4deb-8644-81b4fec4eec3_648x366.png 424w, https://substackcdn.com/image/fetch/$s_!O-B6!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F33eabf1e-5b6c-4deb-8644-81b4fec4eec3_648x366.png 848w, https://substackcdn.com/image/fetch/$s_!O-B6!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F33eabf1e-5b6c-4deb-8644-81b4fec4eec3_648x366.png 1272w, https://substackcdn.com/image/fetch/$s_!O-B6!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F33eabf1e-5b6c-4deb-8644-81b4fec4eec3_648x366.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/33eabf1e-5b6c-4deb-8644-81b4fec4eec3_648x366.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:366,&quot;width&quot;:648,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;366&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!O-B6!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F33eabf1e-5b6c-4deb-8644-81b4fec4eec3_648x366.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!O-B6!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F33eabf1e-5b6c-4deb-8644-81b4fec4eec3_648x366.png 424w, https://substackcdn.com/image/fetch/$s_!O-B6!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F33eabf1e-5b6c-4deb-8644-81b4fec4eec3_648x366.png 848w, https://substackcdn.com/image/fetch/$s_!O-B6!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F33eabf1e-5b6c-4deb-8644-81b4fec4eec3_648x366.png 1272w, https://substackcdn.com/image/fetch/$s_!O-B6!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F33eabf1e-5b6c-4deb-8644-81b4fec4eec3_648x366.png 1456w&quot; width=&quot;648&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Finally, “serialization” refers to situations when the core can’t reorder past a certain instruction. I’m not sure how often this happens on other cores, but Zen 5’s performance counters do attribute a substantial portion of backend stalls to miscellaneous reasons. Skymont for its part can break down serialization related stalls into a few sub-categories, allowing for a closer look.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!eQSn!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa22c718a-bea7-4638-bb04-2d364e0744e6_1006x452.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!eQSn!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa22c718a-bea7-4638-bb04-2d364e0744e6_1006x452.png 424w, https://substackcdn.com/image/fetch/$s_!eQSn!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa22c718a-bea7-4638-bb04-2d364e0744e6_1006x452.png 848w, https://substackcdn.com/image/fetch/$s_!eQSn!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa22c718a-bea7-4638-bb04-2d364e0744e6_1006x452.png 1272w, https://substackcdn.com/image/fetch/$s_!eQSn!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa22c718a-bea7-4638-bb04-2d364e0744e6_1006x452.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/a22c718a-bea7-4638-bb04-2d364e0744e6_1006x452.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:452,&quot;width&quot;:1006,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;452&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!eQSn!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa22c718a-bea7-4638-bb04-2d364e0744e6_1006x452.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!eQSn!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa22c718a-bea7-4638-bb04-2d364e0744e6_1006x452.png 424w, https://substackcdn.com/image/fetch/$s_!eQSn!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa22c718a-bea7-4638-bb04-2d364e0744e6_1006x452.png 848w, https://substackcdn.com/image/fetch/$s_!eQSn!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa22c718a-bea7-4638-bb04-2d364e0744e6_1006x452.png 1272w, https://substackcdn.com/image/fetch/$s_!eQSn!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa22c718a-bea7-4638-bb04-2d364e0744e6_1006x452.png 1456w&quot; width=&quot;1006&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   IQ_JEU_SCB refers to “an IQ [instruction queue] scoreboard that stalls allocation until a specified older uop retires or (in the case of jump scoreboard) executes. Commonly executed instructions with IQ scoreboards include LFENCE and MFENCE.” Intel’s description implies Skymont has cases where it has to block further instructions from getting into the backend until the JEU (jump execution unit?) finishes executing a jump instruction. I’m not sure what triggers this. LFENCE (load fence) and MFENCE (memory fence) are explicit software memory barriers, and require the core to serialize memory accesses. I don’t think there’s much the core can do to avoid that mandated serialization.
  &lt;/p&gt;
  &lt;p&gt;
   Other serialization cases are rare. C01_MS_SCB, not shown above, counts cases when a UMWAIT or TPAUSE instruction put the core into a light C0.1 sleep state. NON_C01_MS_SCB points to “micro-sequencer (MS) scoreboard, which stalls the front-end from issuing from the UROM until a specified older uop retires. The most commonly executed instruction with an MS scoreboard is PAUSE”. Those stalls come up a bit, so perhaps games are using spinlocks with the PAUSE instruction.
  &lt;/p&gt;
  &lt;h2&gt;
   Revisiting Crestmont
  &lt;/h2&gt;
  &lt;p&gt;
   Skymont is notable for massively increasing reordering capacity compared to Crestmont, its immediate predecessor. Doing a direct comparison between the two is impossible because I have Crestmont in a Meteor Lake laptop without a discrete GPU. However, running Cyberpunk 2077’s built-in benchmark to get a general picture suggests Crestmont has an easier time reaching the limit of its 256 entry reorder buffer. Other limiting factors are still significant on Crestmont, but resource stall reasons have moved around compared to Skymont. For example, Cresmont rarely runs out of memory scheduler entries, though non-memory scheduler entries still feel pressure. Allocation restrictions are more of an issue on Skymont, perhaps because an 8-wide rename/allocate group is more likely to contain more micro-ops destined for the same scheduler. Serialization remains an issue on both cores.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!MvCN!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F29bb2871-736b-4d02-9a2d-101ec8af0f43_1116x795.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!MvCN!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F29bb2871-736b-4d02-9a2d-101ec8af0f43_1116x795.png 424w, https://substackcdn.com/image/fetch/$s_!MvCN!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F29bb2871-736b-4d02-9a2d-101ec8af0f43_1116x795.png 848w, https://substackcdn.com/image/fetch/$s_!MvCN!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F29bb2871-736b-4d02-9a2d-101ec8af0f43_1116x795.png 1272w, https://substackcdn.com/image/fetch/$s_!MvCN!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F29bb2871-736b-4d02-9a2d-101ec8af0f43_1116x795.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/29bb2871-736b-4d02-9a2d-101ec8af0f43_1116x795.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:795,&quot;width&quot;:1116,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;795&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!MvCN!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F29bb2871-736b-4d02-9a2d-101ec8af0f43_1116x795.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!MvCN!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F29bb2871-736b-4d02-9a2d-101ec8af0f43_1116x795.png 424w, https://substackcdn.com/image/fetch/$s_!MvCN!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F29bb2871-736b-4d02-9a2d-101ec8af0f43_1116x795.png 848w, https://substackcdn.com/image/fetch/$s_!MvCN!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F29bb2871-736b-4d02-9a2d-101ec8af0f43_1116x795.png 1272w, https://substackcdn.com/image/fetch/$s_!MvCN!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F29bb2871-736b-4d02-9a2d-101ec8af0f43_1116x795.png 1456w&quot; width=&quot;1116&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;h2&gt;
   Data-Side Cache and Memory Access
  &lt;/h2&gt;
  &lt;p&gt;
   Cache misses tend to be the most common long latency instructions, and thus contribute heavily to resource stalls. Skymont has a typical triple-level data cache hierarchy, with a 32 KB L1D, and a 4 MB L2 shared across a quad core cluster. Arrow Lake provides a 36 MB L3 that’s shared across all cores. With a larger L2, smaller L1D, and no L1.5D, Skymont leans harder on its L2 compared to the Lion Cove P-Cores. Just like Lion Cove, L2 misses have to contend with ~14 ns of L3 latency, which is high compared to AMD’s sub-9ns L3 latency.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!xd7C!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F923fdb48-aceb-4e95-8db2-ecc846709cd3_1032x596.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!xd7C!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F923fdb48-aceb-4e95-8db2-ecc846709cd3_1032x596.png 424w, https://substackcdn.com/image/fetch/$s_!xd7C!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F923fdb48-aceb-4e95-8db2-ecc846709cd3_1032x596.png 848w, https://substackcdn.com/image/fetch/$s_!xd7C!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F923fdb48-aceb-4e95-8db2-ecc846709cd3_1032x596.png 1272w, https://substackcdn.com/image/fetch/$s_!xd7C!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F923fdb48-aceb-4e95-8db2-ecc846709cd3_1032x596.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/923fdb48-aceb-4e95-8db2-ecc846709cd3_1032x596.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:596,&quot;width&quot;:1032,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;596&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!xd7C!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F923fdb48-aceb-4e95-8db2-ecc846709cd3_1032x596.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!xd7C!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F923fdb48-aceb-4e95-8db2-ecc846709cd3_1032x596.png 424w, https://substackcdn.com/image/fetch/$s_!xd7C!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F923fdb48-aceb-4e95-8db2-ecc846709cd3_1032x596.png 848w, https://substackcdn.com/image/fetch/$s_!xd7C!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F923fdb48-aceb-4e95-8db2-ecc846709cd3_1032x596.png 1272w, https://substackcdn.com/image/fetch/$s_!xd7C!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F923fdb48-aceb-4e95-8db2-ecc846709cd3_1032x596.png 1456w&quot; width=&quot;1032&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Skymont can break down how often the core was stalled due to a L1D demand miss. “Demand” indicates an access was initiated by an instruction, as opposed to a prefetch, but does not guarantee that instruction actually retired. Intel didn’t state what criteria it uses to determine if the core is stalled. Older cores like Skylake had a similar event that, for example, would consider the core L2 bound if there’s a pending load from L2, no L2 miss in flight, and no micro-op could begin execution that cycle.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!5wIY!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F406a84fd-a515-4c8f-a469-aba5c1e45945_999x600.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!5wIY!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F406a84fd-a515-4c8f-a469-aba5c1e45945_999x600.png 424w, https://substackcdn.com/image/fetch/$s_!5wIY!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F406a84fd-a515-4c8f-a469-aba5c1e45945_999x600.png 848w, https://substackcdn.com/image/fetch/$s_!5wIY!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F406a84fd-a515-4c8f-a469-aba5c1e45945_999x600.png 1272w, https://substackcdn.com/image/fetch/$s_!5wIY!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F406a84fd-a515-4c8f-a469-aba5c1e45945_999x600.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/406a84fd-a515-4c8f-a469-aba5c1e45945_999x600.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:600,&quot;width&quot;:999,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;600&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!5wIY!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F406a84fd-a515-4c8f-a469-aba5c1e45945_999x600.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!5wIY!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F406a84fd-a515-4c8f-a469-aba5c1e45945_999x600.png 424w, https://substackcdn.com/image/fetch/$s_!5wIY!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F406a84fd-a515-4c8f-a469-aba5c1e45945_999x600.png 848w, https://substackcdn.com/image/fetch/$s_!5wIY!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F406a84fd-a515-4c8f-a469-aba5c1e45945_999x600.png 1272w, https://substackcdn.com/image/fetch/$s_!5wIY!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F406a84fd-a515-4c8f-a469-aba5c1e45945_999x600.png 1456w&quot; width=&quot;999&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   DRAM latency poses the biggest challenge for Skymont. L2-bound cycles are low, suggesting Skymont’s out-of-order engine can often keep enough instructions in flight to hide L2 latency. High L3 latency isn’t too painful, likely for two reasons. The most obvious is that Skymont’s large 4 MB L2 lets it keep many accesses off L3. For perspective, 4 MB is as large as the L3 cache on mobile and console Zen 2 variants. The second is that Skymont’s lower clock speed means it has less potential performance to begin with. An analogy is that a less streamlined aircraft might worry less about air resistance because it flies at lower speeds. It’s not technically an advantage, but it does mean the core has less to lose while waiting for data from L3.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!IYFM!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1a613f9c-4c74-43d6-a077-064c42d335c1_899x557.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!IYFM!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1a613f9c-4c74-43d6-a077-064c42d335c1_899x557.png 424w, https://substackcdn.com/image/fetch/$s_!IYFM!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1a613f9c-4c74-43d6-a077-064c42d335c1_899x557.png 848w, https://substackcdn.com/image/fetch/$s_!IYFM!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1a613f9c-4c74-43d6-a077-064c42d335c1_899x557.png 1272w, https://substackcdn.com/image/fetch/$s_!IYFM!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1a613f9c-4c74-43d6-a077-064c42d335c1_899x557.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/1a613f9c-4c74-43d6-a077-064c42d335c1_899x557.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:557,&quot;width&quot;:899,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;557&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!IYFM!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1a613f9c-4c74-43d6-a077-064c42d335c1_899x557.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!IYFM!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1a613f9c-4c74-43d6-a077-064c42d335c1_899x557.png 424w, https://substackcdn.com/image/fetch/$s_!IYFM!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1a613f9c-4c74-43d6-a077-064c42d335c1_899x557.png 848w, https://substackcdn.com/image/fetch/$s_!IYFM!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1a613f9c-4c74-43d6-a077-064c42d335c1_899x557.png 1272w, https://substackcdn.com/image/fetch/$s_!IYFM!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1a613f9c-4c74-43d6-a077-064c42d335c1_899x557.png 1456w&quot; width=&quot;899&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Setting the edge bit allows counting the number of stall occurrences. Dividing stall cycle count by occurrence count provides average stall duration. Those figures are strange, because average stall durations exceed measured cache latency for L2 and L3. Perhaps a lot of blocked instructions have multiple inputs that come from the specified cache level. Or, Skymont might use different criteria than Skylake to determine when the core is memory bound. For example, it could be indicating how long the core had instructions stuck waiting on data from a specified memory hierarchy level, even if other instructions were able to execute in the meantime.
  &lt;/p&gt;
  &lt;h1&gt;
   Frontend
  &lt;/h1&gt;
  &lt;p&gt;
   Skymont’s frontend is rarely a limiting factor, thanks to backend-related throughput losses. However, Skymont does have interesting performance counters at the frontend, so it’s worth a look. Intel breaks down frontend related stalls into bandwidth and latency bound categories by looking at why the frontend under-fed the core. In contrast, Zen 5 and Lion Cove consider a slot frontend latency bound if the frontend delivered no micro-ops that cycle, and bandwidth-bound if it delivered some micro-ops, but not enough to fill all renamer slots. Specifically:
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!h8Hv!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F529c37c4-c3b0-4587-88b7-324a350ce0f0_1296x240.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!h8Hv!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F529c37c4-c3b0-4587-88b7-324a350ce0f0_1296x240.png 424w, https://substackcdn.com/image/fetch/$s_!h8Hv!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F529c37c4-c3b0-4587-88b7-324a350ce0f0_1296x240.png 848w, https://substackcdn.com/image/fetch/$s_!h8Hv!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F529c37c4-c3b0-4587-88b7-324a350ce0f0_1296x240.png 1272w, https://substackcdn.com/image/fetch/$s_!h8Hv!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F529c37c4-c3b0-4587-88b7-324a350ce0f0_1296x240.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/529c37c4-c3b0-4587-88b7-324a350ce0f0_1296x240.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:240,&quot;width&quot;:1296,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;240&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!h8Hv!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F529c37c4-c3b0-4587-88b7-324a350ce0f0_1296x240.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!h8Hv!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F529c37c4-c3b0-4587-88b7-324a350ce0f0_1296x240.png 424w, https://substackcdn.com/image/fetch/$s_!h8Hv!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F529c37c4-c3b0-4587-88b7-324a350ce0f0_1296x240.png 848w, https://substackcdn.com/image/fetch/$s_!h8Hv!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F529c37c4-c3b0-4587-88b7-324a350ce0f0_1296x240.png 1272w, https://substackcdn.com/image/fetch/$s_!h8Hv!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F529c37c4-c3b0-4587-88b7-324a350ce0f0_1296x240.png 1456w&quot; width=&quot;1296&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
      &lt;div&gt;
      &lt;/div&gt;
     &lt;/div&gt;
    &lt;/a&gt;
    &lt;figcaption&gt;
     Skymont’s frontend-bound performance monitoring event, with unit masks written out in AMD PPR style format
    &lt;/figcaption&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Splitting up latency versus bandwidth bound slots in this way might make more sense for Skymont, because its clustered decoder is less prone to losing throughput from taken branches compared to a conventional straight-line decoder. Basically, Intel considers Skymont frontend bandwidth bound if the decoders had incoming instructions, but was unable to process them efficiently. If the frontend is under-fed because of branch predictor delays, cache misses, or TLB misses, it’s considered latency bound.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!N_mL!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F752d4115-0477-41f8-b70f-80db7cc5d704_969x914.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!N_mL!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F752d4115-0477-41f8-b70f-80db7cc5d704_969x914.png 424w, https://substackcdn.com/image/fetch/$s_!N_mL!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F752d4115-0477-41f8-b70f-80db7cc5d704_969x914.png 848w, https://substackcdn.com/image/fetch/$s_!N_mL!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F752d4115-0477-41f8-b70f-80db7cc5d704_969x914.png 1272w, https://substackcdn.com/image/fetch/$s_!N_mL!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F752d4115-0477-41f8-b70f-80db7cc5d704_969x914.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/752d4115-0477-41f8-b70f-80db7cc5d704_969x914.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:914,&quot;width&quot;:969,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;914&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!N_mL!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F752d4115-0477-41f8-b70f-80db7cc5d704_969x914.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!N_mL!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F752d4115-0477-41f8-b70f-80db7cc5d704_969x914.png 424w, https://substackcdn.com/image/fetch/$s_!N_mL!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F752d4115-0477-41f8-b70f-80db7cc5d704_969x914.png 848w, https://substackcdn.com/image/fetch/$s_!N_mL!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F752d4115-0477-41f8-b70f-80db7cc5d704_969x914.png 1272w, https://substackcdn.com/image/fetch/$s_!N_mL!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F752d4115-0477-41f8-b70f-80db7cc5d704_969x914.png 1456w&quot; width=&quot;969&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Delays from all sources are minor, though decode stalls and hitting microcode cost some throughput. I’m not sure what causes decode stalls on Skymont. Intel’s optimization guide notes that load balancing issues between the decoders or “other decode restrictions” will often be indicated by the decode stall unit mask. Microcode is often used for instructions that aren’t handled by fast-path hardware in the execution engine. Density optimized cores tend to have less area budget for rarer and more difficult operations, and may execute them with multiple micro-ops (which might come from microcode). CPU designers will try to carefully look at what instructions applications use and minimize micro-op expansion. But that task will be harder for density optimized cores like Skymont.
  &lt;/p&gt;
  &lt;p&gt;
   Skymont’s branch prediction accuracy is good enough in games. I’m not going to look too far into Palworld and Call of Duty, because I suspect the margin of error is quite high. Curiously Skymont achieved better prediction accuracy and roughly 25% fewer mispredicts per instruction in Cyberpunk 2077’s built-in benchmark.
  &lt;/p&gt;
  &lt;h1&gt;
   Final Words
  &lt;/h1&gt;
  &lt;p&gt;
   Skymont may not be a P-Core and does not compete for maximum performance. However, it subjectively turns in a good performance in games. I played a variety of games on the Core Ultra 9 285K with affinity set to the 16 E-Cores. All were able to achieve more than playable framerates with few stutters or other issues. It’s a good showcase of what a density optimized core can do on modern process nodes, while also highlighting the issue of diminishing returns when pushing for maximum performance. I suspect a hypothetical chip with just Skymont cores could do quite well in isolation.
  &lt;/p&gt;
  &lt;div&gt;
   &lt;figure&gt;
    &lt;a data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!hSRe!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4b060251-7bc5-4135-bd8d-4a24496bd394_902x554.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!hSRe!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4b060251-7bc5-4135-bd8d-4a24496bd394_902x554.png 424w, https://substackcdn.com/image/fetch/$s_!hSRe!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4b060251-7bc5-4135-bd8d-4a24496bd394_902x554.png 848w, https://substackcdn.com/image/fetch/$s_!hSRe!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4b060251-7bc5-4135-bd8d-4a24496bd394_902x554.png 1272w, https://substackcdn.com/image/fetch/$s_!hSRe!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4b060251-7bc5-4135-bd8d-4a24496bd394_902x554.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/4b060251-7bc5-4135-bd8d-4a24496bd394_902x554.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:554,&quot;width&quot;:902,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;554&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!hSRe!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4b060251-7bc5-4135-bd8d-4a24496bd394_902x554.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!hSRe!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4b060251-7bc5-4135-bd8d-4a24496bd394_902x554.png 424w, https://substackcdn.com/image/fetch/$s_!hSRe!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4b060251-7bc5-4135-bd8d-4a24496bd394_902x554.png 848w, https://substackcdn.com/image/fetch/$s_!hSRe!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4b060251-7bc5-4135-bd8d-4a24496bd394_902x554.png 1272w, https://substackcdn.com/image/fetch/$s_!hSRe!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4b060251-7bc5-4135-bd8d-4a24496bd394_902x554.png 1456w&quot; width=&quot;902&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   &lt;span&gt;
    That doesn’t mean all E-Core chips can go mainstream anytime soon, or that Intel’s E-Core line can displace their P-Cores. If history is anything to go off, an E-Core would need to exceed P-Core performance in a number of applications before it can wear both hats. Long long ago, Intel’s P6-based Pentium M was able to outmatch Netburst-based Pentium 4 chips in a
   &lt;/span&gt;
   &lt;a href=&quot;https://web.archive.org/web/20141225023330/http://www.anandtech.com/show/1650/3&quot; rel=&quot;&quot;&gt;
    surprisingly large variety of workloads
   &lt;/a&gt;
   &lt;span&gt;
    , foreshadowing Intel’s move to ditch Netburst in favor of a beefed up P6 variant in the Core 2 series. Skymont isn’t where Pentium M was in that era, nor does Intel’s Lion Cove P-Core suffer the inefficiencies Netburst did. But there’s no ignoring that Skymont is a very capable core on its own. Intel’s E-Core team deserves credit for packing all that performance into a small area footprint.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   &lt;span&gt;
    If you like the content then consider heading over to the
   &lt;/span&gt;
   &lt;a href=&quot;https://www.patreon.com/ChipsandCheese&quot; rel=&quot;&quot;&gt;
    Patreon
   &lt;/a&gt;
   &lt;span&gt;
    or
   &lt;/span&gt;
   &lt;a href=&quot;https://www.paypal.com/donate/?hosted_button_id=4EMPH66SBGVSQ&quot; rel=&quot;&quot;&gt;
    PayPal
   &lt;/a&gt;
   &lt;span&gt;
    if you want to toss a few bucks to Chips and Cheese. Also consider joining the
   &lt;/span&gt;
   &lt;a href=&quot;https://discord.gg/TwVnRhxgY2&quot; rel=&quot;&quot;&gt;
    Discord
   &lt;/a&gt;
   &lt;span&gt;
    .
   &lt;/span&gt;
  &lt;/p&gt;
 &lt;/div&gt;
&lt;/div&gt;

</description>
</item>
<item>
<title> Running Gaming Workloads through AMD’s Zen 5 </title>
<link>https://chipsandcheese.com/p/running-gaming-workloads-through</link>
<pubDate>Sat, 02 Aug 2025 22:15:03 -0000</pubDate>
<description>
&lt;div class=&quot;available-content&quot;&gt;
 &lt;div class=&quot;body markup&quot; dir=&quot;auto&quot;&gt;
  &lt;p&gt;
   &lt;span&gt;
    Zen 5 is AMD’s newest core architecture. Compared to Zen 4, Zen 5 brings more reordering capacity, a reorganized execution engine, and numerous enhancements throughout its pipeline. In short, Zen 5 is wider and deeper than Zen 4. Like Lion Cove, Zen 5 delivers clear gains in the standard SPEC CPU2017 benchmark as well as many productivity applications. And like Lion Cove,
   &lt;/span&gt;
   &lt;a href=&quot;https://youtu.be/OF_bMt9fVm0?si=4HbvkbJSAK3W7PeT&amp;t=549&quot; rel=&quot;&quot;&gt;
    several
   &lt;/a&gt;
   &lt;a href=&quot;https://www.youtube.com/watch?v=rttc_ioflGo&quot; rel=&quot;&quot;&gt;
    reviewers
   &lt;/a&gt;
   &lt;span&gt;
    have criticized the non-X3D Zen 5 variants for not delivering similar gains in games. Here, I’ll be testing a few games on the Ryzen 9 9900X, with DDR5-5600 memory. It’s a somewhat slower memory configuration than I tested Lion Cove with, largely for convenience. I swapped the 9900X in place of my previous 7950X3D, keeping everything else the same. The memory used is a
   &lt;/span&gt;
   &lt;a href=&quot;https://www.newegg.com/a/p/N82E16820374367&quot; rel=&quot;&quot;&gt;
    64 GB G.SKILL DDR5-5600 36-36-36-89 kit
   &lt;/a&gt;
   &lt;span&gt;
    .
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!wS9a!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F164829e4-82e1-42a0-ae3e-23212eb6fa99_1600x1000.jpeg&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!wS9a!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F164829e4-82e1-42a0-ae3e-23212eb6fa99_1600x1000.jpeg 424w, https://substackcdn.com/image/fetch/$s_!wS9a!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F164829e4-82e1-42a0-ae3e-23212eb6fa99_1600x1000.jpeg 848w, https://substackcdn.com/image/fetch/$s_!wS9a!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F164829e4-82e1-42a0-ae3e-23212eb6fa99_1600x1000.jpeg 1272w, https://substackcdn.com/image/fetch/$s_!wS9a!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F164829e4-82e1-42a0-ae3e-23212eb6fa99_1600x1000.jpeg 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/164829e4-82e1-42a0-ae3e-23212eb6fa99_1600x1000.jpeg&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:910,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:false,&quot;topImage&quot;:true,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; fetchpriority=&quot;high&quot; height=&quot;910&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!wS9a!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F164829e4-82e1-42a0-ae3e-23212eb6fa99_1600x1000.jpeg&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!wS9a!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F164829e4-82e1-42a0-ae3e-23212eb6fa99_1600x1000.jpeg 424w, https://substackcdn.com/image/fetch/$s_!wS9a!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F164829e4-82e1-42a0-ae3e-23212eb6fa99_1600x1000.jpeg 848w, https://substackcdn.com/image/fetch/$s_!wS9a!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F164829e4-82e1-42a0-ae3e-23212eb6fa99_1600x1000.jpeg 1272w, https://substackcdn.com/image/fetch/$s_!wS9a!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F164829e4-82e1-42a0-ae3e-23212eb6fa99_1600x1000.jpeg 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   &lt;span&gt;
    The Ryzen 9 9900X was kindly sampled by AMD, as is the Radeon RX 9070 used to run the games here. I’ll be using the same games as in
   &lt;/span&gt;
   &lt;a href=&quot;https://chipsandcheese.com/p/intels-lion-cove-p-core-and-gaming&quot; rel=&quot;&quot;&gt;
    the Lion Cove gaming article
   &lt;/a&gt;
   &lt;span&gt;
    , namely Palworld, COD Cold War, and Cyberpunk 2077. However, the data is not directly comparable; I’ve built up my Palworld base since then, COD Cold War multiplayer sessions are inherently unpredictable, and Cyberpunk 2077 received an update which annoyingly forces a 60 FPS cap, regardless of VSYNC or FPS cap settings. My goal here is to look for broad trends rather than do a like-for-like performance comparison.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   As with the previous article on Lion Cove, top-down analysis will provide a starting point by accounting for lost pipeline throughput at the rename/allocate stage. It’s the narrowest stage in the pipeline, so throughput lost there can’t be recovered later and results in lower utilization of core width. Lion Cove was heavily bound by backend memory latency, with frontend latency causing additional losses. Zen 5 hits those issues in reverse. From a top-down view, it struggles to keep its frontend fed. Backend memory latency is still significant, but it is overshadowed by frontend latency.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!wjwv!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9a37d0c4-5841-40d0-845a-3fb1e8c66144_1498x674.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!wjwv!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9a37d0c4-5841-40d0-845a-3fb1e8c66144_1498x674.png 424w, https://substackcdn.com/image/fetch/$s_!wjwv!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9a37d0c4-5841-40d0-845a-3fb1e8c66144_1498x674.png 848w, https://substackcdn.com/image/fetch/$s_!wjwv!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9a37d0c4-5841-40d0-845a-3fb1e8c66144_1498x674.png 1272w, https://substackcdn.com/image/fetch/$s_!wjwv!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9a37d0c4-5841-40d0-845a-3fb1e8c66144_1498x674.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/9a37d0c4-5841-40d0-845a-3fb1e8c66144_1498x674.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:655,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:false,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;655&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!wjwv!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9a37d0c4-5841-40d0-845a-3fb1e8c66144_1498x674.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!wjwv!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9a37d0c4-5841-40d0-845a-3fb1e8c66144_1498x674.png 424w, https://substackcdn.com/image/fetch/$s_!wjwv!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9a37d0c4-5841-40d0-845a-3fb1e8c66144_1498x674.png 848w, https://substackcdn.com/image/fetch/$s_!wjwv!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9a37d0c4-5841-40d0-845a-3fb1e8c66144_1498x674.png 1272w, https://substackcdn.com/image/fetch/$s_!wjwv!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9a37d0c4-5841-40d0-845a-3fb1e8c66144_1498x674.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   A pipeline slot is considered frontend latency bound if the frontend left all eight rename/allocate slots idle that cycle. Backend bound refers to when the rename/allocate stage had micro-ops to dispatch, but the execution engine ran out of entries in its various buffers and queues. AMD breaks down backend bound slots into core-bound and memory-bound categories, by looking at how often the retirement stage is blocked by an incomplete load versus an incomplete instruction of another type. That’s because backend-bound stalls come up when the execution engine is unable to clear out (retire) instructions faster than the frontend supplies them. Bad speculation looks at the difference between micro-ops that pass through the rename/allocate stage, and ones that were actually retired. That gives a measure of wasted work caused by branch mispredicts and other late-stage redirects like exceptions and interrupts. It’s a negligible factor in all three games.
  &lt;/p&gt;
  &lt;p&gt;
   SMT contention doesn’t indicate lost core throughput. Rather, core performance counters work on a per-SMT thread basis, and SMT contention indicates when the thread had micro-ops ready from the frontend, but the rename/allocate stage serviced the sibling SMT thread that cycle. A very high SMT contention metric could indicate that a single thread can already use much of the core’s throughput, and thus SMT gains may be limited; however, that’s not the case here. Finally, the “retiring” metric corresponds to useful work and indicates how effectively the workload uses core width. It’s relatively low on the three games here, providing a first indication that games could be considered a “low-IPC” workload.
  &lt;/p&gt;
  &lt;h1 class=&quot;header-anchor-post&quot;&gt;
   Frontend
  &lt;/h1&gt;
  &lt;p&gt;
   Zen 5’s frontend combines a large 6K entry op cache with a 32 KB conventional instruction cache. To hide L1i miss latency, Zen 5 uses a decoupled branch predictor with a massive 24K BTB entries. Zen 5’s op cache covers the majority of the instruction stream on all three games, and enjoys a higher hitrate than the 5.2K entry op cache on Lion Cove. The L1i catches a substantial portion of op cache misses, though misses per instruction as calculated by L1i refills looks higher than on Lion Cove. 20-30 L1i misses per 1000 instructions is also a bit high in absolute terms, and Zen 5’s 1 MB L2 does a good job of catching nearly all of those misses. Still, a few occasionally slip past and come from the higher latency L3 just like on Lion Cove.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!XxBJ!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6a32545d-d7f3-4e26-9963-683774e93c22_1048x595.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!XxBJ!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6a32545d-d7f3-4e26-9963-683774e93c22_1048x595.png 424w, https://substackcdn.com/image/fetch/$s_!XxBJ!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6a32545d-d7f3-4e26-9963-683774e93c22_1048x595.png 848w, https://substackcdn.com/image/fetch/$s_!XxBJ!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6a32545d-d7f3-4e26-9963-683774e93c22_1048x595.png 1272w, https://substackcdn.com/image/fetch/$s_!XxBJ!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6a32545d-d7f3-4e26-9963-683774e93c22_1048x595.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/6a32545d-d7f3-4e26-9963-683774e93c22_1048x595.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:595,&quot;width&quot;:1048,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;595&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!XxBJ!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6a32545d-d7f3-4e26-9963-683774e93c22_1048x595.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!XxBJ!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6a32545d-d7f3-4e26-9963-683774e93c22_1048x595.png 424w, https://substackcdn.com/image/fetch/$s_!XxBJ!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6a32545d-d7f3-4e26-9963-683774e93c22_1048x595.png 848w, https://substackcdn.com/image/fetch/$s_!XxBJ!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6a32545d-d7f3-4e26-9963-683774e93c22_1048x595.png 1272w, https://substackcdn.com/image/fetch/$s_!XxBJ!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6a32545d-d7f3-4e26-9963-683774e93c22_1048x595.png 1456w&quot; width=&quot;1048&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Branch prediction accuracy is high, though curiously slightly worse across all three titles than on Lion Cove. That’s surprising because Zen 5 managed better accuracy across SPEC CPU2017, with notable wins in difficult subtests like 541.leela. There’s a high margin of error in these comparisons, and the aforementioned changes to the tested scenes, but the consistent difference in both prediction accuracy and mispredicts per instruction is difficult to ignore.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!N45P!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5a244c8c-576f-44bd-bc73-f7a6c8147630_1153x940.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!N45P!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5a244c8c-576f-44bd-bc73-f7a6c8147630_1153x940.png 424w, https://substackcdn.com/image/fetch/$s_!N45P!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5a244c8c-576f-44bd-bc73-f7a6c8147630_1153x940.png 848w, https://substackcdn.com/image/fetch/$s_!N45P!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5a244c8c-576f-44bd-bc73-f7a6c8147630_1153x940.png 1272w, https://substackcdn.com/image/fetch/$s_!N45P!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5a244c8c-576f-44bd-bc73-f7a6c8147630_1153x940.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/5a244c8c-576f-44bd-bc73-f7a6c8147630_1153x940.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:940,&quot;width&quot;:1153,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;940&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!N45P!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5a244c8c-576f-44bd-bc73-f7a6c8147630_1153x940.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!N45P!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5a244c8c-576f-44bd-bc73-f7a6c8147630_1153x940.png 424w, https://substackcdn.com/image/fetch/$s_!N45P!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5a244c8c-576f-44bd-bc73-f7a6c8147630_1153x940.png 848w, https://substackcdn.com/image/fetch/$s_!N45P!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5a244c8c-576f-44bd-bc73-f7a6c8147630_1153x940.png 1272w, https://substackcdn.com/image/fetch/$s_!N45P!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5a244c8c-576f-44bd-bc73-f7a6c8147630_1153x940.png 1456w&quot; width=&quot;1153&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Mispredicts interrupt the branch predictor’s ability to run ahead of instruction fetch, and expose the frontend to cache latency as it waits for instructions to arrive from the correct path. A mispredict is a comparatively expensive redirect because it affects both the frontend latency and bad speculation categories. Another form of redirect comes from “decoder overrides” in AMD terminology, or “BAClears” (branch address clear) in Intel terms. These happen when the core discovers a branch in frontend stages after the branch predictor, typically when seeing a branch for the first time or when the branch footprint goes beyond the predictor’s tracking capabilities. A redirect from later frontend stages prevents bad speculation losses, but it does expose the core to L1i miss latency. Zen 5 surprisingly takes a few more decoder overrides than Intel does BAClears. It’s not great when its branch predictor needs to cover for more L1i misses in the first place.
  &lt;/p&gt;
  &lt;p&gt;
   Delays within the branch predictor can also cause frontend latency. Zen 5’s giant BTB is split into a 16K entry first level and a 8K entry second level. Getting a target from the second level is slower. Similarly, an override from the indirect predictor would cause bubbles in the branch prediction pipeline. However, I expect overrides from within the branch predictor to be a minor factor. The branch predictor can still continue following the instruction stream to hide cache latency, and short delays will likely be hidden by backend stalls in a low IPC workload.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!CCHv!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F973b73cf-c679-4778-9603-84f517206200_897x525.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!CCHv!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F973b73cf-c679-4778-9603-84f517206200_897x525.png 424w, https://substackcdn.com/image/fetch/$s_!CCHv!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F973b73cf-c679-4778-9603-84f517206200_897x525.png 848w, https://substackcdn.com/image/fetch/$s_!CCHv!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F973b73cf-c679-4778-9603-84f517206200_897x525.png 1272w, https://substackcdn.com/image/fetch/$s_!CCHv!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F973b73cf-c679-4778-9603-84f517206200_897x525.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/973b73cf-c679-4778-9603-84f517206200_897x525.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:525,&quot;width&quot;:897,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;525&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!CCHv!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F973b73cf-c679-4778-9603-84f517206200_897x525.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!CCHv!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F973b73cf-c679-4778-9603-84f517206200_897x525.png 424w, https://substackcdn.com/image/fetch/$s_!CCHv!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F973b73cf-c679-4778-9603-84f517206200_897x525.png 848w, https://substackcdn.com/image/fetch/$s_!CCHv!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F973b73cf-c679-4778-9603-84f517206200_897x525.png 1272w, https://substackcdn.com/image/fetch/$s_!CCHv!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F973b73cf-c679-4778-9603-84f517206200_897x525.png 1456w&quot; width=&quot;897&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Stalls at the renamer due to frontend latency last for 11-12 cycles on average. Zen 5 doesn’t have events that can directly attribute instruction fetch stalls to L1i misses, unlike Lion Cove. 11-12 cycles however is suspiciously close to L2 latency. Of course, the average will be pulled lower by shorter stalls when the pipeline is resteered to a target in the L1i or op cache, as well as longer stalls when the target comes from L3 or DRAM.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!Hfwu!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F98ed5b10-83ba-4d9e-887b-dc21b86a729c_1049x585.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!Hfwu!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F98ed5b10-83ba-4d9e-887b-dc21b86a729c_1049x585.png 424w, https://substackcdn.com/image/fetch/$s_!Hfwu!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F98ed5b10-83ba-4d9e-887b-dc21b86a729c_1049x585.png 848w, https://substackcdn.com/image/fetch/$s_!Hfwu!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F98ed5b10-83ba-4d9e-887b-dc21b86a729c_1049x585.png 1272w, https://substackcdn.com/image/fetch/$s_!Hfwu!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F98ed5b10-83ba-4d9e-887b-dc21b86a729c_1049x585.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/98ed5b10-83ba-4d9e-887b-dc21b86a729c_1049x585.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:585,&quot;width&quot;:1049,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;585&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!Hfwu!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F98ed5b10-83ba-4d9e-887b-dc21b86a729c_1049x585.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!Hfwu!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F98ed5b10-83ba-4d9e-887b-dc21b86a729c_1049x585.png 424w, https://substackcdn.com/image/fetch/$s_!Hfwu!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F98ed5b10-83ba-4d9e-887b-dc21b86a729c_1049x585.png 848w, https://substackcdn.com/image/fetch/$s_!Hfwu!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F98ed5b10-83ba-4d9e-887b-dc21b86a729c_1049x585.png 1272w, https://substackcdn.com/image/fetch/$s_!Hfwu!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F98ed5b10-83ba-4d9e-887b-dc21b86a729c_1049x585.png 1456w&quot; width=&quot;1049&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   While frontend latency bound slots are a bigger factor, Zen 5 does lose some throughput due to being frontend bandwidth bound. Zen 5’s frontend spends much of its active time running in op cache mode. Surprisingly, average bandwidth from the op cache is a bit under the 8 micro-ops/cycle that would be required to fully feed the core. The op cache can nominally deliver 12 micro-ops per cycle, but average throughput hovers around 6 micro-ops per cycle.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!aFoc!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F662fbbcb-03a3-41a6-bb7a-6ab291566d17_1131x593.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!aFoc!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F662fbbcb-03a3-41a6-bb7a-6ab291566d17_1131x593.png 424w, https://substackcdn.com/image/fetch/$s_!aFoc!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F662fbbcb-03a3-41a6-bb7a-6ab291566d17_1131x593.png 848w, https://substackcdn.com/image/fetch/$s_!aFoc!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F662fbbcb-03a3-41a6-bb7a-6ab291566d17_1131x593.png 1272w, https://substackcdn.com/image/fetch/$s_!aFoc!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F662fbbcb-03a3-41a6-bb7a-6ab291566d17_1131x593.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/662fbbcb-03a3-41a6-bb7a-6ab291566d17_1131x593.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:593,&quot;width&quot;:1131,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;593&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!aFoc!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F662fbbcb-03a3-41a6-bb7a-6ab291566d17_1131x593.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!aFoc!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F662fbbcb-03a3-41a6-bb7a-6ab291566d17_1131x593.png 424w, https://substackcdn.com/image/fetch/$s_!aFoc!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F662fbbcb-03a3-41a6-bb7a-6ab291566d17_1131x593.png 848w, https://substackcdn.com/image/fetch/$s_!aFoc!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F662fbbcb-03a3-41a6-bb7a-6ab291566d17_1131x593.png 1272w, https://substackcdn.com/image/fetch/$s_!aFoc!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F662fbbcb-03a3-41a6-bb7a-6ab291566d17_1131x593.png 1456w&quot; width=&quot;1131&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   One culprit is branches, which can limit the benefits of widening instruction fetch: op cache throughput correlates negatively with how frequently branches appear in the instruction stream. The three games I tested land in the middle of the pack when placed next to SPEC CPU2017’s workloads. Certainly there’s room for improvement with frontend bandwidth too. But that room for improvement is limited because frontend bandwidth bound slots are few to start with.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!J9te!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd2d1344e-4e83-4a1b-a0a8-72ae3e8a568b_1518x822.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!J9te!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd2d1344e-4e83-4a1b-a0a8-72ae3e8a568b_1518x822.png 424w, https://substackcdn.com/image/fetch/$s_!J9te!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd2d1344e-4e83-4a1b-a0a8-72ae3e8a568b_1518x822.png 848w, https://substackcdn.com/image/fetch/$s_!J9te!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd2d1344e-4e83-4a1b-a0a8-72ae3e8a568b_1518x822.png 1272w, https://substackcdn.com/image/fetch/$s_!J9te!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd2d1344e-4e83-4a1b-a0a8-72ae3e8a568b_1518x822.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/d2d1344e-4e83-4a1b-a0a8-72ae3e8a568b_1518x822.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:788,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;788&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!J9te!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd2d1344e-4e83-4a1b-a0a8-72ae3e8a568b_1518x822.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!J9te!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd2d1344e-4e83-4a1b-a0a8-72ae3e8a568b_1518x822.png 424w, https://substackcdn.com/image/fetch/$s_!J9te!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd2d1344e-4e83-4a1b-a0a8-72ae3e8a568b_1518x822.png 848w, https://substackcdn.com/image/fetch/$s_!J9te!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd2d1344e-4e83-4a1b-a0a8-72ae3e8a568b_1518x822.png 1272w, https://substackcdn.com/image/fetch/$s_!J9te!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd2d1344e-4e83-4a1b-a0a8-72ae3e8a568b_1518x822.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Average decoder throughput is just under 4 micro-ops per cycle. The decoders are only active for a small minority of cycles, so they represent a small portion of the already small frontend bandwidth bound category. Certainly wider decoders wouldn’t hurt, but the impact would be insignificant.
  &lt;/p&gt;
  &lt;h1 class=&quot;header-anchor-post&quot;&gt;
   Backend
  &lt;/h1&gt;
  &lt;p&gt;
   Backend bound cases occur when the out-of-order execution engine runs out of entries in its various queues, buffers, and register files. That means it cannot accept more micro-ops from the renamer until it can retire some instructions and free up entries in those structures. In other words, the core has reached the limit of how far it can move ahead of a stalled instruction.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!AEfw!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F33719241-8a7a-4563-a200-c4a7c0321cfd_1129x1093.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!AEfw!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F33719241-8a7a-4563-a200-c4a7c0321cfd_1129x1093.png 424w, https://substackcdn.com/image/fetch/$s_!AEfw!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F33719241-8a7a-4563-a200-c4a7c0321cfd_1129x1093.png 848w, https://substackcdn.com/image/fetch/$s_!AEfw!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F33719241-8a7a-4563-a200-c4a7c0321cfd_1129x1093.png 1272w, https://substackcdn.com/image/fetch/$s_!AEfw!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F33719241-8a7a-4563-a200-c4a7c0321cfd_1129x1093.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/33719241-8a7a-4563-a200-c4a7c0321cfd_1129x1093.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:1093,&quot;width&quot;:1129,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;1093&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!AEfw!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F33719241-8a7a-4563-a200-c4a7c0321cfd_1129x1093.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!AEfw!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F33719241-8a7a-4563-a200-c4a7c0321cfd_1129x1093.png 424w, https://substackcdn.com/image/fetch/$s_!AEfw!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F33719241-8a7a-4563-a200-c4a7c0321cfd_1129x1093.png 848w, https://substackcdn.com/image/fetch/$s_!AEfw!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F33719241-8a7a-4563-a200-c4a7c0321cfd_1129x1093.png 1272w, https://substackcdn.com/image/fetch/$s_!AEfw!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F33719241-8a7a-4563-a200-c4a7c0321cfd_1129x1093.png 1456w&quot; width=&quot;1129&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Zen 5’s integer register file stands out as a “hot” resource, often limiting reordering capacity before the core’s reorder buffer (ROB) fills. There’s a good chunk of resource stalls that performance monitoring events can’t attribute to a more specific category. Beyond that, Zen 5’s backend design has some bright points. The core’s large unified schedulers are rarely a limiting factor, unlike on TaiShan v110. Zen 5’s reorganized FPU places FP register allocation after a large non-scheduling queue, which basically eliminates FP-related reasons in the resource stall breakdown. In fairness, the older Zen 4 also did well in that category, even though its FP non-scheduling queue serves a more limited purpose of handling overflow from the scheduling queue. All of that means Zen 5 can often fill up its 448 entry ROB, and thus keep a lot of instructions in flight to hide backend memory latency.
  &lt;/p&gt;
  &lt;p&gt;
   When the backend fills up, it’s often due to cache and memory latency. Zen 5’s retire stage is often blocked by an incomplete load, and when it is, it tends to remain blocked longer than average, for around 18-20 cycles. That’s a sign that incomplete loads have longer latency than most instructions.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!xEpY!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fff4ce2cc-222c-478a-a04c-e48c69f943e3_1128x641.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!xEpY!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fff4ce2cc-222c-478a-a04c-e48c69f943e3_1128x641.png 424w, https://substackcdn.com/image/fetch/$s_!xEpY!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fff4ce2cc-222c-478a-a04c-e48c69f943e3_1128x641.png 848w, https://substackcdn.com/image/fetch/$s_!xEpY!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fff4ce2cc-222c-478a-a04c-e48c69f943e3_1128x641.png 1272w, https://substackcdn.com/image/fetch/$s_!xEpY!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fff4ce2cc-222c-478a-a04c-e48c69f943e3_1128x641.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/ff4ce2cc-222c-478a-a04c-e48c69f943e3_1128x641.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:641,&quot;width&quot;:1128,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;641&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!xEpY!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fff4ce2cc-222c-478a-a04c-e48c69f943e3_1128x641.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!xEpY!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fff4ce2cc-222c-478a-a04c-e48c69f943e3_1128x641.png 424w, https://substackcdn.com/image/fetch/$s_!xEpY!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fff4ce2cc-222c-478a-a04c-e48c69f943e3_1128x641.png 848w, https://substackcdn.com/image/fetch/$s_!xEpY!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fff4ce2cc-222c-478a-a04c-e48c69f943e3_1128x641.png 1272w, https://substackcdn.com/image/fetch/$s_!xEpY!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fff4ce2cc-222c-478a-a04c-e48c69f943e3_1128x641.png 1456w&quot; width=&quot;1128&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Average L1d miss duration is much longer and broadly comparable to similar measurements on Lion Cove. Curiously, Zen 5 sees higher average L1d miss latency in COD Cold War and Cyberpunk 2077, but lower latency in Palworld. But that’s not because Zen 5 has an easier time in Palworld. Rather, the core sees more L1d misses in Palworld. Those misses are largely caught by L2.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!pzW1!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2f12c30b-0425-44a9-af9c-b15f31bead02_1130x659.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!pzW1!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2f12c30b-0425-44a9-af9c-b15f31bead02_1130x659.png 424w, https://substackcdn.com/image/fetch/$s_!pzW1!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2f12c30b-0425-44a9-af9c-b15f31bead02_1130x659.png 848w, https://substackcdn.com/image/fetch/$s_!pzW1!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2f12c30b-0425-44a9-af9c-b15f31bead02_1130x659.png 1272w, https://substackcdn.com/image/fetch/$s_!pzW1!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2f12c30b-0425-44a9-af9c-b15f31bead02_1130x659.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/2f12c30b-0425-44a9-af9c-b15f31bead02_1130x659.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:659,&quot;width&quot;:1130,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;659&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!pzW1!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2f12c30b-0425-44a9-af9c-b15f31bead02_1130x659.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!pzW1!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2f12c30b-0425-44a9-af9c-b15f31bead02_1130x659.png 424w, https://substackcdn.com/image/fetch/$s_!pzW1!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2f12c30b-0425-44a9-af9c-b15f31bead02_1130x659.png 848w, https://substackcdn.com/image/fetch/$s_!pzW1!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2f12c30b-0425-44a9-af9c-b15f31bead02_1130x659.png 1272w, https://substackcdn.com/image/fetch/$s_!pzW1!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2f12c30b-0425-44a9-af9c-b15f31bead02_1130x659.png 1456w&quot; width=&quot;1130&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Comparing data from AMD and Intel is difficult for reasons beyond the typical margin of error considerations. Intel’s performance monitoring events account for load data sources at the retirement stage, likely by tagging in-flight load instructions with the data source and counting at retirement. AMD counts at the load/store unit, which means Zen 5 may count loads that don’t retire (for example, ones after a mispredicted branch). The closest I can get is using Zen 5’s event for demand data loads. Demand means the access was initiated by an instruction, as opposed to a prefetch. That should minimize the gap, but again, the focus here is on broad trends.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!jDOT!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F34ae5402-d574-418d-9050-b317305a8b28_1140x688.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!jDOT!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F34ae5402-d574-418d-9050-b317305a8b28_1140x688.png 424w, https://substackcdn.com/image/fetch/$s_!jDOT!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F34ae5402-d574-418d-9050-b317305a8b28_1140x688.png 848w, https://substackcdn.com/image/fetch/$s_!jDOT!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F34ae5402-d574-418d-9050-b317305a8b28_1140x688.png 1272w, https://substackcdn.com/image/fetch/$s_!jDOT!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F34ae5402-d574-418d-9050-b317305a8b28_1140x688.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/34ae5402-d574-418d-9050-b317305a8b28_1140x688.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:688,&quot;width&quot;:1140,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;688&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!jDOT!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F34ae5402-d574-418d-9050-b317305a8b28_1140x688.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!jDOT!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F34ae5402-d574-418d-9050-b317305a8b28_1140x688.png 424w, https://substackcdn.com/image/fetch/$s_!jDOT!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F34ae5402-d574-418d-9050-b317305a8b28_1140x688.png 848w, https://substackcdn.com/image/fetch/$s_!jDOT!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F34ae5402-d574-418d-9050-b317305a8b28_1140x688.png 1272w, https://substackcdn.com/image/fetch/$s_!jDOT!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F34ae5402-d574-418d-9050-b317305a8b28_1140x688.png 1456w&quot; width=&quot;1140&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Caveats aside, Palworld seems to make a compelling case for Intel’s 192 KB L1.5d cache. It catches a substantial portion of L1d misses and likely reduces overall load latency compared to Zen 5. On the other hand, Zen 5’s smaller 1 MB L2 has lower latency than Intel’s 3 MB L2 cache. AMD also tends to satisfy a larger percentage of L1d misses from L3 in Cyberpunk 2077 and COD. Intel’s larger L2 is doing its job to keep data closer to the core, though Intel needs it because their desktop platform has comparatively high L3 latency.
  &lt;/p&gt;
  &lt;p&gt;
   On Zen 5, L3 hitrate for demand (as opposed to prefetch) loads comes in at 64.5%, 67.6%, and 55.43% respectively. Most L3 misses head to DRAM. Cross-CCX transfers account for a negligible portion of L3 miss traffic: sampled latency events at the L3 indicate cross-CCX latency is similar to or slightly better than DRAM latency. Therefore cross-CCX transfers are quite performant considering their rarity.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!TsAu!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9995b6c6-40bf-4e48-be95-0762b432d8e9_1105x638.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!TsAu!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9995b6c6-40bf-4e48-be95-0762b432d8e9_1105x638.png 424w, https://substackcdn.com/image/fetch/$s_!TsAu!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9995b6c6-40bf-4e48-be95-0762b432d8e9_1105x638.png 848w, https://substackcdn.com/image/fetch/$s_!TsAu!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9995b6c6-40bf-4e48-be95-0762b432d8e9_1105x638.png 1272w, https://substackcdn.com/image/fetch/$s_!TsAu!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9995b6c6-40bf-4e48-be95-0762b432d8e9_1105x638.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/9995b6c6-40bf-4e48-be95-0762b432d8e9_1105x638.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:638,&quot;width&quot;:1105,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;638&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!TsAu!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9995b6c6-40bf-4e48-be95-0762b432d8e9_1105x638.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!TsAu!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9995b6c6-40bf-4e48-be95-0762b432d8e9_1105x638.png 424w, https://substackcdn.com/image/fetch/$s_!TsAu!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9995b6c6-40bf-4e48-be95-0762b432d8e9_1105x638.png 848w, https://substackcdn.com/image/fetch/$s_!TsAu!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9995b6c6-40bf-4e48-be95-0762b432d8e9_1105x638.png 1272w, https://substackcdn.com/image/fetch/$s_!TsAu!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9995b6c6-40bf-4e48-be95-0762b432d8e9_1105x638.png 1456w&quot; width=&quot;1105&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Performance monitoring data from running these games normally does not support the hypothesis that improving cross-CCX latency is likely to yield significant benefits, on account of their rarity, and better performance than DRAM accesses. DRAM latency from the L3 miss perspective is slightly better in Palworld and Cyberpunk 2077 compared to Intel&#x27;s Arrow Lake, even though the Ryzen 9 9900X was set up with older and slower DDR5. The situation reverses in Call of Duty Cold War, perhaps indicating bursty demands for DRAM bandwidth in that title.
  &lt;/p&gt;
  &lt;h2 class=&quot;header-anchor-post&quot;&gt;
   Forcing the Cross-CCX Latency Issue?
  &lt;/h2&gt;
  &lt;p&gt;
   Running the games above in the normal manner did not generate considerable cross-CCX traffic. Dual-CCD Ryzen parts have the highest clocking cores located on one CCX, and Windows will prefer to schedule threads on higher clocking cores. This naturally makes one CCX handle the bulk of the work from games.
  &lt;/p&gt;
  &lt;p&gt;
   However, I can try to force increased cross-CCX traffic by setting the game process’s core affinity to split it across the Ryzen 9900X’s two CCX-es. I used Cyberpunk’s medium preset with upscaling disabled for the tests above. However for this test, I’m maximizing CPU load by using the low preset, FSR Quality upscaling, and crowd density turned up the maximum setting. I’ve also turned off boost to eliminate the effects of clock speed variation across cores.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!Z5CA!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9337ae44-8ae1-4143-a21f-9bea9680cde4_984x415.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!Z5CA!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9337ae44-8ae1-4143-a21f-9bea9680cde4_984x415.png 424w, https://substackcdn.com/image/fetch/$s_!Z5CA!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9337ae44-8ae1-4143-a21f-9bea9680cde4_984x415.png 848w, https://substackcdn.com/image/fetch/$s_!Z5CA!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9337ae44-8ae1-4143-a21f-9bea9680cde4_984x415.png 1272w, https://substackcdn.com/image/fetch/$s_!Z5CA!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9337ae44-8ae1-4143-a21f-9bea9680cde4_984x415.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/9337ae44-8ae1-4143-a21f-9bea9680cde4_984x415.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:415,&quot;width&quot;:984,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;415&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!Z5CA!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9337ae44-8ae1-4143-a21f-9bea9680cde4_984x415.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!Z5CA!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9337ae44-8ae1-4143-a21f-9bea9680cde4_984x415.png 424w, https://substackcdn.com/image/fetch/$s_!Z5CA!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9337ae44-8ae1-4143-a21f-9bea9680cde4_984x415.png 848w, https://substackcdn.com/image/fetch/$s_!Z5CA!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9337ae44-8ae1-4143-a21f-9bea9680cde4_984x415.png 1272w, https://substackcdn.com/image/fetch/$s_!Z5CA!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9337ae44-8ae1-4143-a21f-9bea9680cde4_984x415.png 1456w&quot; width=&quot;984&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Doing so drops performance by 7% compared to pinning the game to one CCX. Cyberpunk 2077’s built-in benchmark does display a few percentage points of run-to-run variation, but 7% is outside the margin of error. Monitoring all L1D fill sources indicates a clear increase in cross-CCX access. This metric differs from demand accesses and is even less comparable to Lion Cove’s at-retirement account for load sources, because it includes prefetches. However, it does account for cases where a load instruction matches an in-flight fill request previously initiated by a prefetch. There’s also more error because useless prefetches will be included as well.
  &lt;/p&gt;
  &lt;p&gt;
   Performance monitoring events attribute this to cross-CCX accesses, which now account for a significant minority of off-CCX accesses. Fewer accesses are serviced by low latency data sources within the CCX, leading to reduced performance.
  &lt;/p&gt;
  &lt;h2 class=&quot;header-anchor-post&quot;&gt;
   Final Words
  &lt;/h2&gt;
  &lt;p&gt;
   Games are difficult, low-IPC workloads thanks to poor locality on both the data and instruction side. Zen 5’s lower cache and memory latency can give it an advantage on the data side, but the core remains underutilized due to frontend latency. Lion Cove’s 64 KB L1i is a notable advantage, unfortunately blunted by high L3 and DRAM latency on the Arrow Lake desktop platform. It’s interesting how Intel and AMD’s current cores face similar challenges in games, but comparatively struggle on different ends of the core pipeline.
  &lt;/p&gt;
  &lt;p&gt;
   From a higher level view, AMD and Intel’s designs this generation appear to prioritize peak throughput rather than improving performance in difficult cases. A wider core with more execution units will provide the biggest benefits in high IPC workloads, where the core may spend a significant portion of time with plenty of instructions and data to chug through; SPEC CPU2017’s 538.imagick and 548.exchange2 are excellent examples. In contrast, workload with low average IPC will have far fewer “easy” high IPC sequences, limiting potential benefits from increased core throughput.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!QYV0!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4a51beb1-56af-4958-95cc-05e7925a6a8a_1196x797.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!QYV0!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4a51beb1-56af-4958-95cc-05e7925a6a8a_1196x797.png 424w, https://substackcdn.com/image/fetch/$s_!QYV0!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4a51beb1-56af-4958-95cc-05e7925a6a8a_1196x797.png 848w, https://substackcdn.com/image/fetch/$s_!QYV0!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4a51beb1-56af-4958-95cc-05e7925a6a8a_1196x797.png 1272w, https://substackcdn.com/image/fetch/$s_!QYV0!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4a51beb1-56af-4958-95cc-05e7925a6a8a_1196x797.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/4a51beb1-56af-4958-95cc-05e7925a6a8a_1196x797.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:797,&quot;width&quot;:1196,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;797&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!QYV0!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4a51beb1-56af-4958-95cc-05e7925a6a8a_1196x797.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!QYV0!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4a51beb1-56af-4958-95cc-05e7925a6a8a_1196x797.png 424w, https://substackcdn.com/image/fetch/$s_!QYV0!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4a51beb1-56af-4958-95cc-05e7925a6a8a_1196x797.png 848w, https://substackcdn.com/image/fetch/$s_!QYV0!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4a51beb1-56af-4958-95cc-05e7925a6a8a_1196x797.png 1272w, https://substackcdn.com/image/fetch/$s_!QYV0!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4a51beb1-56af-4958-95cc-05e7925a6a8a_1196x797.png 1456w&quot; width=&quot;1196&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Of course, Zen 5 and Lion Cove both take measures to tackle those lower IPC workloads. Better branch prediction and increased reordering depth are staples of each new CPU generation; they’re present on Zen 5 and Lion Cove, too. But pushing both forwards runs into diminishing returns: catching the few remaining difficult branches likely requires disproportionate investment in branch prediction resources. Similarly, increasing reordering capacity requires proportionate growth in register files, load/store queues, schedulers, and other expensive core structures.
  &lt;/p&gt;
  &lt;p&gt;
   Besides making the core more latency-tolerant, AMD and Intel could try to reduce latency through better caching. Intel’s 64 KB L1i deserves credit here, though it’s not new to Lion Cove and was present on the prior Redwood Cove core as well. Zen 5’s L2/L3 setup is largely unchanged from Zen 4. L2 caches are still 1 MB, and the CCX-shared 32 MB or 96 MB (with X3D) L3 is still in place. A hypothetical core with both Intel’s larger L1i and AMD’s low latency caching setup could be quite strong indeed, and any further tweaks in the cache hierarchy would further sweeten the deal.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!iXci!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F11ed84de-7087-47b4-b1d2-3d93bce58661_1600x370.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!iXci!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F11ed84de-7087-47b4-b1d2-3d93bce58661_1600x370.png 424w, https://substackcdn.com/image/fetch/$s_!iXci!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F11ed84de-7087-47b4-b1d2-3d93bce58661_1600x370.png 848w, https://substackcdn.com/image/fetch/$s_!iXci!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F11ed84de-7087-47b4-b1d2-3d93bce58661_1600x370.png 1272w, https://substackcdn.com/image/fetch/$s_!iXci!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F11ed84de-7087-47b4-b1d2-3d93bce58661_1600x370.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/11ed84de-7087-47b4-b1d2-3d93bce58661_1600x370.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:337,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;337&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!iXci!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F11ed84de-7087-47b4-b1d2-3d93bce58661_1600x370.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!iXci!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F11ed84de-7087-47b4-b1d2-3d93bce58661_1600x370.png 424w, https://substackcdn.com/image/fetch/$s_!iXci!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F11ed84de-7087-47b4-b1d2-3d93bce58661_1600x370.png 848w, https://substackcdn.com/image/fetch/$s_!iXci!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F11ed84de-7087-47b4-b1d2-3d93bce58661_1600x370.png 1272w, https://substackcdn.com/image/fetch/$s_!iXci!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F11ed84de-7087-47b4-b1d2-3d93bce58661_1600x370.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
      &lt;div&gt;
      &lt;/div&gt;
     &lt;/div&gt;
    &lt;/a&gt;
    &lt;figcaption class=&quot;image-caption&quot;&gt;
     Data captured from Windows Performance Recorder during a Cyberpunk 2077 benchmark run
    &lt;/figcaption&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   System topology is potentially an emerging concern. High core counts on today’s flagship desktop chips are a welcome change from the quad core pattern of the early 2010s, but achieving high core counts with a scalable, cost-effective design is always a challenge. AMD approaches this by splitting cores into clusters (CCX-es), which has the downside of increased latency when a core on one cluster needs to read data recently written by a core on another cluster. The three games I tested do the bulk of their work on one CCX, but a game that spills out of one CCX can see its multithreaded performance scaling limited by this cross-CCX latency.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!qX8l!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4e88fee7-f756-4b44-b4f1-827e5c43b9e5_1278x718.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!qX8l!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4e88fee7-f756-4b44-b4f1-827e5c43b9e5_1278x718.png 424w, https://substackcdn.com/image/fetch/$s_!qX8l!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4e88fee7-f756-4b44-b4f1-827e5c43b9e5_1278x718.png 848w, https://substackcdn.com/image/fetch/$s_!qX8l!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4e88fee7-f756-4b44-b4f1-827e5c43b9e5_1278x718.png 1272w, https://substackcdn.com/image/fetch/$s_!qX8l!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4e88fee7-f756-4b44-b4f1-827e5c43b9e5_1278x718.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/4e88fee7-f756-4b44-b4f1-827e5c43b9e5_1278x718.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:718,&quot;width&quot;:1278,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;718&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!qX8l!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4e88fee7-f756-4b44-b4f1-827e5c43b9e5_1278x718.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!qX8l!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4e88fee7-f756-4b44-b4f1-827e5c43b9e5_1278x718.png 424w, https://substackcdn.com/image/fetch/$s_!qX8l!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4e88fee7-f756-4b44-b4f1-827e5c43b9e5_1278x718.png 848w, https://substackcdn.com/image/fetch/$s_!qX8l!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4e88fee7-f756-4b44-b4f1-827e5c43b9e5_1278x718.png 1272w, https://substackcdn.com/image/fetch/$s_!qX8l!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4e88fee7-f756-4b44-b4f1-827e5c43b9e5_1278x718.png 1456w&quot; width=&quot;1278&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
    &lt;figcaption class=&quot;image-caption&quot;&gt;
     AMD’s slide from a presentation on optimizing for Zen 2, indicating a higher cost for cross-CCX cache refills compared intra-CCX refills
    &lt;/figcaption&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   &lt;span&gt;
    For now, this doesn’t appear to be a major problem, contrary to the criticism AMD often takes for high cross-CCX latency. Forcing a game to run on three cores per CCX is a very artificial scenario, and AMD has not used a split CCX setup on their low end 6-core parts since Zen 2.
   &lt;/span&gt;
   &lt;a href=&quot;https://www.youtube.com/watch?v=iyA9DRTJtyE&quot; rel=&quot;&quot;&gt;
    Data from
   &lt;/a&gt;
   &lt;a href=&quot;https://www.techspot.com/review/2915-amd-ryzen-7-9800x3d/&quot; rel=&quot;&quot;&gt;
    other reviewers
   &lt;/a&gt;
   &lt;span&gt;
    covering a larger variety of games suggests multi-CCX parts turn in similar performance to their single-CCX counterparts, with the exception of Zen 4 parts where the two CCX-es have very different clock speeds and cache capacities. AMD’s practice of placing all fast cores on one CCD and more recently, parking cores on a CCD, seem to be working well.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   &lt;span&gt;
    Similarly, Intel’s “Thread Director” has done a good job of ensuring games don’t lose performance by being scheduled onto the density optimized E-Cores.
   &lt;/span&gt;
   &lt;a href=&quot;https://www.techpowerup.com/review/rtx-4090-53-games-core-i9-13900k-e-cores-enabled-vs-disabled/3.html&quot; rel=&quot;&quot;&gt;
    TechPowerUp
   &lt;/a&gt;
   &lt;span&gt;
    notes performance differences with E-Cores enabled or disabled rarely exceeded 10% in either direction. Thus the core count scaling techniques employed by both AMD and Intel don’t impact gaming performance to a significant degree. Today’s high end core counts may become mainstream in tomorrow’s midrange or low end chips, and future games may spill out of a 9900X’s CCX or a 285K’s P-Cores. But even in that case, plain cache and memory latency will likely remain the biggest factors holding back gaming performance.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   With that in mind, I look forward to seeing what next generation cores will look like. AMD, Intel, and any other CPU maker has to optimize their cores for a massive variety of workloads. Games are just one workload in the mix, alongside productivity applications, high performance computing, and server-side code. However, I would be pleased if the focus shifted away from pushing high IPC cases to even higher IPC, towards maintaining better performance in difficult low IPC cases.
  &lt;/p&gt;
  &lt;p&gt;
   &lt;span&gt;
    If you like the content then consider heading over to the
   &lt;/span&gt;
   &lt;a href=&quot;https://www.patreon.com/ChipsandCheese&quot; rel=&quot;&quot;&gt;
    Patreon
   &lt;/a&gt;
   &lt;span&gt;
    or
   &lt;/span&gt;
   &lt;a href=&quot;https://www.paypal.com/donate/?hosted_button_id=4EMPH66SBGVSQ&quot; rel=&quot;&quot;&gt;
    PayPal
   &lt;/a&gt;
   &lt;span&gt;
    if you want to toss a few bucks to Chips and Cheese. Also consider joining the
   &lt;/span&gt;
   &lt;a href=&quot;https://discord.gg/TwVnRhxgY2&quot; rel=&quot;&quot;&gt;
    Discord
   &lt;/a&gt;
   &lt;span&gt;
    .
   &lt;/span&gt;
  &lt;/p&gt;
 &lt;/div&gt;
&lt;/div&gt;

</description>
</item>
<item>
<title> Huawei&#x27;s Kunpeng 920 and TaiShan v110 CPU Architecture </title>
<link>https://chipsandcheese.com/p/huaweis-kunpeng-920-and-taishan-v110</link>
<pubDate>Tue, 22 Jul 2025 23:48:18 -0000</pubDate>
<description>
&lt;div class=&quot;available-content&quot;&gt;
 &lt;div class=&quot;body markup&quot; dir=&quot;auto&quot;&gt;
  &lt;p&gt;
   Huawei is one of China’s largest technology companies, with enterprise products spanning everything from servers to networking equipment. All of those products require advanced chips to remain relevant. Huawei has invested in developing its own chips with its HiSilicon subsidiary, which lets Huawei both tailor chip designs to its requirements and safeguard its business against supply chain disruptions. Kunpeng 920 is a chiplet-based CPU design that targets a variety of enterprise applications including cloud servers, AI accelerators, and wireless base stations.
  &lt;/p&gt;
  &lt;p&gt;
   Here, we’re looking at a 24 core Kunpeng 920 CPU subsystem found in a Huawei network card.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!o1U3!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc70063cb-bc34-45de-b3d6-e5e3525c6f67_790x523.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!o1U3!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc70063cb-bc34-45de-b3d6-e5e3525c6f67_790x523.png 424w, https://substackcdn.com/image/fetch/$s_!o1U3!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc70063cb-bc34-45de-b3d6-e5e3525c6f67_790x523.png 848w, https://substackcdn.com/image/fetch/$s_!o1U3!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc70063cb-bc34-45de-b3d6-e5e3525c6f67_790x523.png 1272w, https://substackcdn.com/image/fetch/$s_!o1U3!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc70063cb-bc34-45de-b3d6-e5e3525c6f67_790x523.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/c70063cb-bc34-45de-b3d6-e5e3525c6f67_790x523.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:523,&quot;width&quot;:790,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:false,&quot;topImage&quot;:true,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; fetchpriority=&quot;high&quot; height=&quot;523&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!o1U3!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc70063cb-bc34-45de-b3d6-e5e3525c6f67_790x523.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!o1U3!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc70063cb-bc34-45de-b3d6-e5e3525c6f67_790x523.png 424w, https://substackcdn.com/image/fetch/$s_!o1U3!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc70063cb-bc34-45de-b3d6-e5e3525c6f67_790x523.png 848w, https://substackcdn.com/image/fetch/$s_!o1U3!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc70063cb-bc34-45de-b3d6-e5e3525c6f67_790x523.png 1272w, https://substackcdn.com/image/fetch/$s_!o1U3!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc70063cb-bc34-45de-b3d6-e5e3525c6f67_790x523.png 1456w&quot; width=&quot;790&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
    &lt;figcaption class=&quot;image-caption&quot;&gt;
     &lt;span&gt;
      Image from a Huawei Research publication
     &lt;/span&gt;
     &lt;sup&gt;
      3
     &lt;/sup&gt;
    &lt;/figcaption&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Special thanks goes out to Brutus for setting this one up!
  &lt;/p&gt;
  &lt;h1 class=&quot;header-anchor-post&quot;&gt;
   System Architecture
  &lt;/h1&gt;
  &lt;p&gt;
   Kunpeng 920 uses multiple dies with TSMC’s CoWoS packaging to implement what HiSilicon calls “LEGO-based production”. HiSilicon’s chiplet strategy uses dies of equal height placed side-by-side, with compute dies in the center and IO dies on the side. Compute dies are called Super CPU Clusters (SCCLs) and include DDR4 controllers on the top and bottom edges of the die, which uses all of the chip’s edge area for off-chip interfaces. The SCCLs are fabricated on TSMC’s 7nm process and contain up to 32 TaiShan v110 CPU cores with L3 cache. A separate IO die uses TSMC’s 16nm node, and connects to PCIe, SATA, and other lower speed IO. All dies sit on top of a 65nm interposer.
  &lt;/p&gt;
  &lt;blockquote&gt;
   &lt;p&gt;
    Inter die bandwidth is able to achieve up to 400 GB/s with coherency
   &lt;/p&gt;
   &lt;ul&gt;
    &lt;li&gt;
     &lt;p&gt;
      Kunpeng 920: The First 7-nm Chiplet-Based 64-Core ARM SoC for Cloud Services
     &lt;/p&gt;
    &lt;/li&gt;
   &lt;/ul&gt;
  &lt;/blockquote&gt;
  &lt;p&gt;
   HiSilicon’s LEGO-based production has parallels to Intel’s chiplet strategy, which similarly emphasizes high cross-die bandwidth at the cost of more expensive packaging technologies and tighter distance limits between dies. Like Intel’s Sapphire Rapids, placing memory controllers at the CPU dies lets smaller SKUs access DRAM without needing to route memory requests through another chiplet. Sapphire Rapids uses its high cross-die bandwidth to make its multi-die setup appear monolithic to software. L3 and DRAM resources can be seamlessly shared across dies, in contrast to a NUMA setup where software has to work with different memory pools.Strangely, I wasn’t able to find any evidence that Kunpeng 920 could combine L3 and DRAM resources across multiple SCCLs.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!T-EC!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7e257a03-81dc-4693-90fc-55c7f5f862c9_1244x664.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!T-EC!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7e257a03-81dc-4693-90fc-55c7f5f862c9_1244x664.png 424w, https://substackcdn.com/image/fetch/$s_!T-EC!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7e257a03-81dc-4693-90fc-55c7f5f862c9_1244x664.png 848w, https://substackcdn.com/image/fetch/$s_!T-EC!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7e257a03-81dc-4693-90fc-55c7f5f862c9_1244x664.png 1272w, https://substackcdn.com/image/fetch/$s_!T-EC!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7e257a03-81dc-4693-90fc-55c7f5f862c9_1244x664.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/7e257a03-81dc-4693-90fc-55c7f5f862c9_1244x664.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:664,&quot;width&quot;:1244,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:false,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;664&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!T-EC!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7e257a03-81dc-4693-90fc-55c7f5f862c9_1244x664.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!T-EC!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7e257a03-81dc-4693-90fc-55c7f5f862c9_1244x664.png 424w, https://substackcdn.com/image/fetch/$s_!T-EC!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7e257a03-81dc-4693-90fc-55c7f5f862c9_1244x664.png 848w, https://substackcdn.com/image/fetch/$s_!T-EC!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7e257a03-81dc-4693-90fc-55c7f5f862c9_1244x664.png 1272w, https://substackcdn.com/image/fetch/$s_!T-EC!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7e257a03-81dc-4693-90fc-55c7f5f862c9_1244x664.png 1456w&quot; width=&quot;1244&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
    &lt;figcaption class=&quot;image-caption&quot;&gt;
     &lt;span&gt;
      Figure from a paper
     &lt;/span&gt;
     &lt;sup&gt;
      4
     &lt;/sup&gt;
     &lt;span&gt;
      showing dies exposed as different NUMA nodes. Sample numactl output from other sources also show each die acting as a separate node
     &lt;/span&gt;
    &lt;/figcaption&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Kunpeng 920 supports dual and quad socket configurations using Huawei’s “Hydra” links, which helps scale core counts further. Contemporary server processors with similar per-socket core counts, like Ampere Altra and AMD’s Zen 2, only scale up to dual socket configurations.
  &lt;/p&gt;
  &lt;h2 class=&quot;header-anchor-post&quot;&gt;
   Compute Die Topology and L3 Cache
  &lt;/h2&gt;
  &lt;p&gt;
   TaiShan v110 cores within a SCCL compute die are grouped into quad core CPU clusters (CCLs). A bidirectional ring bus links blocks on the compute die, including CPU clusters, L3 data banks, memory controllers, and links to other dies. L3 data banks are paired with CPU clusters, but appear to sit on separate ring stops instead of sharing one with a CPU cluster as they do on Intel and AMD designs. A fully enabled SCCL with eight CPU clusters has 21 ring stops. Our 24 core SKU likely has two CPU clusters and L3 banks disabled, though it’s not clear whether the ring stops remain active
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!9aLv!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F67671ec9-f29d-4dab-9e71-9130be53e49d_1223x785.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!9aLv!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F67671ec9-f29d-4dab-9e71-9130be53e49d_1223x785.png 424w, https://substackcdn.com/image/fetch/$s_!9aLv!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F67671ec9-f29d-4dab-9e71-9130be53e49d_1223x785.png 848w, https://substackcdn.com/image/fetch/$s_!9aLv!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F67671ec9-f29d-4dab-9e71-9130be53e49d_1223x785.png 1272w, https://substackcdn.com/image/fetch/$s_!9aLv!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F67671ec9-f29d-4dab-9e71-9130be53e49d_1223x785.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/67671ec9-f29d-4dab-9e71-9130be53e49d_1223x785.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:785,&quot;width&quot;:1223,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;785&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!9aLv!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F67671ec9-f29d-4dab-9e71-9130be53e49d_1223x785.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!9aLv!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F67671ec9-f29d-4dab-9e71-9130be53e49d_1223x785.png 424w, https://substackcdn.com/image/fetch/$s_!9aLv!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F67671ec9-f29d-4dab-9e71-9130be53e49d_1223x785.png 848w, https://substackcdn.com/image/fetch/$s_!9aLv!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F67671ec9-f29d-4dab-9e71-9130be53e49d_1223x785.png 1272w, https://substackcdn.com/image/fetch/$s_!9aLv!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F67671ec9-f29d-4dab-9e71-9130be53e49d_1223x785.png 1456w&quot; width=&quot;1223&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Unusually, Huawei places L3 tags at the CPU clusters rather than at the L3 data banks. The L3 can also operate in different modes. “Shared” mode behaves like the L3 on AMD, Arm, and Intel chips, using all L3 banks together to form a large shared cache. Presumably the physical address space is hashed across L3 banks, evenly distributing accesses across the data banks to scale bandwidth while preventing data duplication. “Private” mode makes a L3 bank private to the closest CPU cluster, improving L3 performance by taking much of the interconnect out of the picture. A third “partition” mode can adjust each core cluster’s private L3 capacity on the fly. Huawei’s paper implies partition mode can also dynamically adjust L3 policy between shared and private mode, handling situations where different tasks or even phases of the same task prefer private or shared L3 behavior.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!Ftec!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F82d85077-201a-4bb1-8f6c-8b52c9cee5ee_606x544.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!Ftec!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F82d85077-201a-4bb1-8f6c-8b52c9cee5ee_606x544.png 424w, https://substackcdn.com/image/fetch/$s_!Ftec!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F82d85077-201a-4bb1-8f6c-8b52c9cee5ee_606x544.png 848w, https://substackcdn.com/image/fetch/$s_!Ftec!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F82d85077-201a-4bb1-8f6c-8b52c9cee5ee_606x544.png 1272w, https://substackcdn.com/image/fetch/$s_!Ftec!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F82d85077-201a-4bb1-8f6c-8b52c9cee5ee_606x544.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/82d85077-201a-4bb1-8f6c-8b52c9cee5ee_606x544.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:544,&quot;width&quot;:606,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;544&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!Ftec!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F82d85077-201a-4bb1-8f6c-8b52c9cee5ee_606x544.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!Ftec!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F82d85077-201a-4bb1-8f6c-8b52c9cee5ee_606x544.png 424w, https://substackcdn.com/image/fetch/$s_!Ftec!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F82d85077-201a-4bb1-8f6c-8b52c9cee5ee_606x544.png 848w, https://substackcdn.com/image/fetch/$s_!Ftec!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F82d85077-201a-4bb1-8f6c-8b52c9cee5ee_606x544.png 1272w, https://substackcdn.com/image/fetch/$s_!Ftec!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F82d85077-201a-4bb1-8f6c-8b52c9cee5ee_606x544.png 1456w&quot; width=&quot;606&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
    &lt;figcaption class=&quot;image-caption&quot;&gt;
     &lt;span&gt;
      From Huawei’s paper
     &lt;/span&gt;
     &lt;sup&gt;
      3
     &lt;/sup&gt;
    &lt;/figcaption&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Partition mode is the default, and the only mode on the test system. Some Kunpeng 920 systems allow setting L3 cache policies in the BIOS, but the test system does not have a BIOS interface and cache control settings are not exposed through UEFI variables. With partition mode, a core sees reasonable 36 cycle L3 latency out to just under 4 MB. Latency gradually increases at larger test sizes as the private L3 portion expands to include nearby L3 slices. Finally, latency exceeds 90 cycles as test sizes approach L3 capacity.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!sxUH!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5fa180da-8562-4f1a-a3f8-4b8fc1b9aedd_1600x727.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!sxUH!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5fa180da-8562-4f1a-a3f8-4b8fc1b9aedd_1600x727.png 424w, https://substackcdn.com/image/fetch/$s_!sxUH!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5fa180da-8562-4f1a-a3f8-4b8fc1b9aedd_1600x727.png 848w, https://substackcdn.com/image/fetch/$s_!sxUH!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5fa180da-8562-4f1a-a3f8-4b8fc1b9aedd_1600x727.png 1272w, https://substackcdn.com/image/fetch/$s_!sxUH!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5fa180da-8562-4f1a-a3f8-4b8fc1b9aedd_1600x727.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/5fa180da-8562-4f1a-a3f8-4b8fc1b9aedd_1600x727.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:662,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;662&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!sxUH!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5fa180da-8562-4f1a-a3f8-4b8fc1b9aedd_1600x727.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!sxUH!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5fa180da-8562-4f1a-a3f8-4b8fc1b9aedd_1600x727.png 424w, https://substackcdn.com/image/fetch/$s_!sxUH!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5fa180da-8562-4f1a-a3f8-4b8fc1b9aedd_1600x727.png 848w, https://substackcdn.com/image/fetch/$s_!sxUH!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5fa180da-8562-4f1a-a3f8-4b8fc1b9aedd_1600x727.png 1272w, https://substackcdn.com/image/fetch/$s_!sxUH!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5fa180da-8562-4f1a-a3f8-4b8fc1b9aedd_1600x727.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
    &lt;figcaption class=&quot;image-caption&quot;&gt;
     Indexed addressing used for simplicity, subtract ~1.5 cycles (~.58 ns) to get latency with simple addressing
    &lt;/figcaption&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   If another core traverses the same test array, L3 latency becomes uniformly high throughout its capacity range. Latency reaches the &amp;gt;90 cycle range even when the test array only slightly spills out of L2, suggesting the L3 is operating in shared mode. Surprisingly, data sharing between two cores in the same cluster triggers similar behavior. Perhaps the L3 enters shared mode when cachelines are in shared state, or can’t cache lines in shared state within a cluster’s private L3 partition.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!Zk6c!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4c65d852-a701-4458-adda-85363250497b_486x634.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!Zk6c!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4c65d852-a701-4458-adda-85363250497b_486x634.png 424w, https://substackcdn.com/image/fetch/$s_!Zk6c!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4c65d852-a701-4458-adda-85363250497b_486x634.png 848w, https://substackcdn.com/image/fetch/$s_!Zk6c!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4c65d852-a701-4458-adda-85363250497b_486x634.png 1272w, https://substackcdn.com/image/fetch/$s_!Zk6c!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4c65d852-a701-4458-adda-85363250497b_486x634.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/4c65d852-a701-4458-adda-85363250497b_486x634.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:634,&quot;width&quot;:486,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;634&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!Zk6c!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4c65d852-a701-4458-adda-85363250497b_486x634.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!Zk6c!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4c65d852-a701-4458-adda-85363250497b_486x634.png 424w, https://substackcdn.com/image/fetch/$s_!Zk6c!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4c65d852-a701-4458-adda-85363250497b_486x634.png 848w, https://substackcdn.com/image/fetch/$s_!Zk6c!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4c65d852-a701-4458-adda-85363250497b_486x634.png 1272w, https://substackcdn.com/image/fetch/$s_!Zk6c!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4c65d852-a701-4458-adda-85363250497b_486x634.png 1456w&quot; width=&quot;486&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   This isn’t always an optimal strategy. For example, two cores sharing a 2 MB array would be better served with that array kept within private L3 partitions. Data duplication isn’t a problem if the L3 isn’t under capacity pressure in the first place. Lack of a special case for data sharing within a cluster is also baffling.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!3WLu!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7b87e39a-c137-48eb-b500-e513b1ed5ff3_1600x747.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!3WLu!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7b87e39a-c137-48eb-b500-e513b1ed5ff3_1600x747.png 424w, https://substackcdn.com/image/fetch/$s_!3WLu!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7b87e39a-c137-48eb-b500-e513b1ed5ff3_1600x747.png 848w, https://substackcdn.com/image/fetch/$s_!3WLu!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7b87e39a-c137-48eb-b500-e513b1ed5ff3_1600x747.png 1272w, https://substackcdn.com/image/fetch/$s_!3WLu!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7b87e39a-c137-48eb-b500-e513b1ed5ff3_1600x747.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/7b87e39a-c137-48eb-b500-e513b1ed5ff3_1600x747.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:680,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;680&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!3WLu!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7b87e39a-c137-48eb-b500-e513b1ed5ff3_1600x747.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!3WLu!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7b87e39a-c137-48eb-b500-e513b1ed5ff3_1600x747.png 424w, https://substackcdn.com/image/fetch/$s_!3WLu!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7b87e39a-c137-48eb-b500-e513b1ed5ff3_1600x747.png 848w, https://substackcdn.com/image/fetch/$s_!3WLu!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7b87e39a-c137-48eb-b500-e513b1ed5ff3_1600x747.png 1272w, https://substackcdn.com/image/fetch/$s_!3WLu!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7b87e39a-c137-48eb-b500-e513b1ed5ff3_1600x747.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   From one angle, Kunpeng 920’s partition mode is an advantage because it exploits how L3 banks are placed closer to certain cores. AMD, Intel, and most Arm chips have the same non-uniform L3 latency characteristics under the hood, but don’t try to place L3 data closer to the core using it. From another angle though, partition mode tries to cover for poor interconnect performance. Kunpeng 920 has worse L3 latency than Intel’s Sapphire Rapids when the L3 is operating in shared mode, or when a single core uses the entire L3. That’s brutal with just 512 KB of L2 per core. I lean towards the latter view because even core-private accesses to the closest L3 slice have the same cycle count latency as Zen 2’s L3, which distributes accesses across L3 banks. Zen 2 maintains uniformly low latency throughout the L3 capacity range with either a shared or private read pattern. Thus Kunpeng 920’s partition mode is best seen as a mechanism that can sometimes cover for a high latency interconnect.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!u45P!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F448038f4-17c2-4d4f-909d-8b3fae135a86_1600x728.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!u45P!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F448038f4-17c2-4d4f-909d-8b3fae135a86_1600x728.png 424w, https://substackcdn.com/image/fetch/$s_!u45P!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F448038f4-17c2-4d4f-909d-8b3fae135a86_1600x728.png 848w, https://substackcdn.com/image/fetch/$s_!u45P!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F448038f4-17c2-4d4f-909d-8b3fae135a86_1600x728.png 1272w, https://substackcdn.com/image/fetch/$s_!u45P!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F448038f4-17c2-4d4f-909d-8b3fae135a86_1600x728.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/448038f4-17c2-4d4f-909d-8b3fae135a86_1600x728.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:662,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;662&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!u45P!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F448038f4-17c2-4d4f-909d-8b3fae135a86_1600x728.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!u45P!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F448038f4-17c2-4d4f-909d-8b3fae135a86_1600x728.png 424w, https://substackcdn.com/image/fetch/$s_!u45P!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F448038f4-17c2-4d4f-909d-8b3fae135a86_1600x728.png 848w, https://substackcdn.com/image/fetch/$s_!u45P!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F448038f4-17c2-4d4f-909d-8b3fae135a86_1600x728.png 1272w, https://substackcdn.com/image/fetch/$s_!u45P!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F448038f4-17c2-4d4f-909d-8b3fae135a86_1600x728.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   A quad core TaiShan v110 cluster can achieve 21.7 GB/s of L3 read bandwidth, so Kunpeng 920 has cluster-level bandwidth pinch points much like with Intel’s E-Core clusters. However, those bandwidth pinch points are more severe on Kunpeng 920. Bandwidth contention from sibling cores within a cluster can bring L3 latency to over 80 ns. Intel’s design also sees a latency increase, as tested on Skymont, but has overall lower latency and higher bandwidth.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!NSCx!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9d967ef5-3713-4e33-8e81-90f4a97087bd_1041x600.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!NSCx!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9d967ef5-3713-4e33-8e81-90f4a97087bd_1041x600.png 424w, https://substackcdn.com/image/fetch/$s_!NSCx!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9d967ef5-3713-4e33-8e81-90f4a97087bd_1041x600.png 848w, https://substackcdn.com/image/fetch/$s_!NSCx!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9d967ef5-3713-4e33-8e81-90f4a97087bd_1041x600.png 1272w, https://substackcdn.com/image/fetch/$s_!NSCx!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9d967ef5-3713-4e33-8e81-90f4a97087bd_1041x600.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/9d967ef5-3713-4e33-8e81-90f4a97087bd_1041x600.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:600,&quot;width&quot;:1041,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;600&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!NSCx!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9d967ef5-3713-4e33-8e81-90f4a97087bd_1041x600.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!NSCx!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9d967ef5-3713-4e33-8e81-90f4a97087bd_1041x600.png 424w, https://substackcdn.com/image/fetch/$s_!NSCx!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9d967ef5-3713-4e33-8e81-90f4a97087bd_1041x600.png 848w, https://substackcdn.com/image/fetch/$s_!NSCx!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9d967ef5-3713-4e33-8e81-90f4a97087bd_1041x600.png 1272w, https://substackcdn.com/image/fetch/$s_!NSCx!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9d967ef5-3713-4e33-8e81-90f4a97087bd_1041x600.png 1456w&quot; width=&quot;1041&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   DRAM access is provided by a pair of dual channel DDR4 controllers positioned at the top and bottom edges of the compute die, which are connected to 32 GB of DDR4-2400 in the test setup. Read bandwidth was measured at 63 GB/s using a read-only pattern. Unloaded latency is good for a server chip at 96 ns, though latency quickly steps up to over 100 ns under moderate bandwidth load. Pushing bandwidth limits can send latency beyond 300 ns. While not great, it’s better controlled than the near 600 ns latency that Qualcomm Centriq can reach.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!Vk7r!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F17ac7fa2-08ba-4fda-b303-99d9bef4a92a_1600x772.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!Vk7r!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F17ac7fa2-08ba-4fda-b303-99d9bef4a92a_1600x772.png 424w, https://substackcdn.com/image/fetch/$s_!Vk7r!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F17ac7fa2-08ba-4fda-b303-99d9bef4a92a_1600x772.png 848w, https://substackcdn.com/image/fetch/$s_!Vk7r!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F17ac7fa2-08ba-4fda-b303-99d9bef4a92a_1600x772.png 1272w, https://substackcdn.com/image/fetch/$s_!Vk7r!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F17ac7fa2-08ba-4fda-b303-99d9bef4a92a_1600x772.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/17ac7fa2-08ba-4fda-b303-99d9bef4a92a_1600x772.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:703,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;703&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!Vk7r!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F17ac7fa2-08ba-4fda-b303-99d9bef4a92a_1600x772.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!Vk7r!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F17ac7fa2-08ba-4fda-b303-99d9bef4a92a_1600x772.png 424w, https://substackcdn.com/image/fetch/$s_!Vk7r!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F17ac7fa2-08ba-4fda-b303-99d9bef4a92a_1600x772.png 848w, https://substackcdn.com/image/fetch/$s_!Vk7r!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F17ac7fa2-08ba-4fda-b303-99d9bef4a92a_1600x772.png 1272w, https://substackcdn.com/image/fetch/$s_!Vk7r!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F17ac7fa2-08ba-4fda-b303-99d9bef4a92a_1600x772.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;h2 class=&quot;header-anchor-post&quot;&gt;
   Core to Core Latency Test
  &lt;/h2&gt;
  &lt;p&gt;
   Kunpeng 920 delivers reasonable latency when bouncing cachelines within a quad core cluster. Cross-cluster accesses incur significantly higher latency, and likely vary depending on where the shared cacheline is homed.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!c1TO!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F07ae20e7-0280-4a7b-b086-8daa12fad30f_997x518.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!c1TO!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F07ae20e7-0280-4a7b-b086-8daa12fad30f_997x518.png 424w, https://substackcdn.com/image/fetch/$s_!c1TO!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F07ae20e7-0280-4a7b-b086-8daa12fad30f_997x518.png 848w, https://substackcdn.com/image/fetch/$s_!c1TO!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F07ae20e7-0280-4a7b-b086-8daa12fad30f_997x518.png 1272w, https://substackcdn.com/image/fetch/$s_!c1TO!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F07ae20e7-0280-4a7b-b086-8daa12fad30f_997x518.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/07ae20e7-0280-4a7b-b086-8daa12fad30f_997x518.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:518,&quot;width&quot;:997,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;518&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!c1TO!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F07ae20e7-0280-4a7b-b086-8daa12fad30f_997x518.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!c1TO!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F07ae20e7-0280-4a7b-b086-8daa12fad30f_997x518.png 424w, https://substackcdn.com/image/fetch/$s_!c1TO!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F07ae20e7-0280-4a7b-b086-8daa12fad30f_997x518.png 848w, https://substackcdn.com/image/fetch/$s_!c1TO!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F07ae20e7-0280-4a7b-b086-8daa12fad30f_997x518.png 1272w, https://substackcdn.com/image/fetch/$s_!c1TO!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F07ae20e7-0280-4a7b-b086-8daa12fad30f_997x518.png 1456w&quot; width=&quot;997&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Latency is higher for both the intra-cluster and cross-cluster cases compared to AMD’s Zen 2, at least on a desktop platform.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!grrM!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F805776d2-1a3e-486e-95e6-ae64bc16d3bb_1319x679.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!grrM!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F805776d2-1a3e-486e-95e6-ae64bc16d3bb_1319x679.png 424w, https://substackcdn.com/image/fetch/$s_!grrM!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F805776d2-1a3e-486e-95e6-ae64bc16d3bb_1319x679.png 848w, https://substackcdn.com/image/fetch/$s_!grrM!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F805776d2-1a3e-486e-95e6-ae64bc16d3bb_1319x679.png 1272w, https://substackcdn.com/image/fetch/$s_!grrM!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F805776d2-1a3e-486e-95e6-ae64bc16d3bb_1319x679.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/805776d2-1a3e-486e-95e6-ae64bc16d3bb_1319x679.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:679,&quot;width&quot;:1319,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;679&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!grrM!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F805776d2-1a3e-486e-95e6-ae64bc16d3bb_1319x679.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!grrM!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F805776d2-1a3e-486e-95e6-ae64bc16d3bb_1319x679.png 424w, https://substackcdn.com/image/fetch/$s_!grrM!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F805776d2-1a3e-486e-95e6-ae64bc16d3bb_1319x679.png 848w, https://substackcdn.com/image/fetch/$s_!grrM!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F805776d2-1a3e-486e-95e6-ae64bc16d3bb_1319x679.png 1272w, https://substackcdn.com/image/fetch/$s_!grrM!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F805776d2-1a3e-486e-95e6-ae64bc16d3bb_1319x679.png 1456w&quot; width=&quot;1319&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Cache-to-cache transfers are rare in practice, and I only run this test to show system topology and to provide clues on how cache coherency might be handled. Core to core latency is unlikely to have significant impact on application performance.
  &lt;/p&gt;
  &lt;h1 class=&quot;header-anchor-post&quot;&gt;
   TaiShan v110 Core Overview
  &lt;/h1&gt;
  &lt;p&gt;
   HiSilicon’s TaiShan v110 is a 64-bit ARM (aarch64) core with 4-wide out-of-order execution. It’s Huawei’s first custom core design. While Huawei previously used Arm’s Cortex A57 and A72 in server SoCs, TaiShan v110 does not appear to have much in common with those older Arm designs.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!SiUx!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd166b08c-371f-43fe-94d7-76056fc9b7af_780x1005.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!SiUx!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd166b08c-371f-43fe-94d7-76056fc9b7af_780x1005.png 424w, https://substackcdn.com/image/fetch/$s_!SiUx!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd166b08c-371f-43fe-94d7-76056fc9b7af_780x1005.png 848w, https://substackcdn.com/image/fetch/$s_!SiUx!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd166b08c-371f-43fe-94d7-76056fc9b7af_780x1005.png 1272w, https://substackcdn.com/image/fetch/$s_!SiUx!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd166b08c-371f-43fe-94d7-76056fc9b7af_780x1005.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/d166b08c-371f-43fe-94d7-76056fc9b7af_780x1005.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:1005,&quot;width&quot;:780,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;1005&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!SiUx!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd166b08c-371f-43fe-94d7-76056fc9b7af_780x1005.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!SiUx!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd166b08c-371f-43fe-94d7-76056fc9b7af_780x1005.png 424w, https://substackcdn.com/image/fetch/$s_!SiUx!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd166b08c-371f-43fe-94d7-76056fc9b7af_780x1005.png 848w, https://substackcdn.com/image/fetch/$s_!SiUx!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd166b08c-371f-43fe-94d7-76056fc9b7af_780x1005.png 1272w, https://substackcdn.com/image/fetch/$s_!SiUx!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd166b08c-371f-43fe-94d7-76056fc9b7af_780x1005.png 1456w&quot; width=&quot;780&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   The core has modest reordering capacity, three integer ALUs, a dual-pipe FPU, and can service two memory operations per cycle. It’s broadly comparable to Intel’s Goldmont Plus from a few years before, but is slightly larger than Goldmont Plus and enjoys a much stronger server-class memory subsystem. Arm’s Neoverse N1 is another point of comparison, because it’s another density-optimized aarch64 core implemented on TSMC’s 7nm node. Neoverse N1 is also 4-wide, but has a somewhat larger out-of-order engine.
  &lt;/p&gt;
  &lt;h2 class=&quot;header-anchor-post&quot;&gt;
   Branch Prediction
  &lt;/h2&gt;
  &lt;p&gt;
   Huawei’s publications say TaiShan v110 uses a “two-level dynamic branch predictor”. A two-level prediction uses the branch address and prior branch outcomes to index into a table of predicted branch outcomes. It’s a relatively simple prediction algorithm that fell out of favor in high performance designs as the 2010s rolled around. Huawei could also be referring to a “two-level” BTB setup, or a sub-predictor that creates two overriding levels. From a simple test with conditional branches that are either taken or not-taken in random patterns of varying length, TaiShan v110 behaves a bit like Arm’s Cortex A73.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!hnGH!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6de38300-8412-4388-9096-ecf1855860d0_1600x849.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!hnGH!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6de38300-8412-4388-9096-ecf1855860d0_1600x849.png 424w, https://substackcdn.com/image/fetch/$s_!hnGH!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6de38300-8412-4388-9096-ecf1855860d0_1600x849.png 848w, https://substackcdn.com/image/fetch/$s_!hnGH!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6de38300-8412-4388-9096-ecf1855860d0_1600x849.png 1272w, https://substackcdn.com/image/fetch/$s_!hnGH!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6de38300-8412-4388-9096-ecf1855860d0_1600x849.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/6de38300-8412-4388-9096-ecf1855860d0_1600x849.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:773,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;773&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!hnGH!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6de38300-8412-4388-9096-ecf1855860d0_1600x849.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!hnGH!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6de38300-8412-4388-9096-ecf1855860d0_1600x849.png 424w, https://substackcdn.com/image/fetch/$s_!hnGH!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6de38300-8412-4388-9096-ecf1855860d0_1600x849.png 848w, https://substackcdn.com/image/fetch/$s_!hnGH!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6de38300-8412-4388-9096-ecf1855860d0_1600x849.png 1272w, https://substackcdn.com/image/fetch/$s_!hnGH!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6de38300-8412-4388-9096-ecf1855860d0_1600x849.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   A 64 entry BTB provides taken branch targets with single cycle latency, allowing for zero-bubble taken branches. Past that, the branch predictor handles branches with 3 cycle latency as long as code fits within 32 KB and branches are not spaced too close together. Branches spaced by 16B or less incur an extra penalty cycle, and anything denser performs poorly. Spilling out of L1i dramatically increases taken branch latency. With one branch per 64B cacheline, latency reaches 11-12 cycles from L2, or beyond 38 cycles when code has to be fetched from L2. That roughly lines up with data-side L2 and private L3 latencies, suggesting the branch predictor is unable to run ahead of the rest of instruction fetch to drive prefetching.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!tQUG!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F90a8aa9d-486c-4371-ad40-5aff254d3701_1313x644.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!tQUG!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F90a8aa9d-486c-4371-ad40-5aff254d3701_1313x644.png 424w, https://substackcdn.com/image/fetch/$s_!tQUG!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F90a8aa9d-486c-4371-ad40-5aff254d3701_1313x644.png 848w, https://substackcdn.com/image/fetch/$s_!tQUG!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F90a8aa9d-486c-4371-ad40-5aff254d3701_1313x644.png 1272w, https://substackcdn.com/image/fetch/$s_!tQUG!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F90a8aa9d-486c-4371-ad40-5aff254d3701_1313x644.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/90a8aa9d-486c-4371-ad40-5aff254d3701_1313x644.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:644,&quot;width&quot;:1313,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;644&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!tQUG!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F90a8aa9d-486c-4371-ad40-5aff254d3701_1313x644.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!tQUG!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F90a8aa9d-486c-4371-ad40-5aff254d3701_1313x644.png 424w, https://substackcdn.com/image/fetch/$s_!tQUG!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F90a8aa9d-486c-4371-ad40-5aff254d3701_1313x644.png 848w, https://substackcdn.com/image/fetch/$s_!tQUG!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F90a8aa9d-486c-4371-ad40-5aff254d3701_1313x644.png 1272w, https://substackcdn.com/image/fetch/$s_!tQUG!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F90a8aa9d-486c-4371-ad40-5aff254d3701_1313x644.png 1456w&quot; width=&quot;1313&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   A 31 entry return stack handles returns. For the more generalized case of indirect branches, an indirect predictor can track up to 16 cycles per branch, or approximately 256 total indirect targets before taking significant penalties.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!Nx-9!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F89b51fdd-ff76-45d8-a939-c3450e0640a0_1198x857.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!Nx-9!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F89b51fdd-ff76-45d8-a939-c3450e0640a0_1198x857.png 424w, https://substackcdn.com/image/fetch/$s_!Nx-9!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F89b51fdd-ff76-45d8-a939-c3450e0640a0_1198x857.png 848w, https://substackcdn.com/image/fetch/$s_!Nx-9!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F89b51fdd-ff76-45d8-a939-c3450e0640a0_1198x857.png 1272w, https://substackcdn.com/image/fetch/$s_!Nx-9!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F89b51fdd-ff76-45d8-a939-c3450e0640a0_1198x857.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/89b51fdd-ff76-45d8-a939-c3450e0640a0_1198x857.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:857,&quot;width&quot;:1198,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;857&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!Nx-9!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F89b51fdd-ff76-45d8-a939-c3450e0640a0_1198x857.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!Nx-9!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F89b51fdd-ff76-45d8-a939-c3450e0640a0_1198x857.png 424w, https://substackcdn.com/image/fetch/$s_!Nx-9!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F89b51fdd-ff76-45d8-a939-c3450e0640a0_1198x857.png 848w, https://substackcdn.com/image/fetch/$s_!Nx-9!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F89b51fdd-ff76-45d8-a939-c3450e0640a0_1198x857.png 1272w, https://substackcdn.com/image/fetch/$s_!Nx-9!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F89b51fdd-ff76-45d8-a939-c3450e0640a0_1198x857.png 1456w&quot; width=&quot;1198&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Branch prediction accuracy in SPEC CPU2017 roughly matches that of Intel’s Goldmont Plus, though Goldmont Plus takes a win by the slimmest of margins. AMD’s Zen 2 from around the same time turns in a stronger performance, and shows what can be expected from a high performance core on TSMC’s 7nm node.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!nDdS!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F553250dd-9dbe-4f0e-bcda-9cf18cb1cb76_1011x1600.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!nDdS!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F553250dd-9dbe-4f0e-bcda-9cf18cb1cb76_1011x1600.png 424w, https://substackcdn.com/image/fetch/$s_!nDdS!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F553250dd-9dbe-4f0e-bcda-9cf18cb1cb76_1011x1600.png 848w, https://substackcdn.com/image/fetch/$s_!nDdS!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F553250dd-9dbe-4f0e-bcda-9cf18cb1cb76_1011x1600.png 1272w, https://substackcdn.com/image/fetch/$s_!nDdS!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F553250dd-9dbe-4f0e-bcda-9cf18cb1cb76_1011x1600.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/553250dd-9dbe-4f0e-bcda-9cf18cb1cb76_1011x1600.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:1600,&quot;width&quot;:1011,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;1600&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!nDdS!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F553250dd-9dbe-4f0e-bcda-9cf18cb1cb76_1011x1600.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!nDdS!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F553250dd-9dbe-4f0e-bcda-9cf18cb1cb76_1011x1600.png 424w, https://substackcdn.com/image/fetch/$s_!nDdS!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F553250dd-9dbe-4f0e-bcda-9cf18cb1cb76_1011x1600.png 848w, https://substackcdn.com/image/fetch/$s_!nDdS!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F553250dd-9dbe-4f0e-bcda-9cf18cb1cb76_1011x1600.png 1272w, https://substackcdn.com/image/fetch/$s_!nDdS!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F553250dd-9dbe-4f0e-bcda-9cf18cb1cb76_1011x1600.png 1456w&quot; width=&quot;1011&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;h2 class=&quot;header-anchor-post&quot;&gt;
   Instruction Fetch
  &lt;/h2&gt;
  &lt;p&gt;
   TaiShan v110 has a 64 KB instruction cache, which can supply the core with four instructions per cycle. Instruction-side address translations use a 32 entry iTLB, which is backed by a 1024 entry L2 TLB. The L2 TLB may be shared with data access, but I currently don’t have a test written to check that. Instruction fetch bandwidth drops sharply as code spills out of L1i, to 6-7 bytes per cycle on average. That makes L2 code read bandwidth somewhat worse than on Intel’s Goldmont Plus or Arm’s Neoverse N1. Code bandwidth from L3 is very poor and is about as bad as fetching instructions from DRAM on Goldmont Plus or Neoverse N1.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!SO9d!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F60b1c81d-b423-4551-8d0e-357b35205760_1600x715.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!SO9d!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F60b1c81d-b423-4551-8d0e-357b35205760_1600x715.png 424w, https://substackcdn.com/image/fetch/$s_!SO9d!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F60b1c81d-b423-4551-8d0e-357b35205760_1600x715.png 848w, https://substackcdn.com/image/fetch/$s_!SO9d!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F60b1c81d-b423-4551-8d0e-357b35205760_1600x715.png 1272w, https://substackcdn.com/image/fetch/$s_!SO9d!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F60b1c81d-b423-4551-8d0e-357b35205760_1600x715.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/60b1c81d-b423-4551-8d0e-357b35205760_1600x715.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:651,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;651&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!SO9d!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F60b1c81d-b423-4551-8d0e-357b35205760_1600x715.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!SO9d!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F60b1c81d-b423-4551-8d0e-357b35205760_1600x715.png 424w, https://substackcdn.com/image/fetch/$s_!SO9d!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F60b1c81d-b423-4551-8d0e-357b35205760_1600x715.png 848w, https://substackcdn.com/image/fetch/$s_!SO9d!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F60b1c81d-b423-4551-8d0e-357b35205760_1600x715.png 1272w, https://substackcdn.com/image/fetch/$s_!SO9d!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F60b1c81d-b423-4551-8d0e-357b35205760_1600x715.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Instructions are decoded by a 4-wide decoder that translates them to micro-ops. Then, the core carries out register renaming and allocates other backend resources to track them and enable out-of-order execution. The renamer can carry out move elimination.
  &lt;/p&gt;
  &lt;h2 class=&quot;header-anchor-post&quot;&gt;
   Execution Engine
  &lt;/h2&gt;
  &lt;p&gt;
   TaiShan v110 uses a PRF-based execution scheme, where register values are stored in physical register files and other structures store pointers to those register file entries. Reorder buffer capacity is similar to Intel’s Goldmont Plus, but TaiShan v110’s larger integer register file and memory ordering queues should put it ahead. The scheduler layout splits micro-ops into ALU, memory access, and FP/vector categories, and uses a separate unified scheduler for each. Each scheduler has approximately 33 entries. Goldmont Plus uses a distributed scheduler layout on the integer side, while Arm’s Neoverse N1 uses a purely distributed scheduler layout.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!qEWd!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7fa2a6b3-a421-4d02-8218-502993a3bcf8_1717x488.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!qEWd!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7fa2a6b3-a421-4d02-8218-502993a3bcf8_1717x488.png 424w, https://substackcdn.com/image/fetch/$s_!qEWd!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7fa2a6b3-a421-4d02-8218-502993a3bcf8_1717x488.png 848w, https://substackcdn.com/image/fetch/$s_!qEWd!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7fa2a6b3-a421-4d02-8218-502993a3bcf8_1717x488.png 1272w, https://substackcdn.com/image/fetch/$s_!qEWd!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7fa2a6b3-a421-4d02-8218-502993a3bcf8_1717x488.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/7fa2a6b3-a421-4d02-8218-502993a3bcf8_1717x488.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:414,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:83279,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/168999554?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7fa2a6b3-a421-4d02-8218-502993a3bcf8_1717x488.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;414&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!qEWd!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7fa2a6b3-a421-4d02-8218-502993a3bcf8_1717x488.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!qEWd!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7fa2a6b3-a421-4d02-8218-502993a3bcf8_1717x488.png 424w, https://substackcdn.com/image/fetch/$s_!qEWd!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7fa2a6b3-a421-4d02-8218-502993a3bcf8_1717x488.png 848w, https://substackcdn.com/image/fetch/$s_!qEWd!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7fa2a6b3-a421-4d02-8218-502993a3bcf8_1717x488.png 1272w, https://substackcdn.com/image/fetch/$s_!qEWd!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7fa2a6b3-a421-4d02-8218-502993a3bcf8_1717x488.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   SPEC CPU2017’s workloads heavily pressure TaiShan v110’s schedulers. Scheduler entries are often a “hot” resource on any core, so that’s not unusual to see. Integer register file capacity is rarely an issue because the core has nearly enough integer registers to cover ROB capacity. TaiShan v110 renames flags (condition codes) in a separate register file with approximately 31 renames available. Flag renames are rarely an issue either, except in very branch heavy workloads like file compression and 505.mcf.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!zORv!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2d2b087b-9bc6-4e9e-a170-8441c1faccfd_1104x577.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!zORv!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2d2b087b-9bc6-4e9e-a170-8441c1faccfd_1104x577.png 424w, https://substackcdn.com/image/fetch/$s_!zORv!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2d2b087b-9bc6-4e9e-a170-8441c1faccfd_1104x577.png 848w, https://substackcdn.com/image/fetch/$s_!zORv!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2d2b087b-9bc6-4e9e-a170-8441c1faccfd_1104x577.png 1272w, https://substackcdn.com/image/fetch/$s_!zORv!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2d2b087b-9bc6-4e9e-a170-8441c1faccfd_1104x577.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/2d2b087b-9bc6-4e9e-a170-8441c1faccfd_1104x577.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:577,&quot;width&quot;:1104,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;577&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!zORv!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2d2b087b-9bc6-4e9e-a170-8441c1faccfd_1104x577.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!zORv!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2d2b087b-9bc6-4e9e-a170-8441c1faccfd_1104x577.png 424w, https://substackcdn.com/image/fetch/$s_!zORv!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2d2b087b-9bc6-4e9e-a170-8441c1faccfd_1104x577.png 848w, https://substackcdn.com/image/fetch/$s_!zORv!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2d2b087b-9bc6-4e9e-a170-8441c1faccfd_1104x577.png 1272w, https://substackcdn.com/image/fetch/$s_!zORv!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2d2b087b-9bc6-4e9e-a170-8441c1faccfd_1104x577.png 1456w&quot; width=&quot;1104&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Floating point workloads put pressure on the FP/vector register file in addition to the FPU’s scheduler. TaiShan v110 likely has similar FP/vector register file capacity to Goldmont Plus, but has fewer available for renaming because aarch64 defines 32 FP/vector registers instead of 16 on x86-64. A larger register file would help better balance the core for FP and vector workloads.
  &lt;/p&gt;
  &lt;h3 class=&quot;header-anchor-post&quot;&gt;
   Execution Ports
  &lt;/h3&gt;
  &lt;p&gt;
   TaiShan v110’s integer execution side has four ports. Three are general purpose ALUs that handle simple and common operations like integer adds and bitwise operations. Branches can go down two of those ports, though the core can only sustain one taken branch per cycle much like other cores of the era. The fourth port is specialized for multi-cycle integer operations like multiplies and divides. Integer multiples execute with four cycle latency. Goldmont Plus and Neoverse N1 similarly have a 3+1 integer port setup, but both place branches on the fourth port instead of using it for multi-cycle operations. Putting branches on the fourth port may be slightly better for throughput, because branches tend to be more common than multi-cycle operations. Placing branches on a dedicated port also naturally prioritizes them because no other instruction category contends for the same port. That can help discover mispredicts faster, reducing wasted work. On the other hand, TaiShan v110’s layout likely simplifies scheduling by grouping ports by latency characteristics.
  &lt;/p&gt;
  &lt;p&gt;
   The FPU on TaiShan v110 has two ports, which is common for low power and density optimized designs of the period. Both ports can handle floating point fused multiply-add operations with 128-bit vector length with FP32 operations. FP64 operations execute at quarter rate. FP32 FMA operations have 5 cycle latency. Strangely, FP32 adds and multiplies can only be serviced by a single port each, even though both have the same 5 cycle latency as FMA operations. Vector integer adds can use both ports and have 2 cycle latency. Only one port has a vector integer multiplier.
  &lt;/p&gt;
  &lt;h2 class=&quot;header-anchor-post&quot;&gt;
   Load/Store
  &lt;/h2&gt;
  &lt;p&gt;
   Two AGU ports generate memory addresses, and provide 4 cycle load-to-use latency for L1D hits. Latency increases by 1-2 cycles with indexed addressing. Virtual addresses from the AGUs are translated to physical addresses by a 32 entry fully associative data TLB. A 1024 L2 TLB handles larger memory footprints. Hitting the L2 TLB adds 11 cycles of latency, which is slow for a low-clocked core. AMD’s Zen 2 and Intel’s Goldmont Plus have 7 and 8 cycle L2 TLB latencies, respectively. Zen 2 notably has twice as much TLB capacity at 2048 entries, and can reach much higher clock speeds.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!YXIE!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F20615c9f-4217-4be3-8b97-7830e9a3fa85_1600x776.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!YXIE!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F20615c9f-4217-4be3-8b97-7830e9a3fa85_1600x776.png 424w, https://substackcdn.com/image/fetch/$s_!YXIE!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F20615c9f-4217-4be3-8b97-7830e9a3fa85_1600x776.png 848w, https://substackcdn.com/image/fetch/$s_!YXIE!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F20615c9f-4217-4be3-8b97-7830e9a3fa85_1600x776.png 1272w, https://substackcdn.com/image/fetch/$s_!YXIE!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F20615c9f-4217-4be3-8b97-7830e9a3fa85_1600x776.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/20615c9f-4217-4be3-8b97-7830e9a3fa85_1600x776.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:706,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;706&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!YXIE!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F20615c9f-4217-4be3-8b97-7830e9a3fa85_1600x776.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!YXIE!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F20615c9f-4217-4be3-8b97-7830e9a3fa85_1600x776.png 424w, https://substackcdn.com/image/fetch/$s_!YXIE!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F20615c9f-4217-4be3-8b97-7830e9a3fa85_1600x776.png 848w, https://substackcdn.com/image/fetch/$s_!YXIE!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F20615c9f-4217-4be3-8b97-7830e9a3fa85_1600x776.png 1272w, https://substackcdn.com/image/fetch/$s_!YXIE!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F20615c9f-4217-4be3-8b97-7830e9a3fa85_1600x776.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Load addresses have to be checked against prior store addresses to detect memory dependencies. Store forwarding has 6-7 cycle latency, which is remarkably maintained even when a store only partially overlaps a subsequent load. The core’s L1D appears to operate on 16B aligned blocks. Forwarding latency increases by 1-2 cycles when crossing a 16B boundary. Independent loads and stores can proceed in parallel as long as neither cross a 16B boundary.
  &lt;/p&gt;
  &lt;p&gt;
   TaiShan v110’s 64 KB data cache is 4-way set associative, and can service two 128-bit accesses per cycle. Both can be loads, and one can be a store. Data cache bandwidth is superior to Intel’s Goldmont Plus, which can also do two 128-bit accesses per cycle but is limited to one load and one store. Loads typically outnumber stores by a large margin, so TaiShan v110 should have a bandwidth advantage in practice. Neoverse N1, a newer density optimized design, has similar L1D bandwidth to TaiShan v110.
  &lt;/p&gt;
  &lt;h2 class=&quot;header-anchor-post&quot;&gt;
   L2 Cache
  &lt;/h2&gt;
  &lt;p&gt;
   The L2 Cache on TaiShan v110 has 512 KB of capacity, and is private to each core. Even though cores are arranged in clusters of four, there is no cluster-level shared cache as on Intel’s E-Cores. The L2 has 10 cycle latency, making it faster in cycle count terms than Neoverse N1 or Zen 2.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!zHk2!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8af8f797-fbb0-4e23-9315-f63633000386_1600x712.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!zHk2!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8af8f797-fbb0-4e23-9315-f63633000386_1600x712.png 424w, https://substackcdn.com/image/fetch/$s_!zHk2!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8af8f797-fbb0-4e23-9315-f63633000386_1600x712.png 848w, https://substackcdn.com/image/fetch/$s_!zHk2!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8af8f797-fbb0-4e23-9315-f63633000386_1600x712.png 1272w, https://substackcdn.com/image/fetch/$s_!zHk2!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8af8f797-fbb0-4e23-9315-f63633000386_1600x712.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/8af8f797-fbb0-4e23-9315-f63633000386_1600x712.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:648,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;648&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!zHk2!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8af8f797-fbb0-4e23-9315-f63633000386_1600x712.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!zHk2!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8af8f797-fbb0-4e23-9315-f63633000386_1600x712.png 424w, https://substackcdn.com/image/fetch/$s_!zHk2!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8af8f797-fbb0-4e23-9315-f63633000386_1600x712.png 848w, https://substackcdn.com/image/fetch/$s_!zHk2!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8af8f797-fbb0-4e23-9315-f63633000386_1600x712.png 1272w, https://substackcdn.com/image/fetch/$s_!zHk2!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8af8f797-fbb0-4e23-9315-f63633000386_1600x712.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   The L2 can average about 20 bytes per cycle, indicating the core likely has a 32 byte per cycle interface between the L2 and L1D. Using a read-modify-write pattern did not increase bandwidth, so the L2 to L1D interface is likely not bidirectional. Still, there’s plenty of L2 bandwidth considering the core’s large L1D and modest vector capabilities.
  &lt;/p&gt;
  &lt;p&gt;
   TaiShan v110’s L2 seems designed for high performance at the expense of capacity. Goldmont Plus takes the opposite design, using a large 4 MB shared L2 because the L2 also serves as the last level cache. Huawei may have hoped to rely on dynamic L3 partitioning to reduce average L2 miss latency, which lets the L2 design focus on speed.
  &lt;/p&gt;
  &lt;h1 class=&quot;header-anchor-post&quot;&gt;
   Performance: SPEC CPU2017
  &lt;/h1&gt;
  &lt;p&gt;
   Huawei selected SPEC CPU2017’s integer suite as a metric to evaluate TaiShan v110, because its target market includes workloads that “involve extensive integer operations.” In single core testing, TaiShan v110 pulls ahead of Arm’s Cortex A72 and Intel’s Goldmont Plus by 22.5% and 7% respectively. It’s no doubt better than cores from prior generations. But its lead over Goldmont Plus is narrow considering TaiShan v110’s process node advantage, larger last level cache, and better DRAM controllers.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!TPyT!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ffb7bd629-e208-4f0f-8029-373e63066174_1003x777.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!TPyT!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ffb7bd629-e208-4f0f-8029-373e63066174_1003x777.png 424w, https://substackcdn.com/image/fetch/$s_!TPyT!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ffb7bd629-e208-4f0f-8029-373e63066174_1003x777.png 848w, https://substackcdn.com/image/fetch/$s_!TPyT!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ffb7bd629-e208-4f0f-8029-373e63066174_1003x777.png 1272w, https://substackcdn.com/image/fetch/$s_!TPyT!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ffb7bd629-e208-4f0f-8029-373e63066174_1003x777.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/fb7bd629-e208-4f0f-8029-373e63066174_1003x777.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:777,&quot;width&quot;:1003,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;777&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!TPyT!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ffb7bd629-e208-4f0f-8029-373e63066174_1003x777.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!TPyT!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ffb7bd629-e208-4f0f-8029-373e63066174_1003x777.png 424w, https://substackcdn.com/image/fetch/$s_!TPyT!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ffb7bd629-e208-4f0f-8029-373e63066174_1003x777.png 848w, https://substackcdn.com/image/fetch/$s_!TPyT!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ffb7bd629-e208-4f0f-8029-373e63066174_1003x777.png 1272w, https://substackcdn.com/image/fetch/$s_!TPyT!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ffb7bd629-e208-4f0f-8029-373e63066174_1003x777.png 1456w&quot; width=&quot;1003&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Comparing with TSMC 7nm peers puts TaiShan v110 in a tougher spot. Arm’s Neoverse N1 is 52.2% faster than TaiShan v110. AMD’s Zen 2 takes a massive lead, which is expected for a high performance design.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!HjhK!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F61edee50-031b-471a-a016-07c8eef38ead_852x1600.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!HjhK!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F61edee50-031b-471a-a016-07c8eef38ead_852x1600.png 424w, https://substackcdn.com/image/fetch/$s_!HjhK!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F61edee50-031b-471a-a016-07c8eef38ead_852x1600.png 848w, https://substackcdn.com/image/fetch/$s_!HjhK!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F61edee50-031b-471a-a016-07c8eef38ead_852x1600.png 1272w, https://substackcdn.com/image/fetch/$s_!HjhK!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F61edee50-031b-471a-a016-07c8eef38ead_852x1600.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/61edee50-031b-471a-a016-07c8eef38ead_852x1600.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:1600,&quot;width&quot;:852,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;1600&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!HjhK!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F61edee50-031b-471a-a016-07c8eef38ead_852x1600.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!HjhK!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F61edee50-031b-471a-a016-07c8eef38ead_852x1600.png 424w, https://substackcdn.com/image/fetch/$s_!HjhK!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F61edee50-031b-471a-a016-07c8eef38ead_852x1600.png 848w, https://substackcdn.com/image/fetch/$s_!HjhK!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F61edee50-031b-471a-a016-07c8eef38ead_852x1600.png 1272w, https://substackcdn.com/image/fetch/$s_!HjhK!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F61edee50-031b-471a-a016-07c8eef38ead_852x1600.png 1456w&quot; width=&quot;852&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   While TaiShan v110 is overall better than Goldmont Plus, it falls behind on 505.mcf, 525.x264, and 503.bwaves. In all three cases, TaiShan v110 suffered more mispredicts per instruction and worse branch prediction accuracy. Somehow, those tests challenged TaiShan v110’s predictor, even though its branch predictor achieved similar accuracy to Goldmont Plus in other subtests that stress the branch predictor, like 541.leela.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!MEJE!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fde69ecce-f662-49c9-94cb-ab2f0c3bbef0_752x452.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!MEJE!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fde69ecce-f662-49c9-94cb-ab2f0c3bbef0_752x452.png 424w, https://substackcdn.com/image/fetch/$s_!MEJE!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fde69ecce-f662-49c9-94cb-ab2f0c3bbef0_752x452.png 848w, https://substackcdn.com/image/fetch/$s_!MEJE!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fde69ecce-f662-49c9-94cb-ab2f0c3bbef0_752x452.png 1272w, https://substackcdn.com/image/fetch/$s_!MEJE!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fde69ecce-f662-49c9-94cb-ab2f0c3bbef0_752x452.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/de69ecce-f662-49c9-94cb-ab2f0c3bbef0_752x452.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:452,&quot;width&quot;:752,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;452&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!MEJE!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fde69ecce-f662-49c9-94cb-ab2f0c3bbef0_752x452.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!MEJE!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fde69ecce-f662-49c9-94cb-ab2f0c3bbef0_752x452.png 424w, https://substackcdn.com/image/fetch/$s_!MEJE!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fde69ecce-f662-49c9-94cb-ab2f0c3bbef0_752x452.png 848w, https://substackcdn.com/image/fetch/$s_!MEJE!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fde69ecce-f662-49c9-94cb-ab2f0c3bbef0_752x452.png 1272w, https://substackcdn.com/image/fetch/$s_!MEJE!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fde69ecce-f662-49c9-94cb-ab2f0c3bbef0_752x452.png 1456w&quot; width=&quot;752&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Neoverse N1 wins against TaiShan v110 in every subtest. Neoverse N1’s largest wins come from 505.mcf and 525.x264. The former sees Neoverse N1 get 15.03 branch MPKI compared to 16.64 on TaiShan v110. 505.mcf is very bound by backend memory accesses in addition to branch mispredicts, making it an overall nightmare for any CPU core. Ampere Altra’s cache setup and better branch predictor likely combine to let it outperform Kunpeng 920 by over 100%. The situation with 525.x264 is harder to understand. I suspect I got a bad run on Kunpeng 920 when getting a score report, because a subsequent run with performance counters suggests the score gap shouldn’t be so large based on achieved IPC, actual instruction counts, and clock speeds. However with time limits and a remote testing setup, there is no opportunity to follow up on that.
  &lt;/p&gt;
  &lt;p&gt;
   Regardless of what’s going on with 525.x264, Neoverse N1’s advantage is clear. N1 has an excellent branch predictor that’s nearly on par with the one in Zen 2 when taking the geomean of branch prediction accuracy across all subtests. Its out-of-order execution engine is only slightly larger than the one in TaiShan v110. But N1’s backend resources are better balanced. It has more integer-side scheduler entries and a larger FP/vector register file. TaiShan v110 often felt pressure in both areas. At the memory subsystem, any advantage from Kunpeng 920’s partition mode seems to be offset by Neoverse N1’s larger L2.
  &lt;/p&gt;
  &lt;h1 class=&quot;header-anchor-post&quot;&gt;
   Final Words
  &lt;/h1&gt;
  &lt;p&gt;
   Kunpeng 920 hosts a collection of fascinating features. It’s an early adopter of TSMC’s 7nm node in the server world, beating Ampere Altra and Zen 2 server variants to market. It uses TSMC’s CoWoS packaging, at a time when AMD opted for simpler on-package traces and Ampere stuck with a monolithic design. Dynamic L3 behavior is a standout feature when others (besides IBM) only operated their L3 caches in the equivalent of “shared” mode. I’m sure many tech enthusiasts have looked at multi-bank L3 designs on Intel and AMD CPUs, and wondered whether they’d try to keep L3 data closer to the cores using it most. Well, Huawei tries to do exactly that.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!omdW!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1451d473-870a-43eb-b807-1cf30638793c_581x495.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!omdW!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1451d473-870a-43eb-b807-1cf30638793c_581x495.png 424w, https://substackcdn.com/image/fetch/$s_!omdW!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1451d473-870a-43eb-b807-1cf30638793c_581x495.png 848w, https://substackcdn.com/image/fetch/$s_!omdW!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1451d473-870a-43eb-b807-1cf30638793c_581x495.png 1272w, https://substackcdn.com/image/fetch/$s_!omdW!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1451d473-870a-43eb-b807-1cf30638793c_581x495.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/1451d473-870a-43eb-b807-1cf30638793c_581x495.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:495,&quot;width&quot;:581,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;495&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!omdW!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1451d473-870a-43eb-b807-1cf30638793c_581x495.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!omdW!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1451d473-870a-43eb-b807-1cf30638793c_581x495.png 424w, https://substackcdn.com/image/fetch/$s_!omdW!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1451d473-870a-43eb-b807-1cf30638793c_581x495.png 848w, https://substackcdn.com/image/fetch/$s_!omdW!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1451d473-870a-43eb-b807-1cf30638793c_581x495.png 1272w, https://substackcdn.com/image/fetch/$s_!omdW!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1451d473-870a-43eb-b807-1cf30638793c_581x495.png 1456w&quot; width=&quot;581&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Yet Kunpeng 920 struggles to convert these features into advantages. CoWoS’s high cross-die bandwidth seems wasted if the chip isn’t set up to behave like a monolithic design to software. The L3’s partition mode provides inconsistent performance depending on data sharing behavior. L3 performance is poor when a single core needs to use most of L3 capacity or if cores share data. Zen 2’s uniformly fast L3 is more consistent and higher performance even if it doesn’t take advantage of bank/core locality. Neoverse N1’s use of a larger L2 to insulate the core from L3 latency also looks like a better option in practice. Perhaps the only advantage that came through was the flexibility of its chiplet design, which lets Huawei cover a wider variety of product categories while reusing dies.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!8Xkl!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3d4e78a4-ac22-4f1e-8fed-6365881a80fa_714x422.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!8Xkl!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3d4e78a4-ac22-4f1e-8fed-6365881a80fa_714x422.png 424w, https://substackcdn.com/image/fetch/$s_!8Xkl!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3d4e78a4-ac22-4f1e-8fed-6365881a80fa_714x422.png 848w, https://substackcdn.com/image/fetch/$s_!8Xkl!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3d4e78a4-ac22-4f1e-8fed-6365881a80fa_714x422.png 1272w, https://substackcdn.com/image/fetch/$s_!8Xkl!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3d4e78a4-ac22-4f1e-8fed-6365881a80fa_714x422.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/3d4e78a4-ac22-4f1e-8fed-6365881a80fa_714x422.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:422,&quot;width&quot;:714,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;422&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!8Xkl!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3d4e78a4-ac22-4f1e-8fed-6365881a80fa_714x422.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!8Xkl!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3d4e78a4-ac22-4f1e-8fed-6365881a80fa_714x422.png 424w, https://substackcdn.com/image/fetch/$s_!8Xkl!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3d4e78a4-ac22-4f1e-8fed-6365881a80fa_714x422.png 848w, https://substackcdn.com/image/fetch/$s_!8Xkl!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3d4e78a4-ac22-4f1e-8fed-6365881a80fa_714x422.png 1272w, https://substackcdn.com/image/fetch/$s_!8Xkl!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3d4e78a4-ac22-4f1e-8fed-6365881a80fa_714x422.png 1456w&quot; width=&quot;714&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   At the core level, it’s hard to escape the conclusion that TSMC’s 7nm advantages were wasted too. Neoverse N1 targeted similar goals on the same node, and did a better job. Arm’s talent in density optimized designs really shows through. They were able to cram larger structures into the same area, including a branch predictor with a 6K entry BTB and a bigger vector register file. They were able to better tune core structures to reduce backend resource stalls in latency bound workloads. And finally, they were able to give Neoverse N1 twice as much L2 capacity while keeping it all within the same area footprint as TaiShan v110. A comparison with AMD is much harder because of different design goals. But it’s interesting that Zen 2 achieves similar area efficiency when running at desktop cores, even though increasing core width and reordering capacity runs into diminishing returns.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!uQXY!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7e704217-b1aa-4929-836c-05b2d64c31b9_646x481.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!uQXY!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7e704217-b1aa-4929-836c-05b2d64c31b9_646x481.png 424w, https://substackcdn.com/image/fetch/$s_!uQXY!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7e704217-b1aa-4929-836c-05b2d64c31b9_646x481.png 848w, https://substackcdn.com/image/fetch/$s_!uQXY!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7e704217-b1aa-4929-836c-05b2d64c31b9_646x481.png 1272w, https://substackcdn.com/image/fetch/$s_!uQXY!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7e704217-b1aa-4929-836c-05b2d64c31b9_646x481.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/7e704217-b1aa-4929-836c-05b2d64c31b9_646x481.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:481,&quot;width&quot;:646,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;481&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!uQXY!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7e704217-b1aa-4929-836c-05b2d64c31b9_646x481.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!uQXY!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7e704217-b1aa-4929-836c-05b2d64c31b9_646x481.png 424w, https://substackcdn.com/image/fetch/$s_!uQXY!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7e704217-b1aa-4929-836c-05b2d64c31b9_646x481.png 848w, https://substackcdn.com/image/fetch/$s_!uQXY!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7e704217-b1aa-4929-836c-05b2d64c31b9_646x481.png 1272w, https://substackcdn.com/image/fetch/$s_!uQXY!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7e704217-b1aa-4929-836c-05b2d64c31b9_646x481.png 1456w&quot; width=&quot;646&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   A comparison between those cores gives the impression that AMD and Arm took TSMC’s 7nm node and really made the most of it, while HiSilicon merely did an adequate job. But an adequate job may be enough. Huawei doesn&#x27;t need TaiShan v110 to go head-to-head with Neoverse N1 and Zen 2. It needs a decent core that can keep its business going. TaiShan v110 is perfectly capable of fulfilling that role. Perhaps more importantly, HiSilicon’s early uptake of advanced TSMC tech and willingness to experiment with dynamic L3 behavior shows that HiSilicon’s engineers are not afraid to play aggressively. That means TaiShan v110 can serve a springboard for future designs, providing a path to secure Huawei’s future.
  &lt;/p&gt;
  &lt;h1 class=&quot;header-anchor-post&quot;&gt;
   References
  &lt;/h1&gt;
  &lt;ol&gt;
   &lt;li&gt;
    &lt;p&gt;
     &lt;span&gt;
      TaiShan v110 port assignments for micro-ops from various instructions:
     &lt;/span&gt;
     &lt;a href=&quot;https://github.com/qcjiang/OSACA/blob/feature/tsv110/osaca/data/tsv110.yml&quot; rel=&quot;&quot;&gt;
      https://github.com/qcjiang/OSACA/blob/feature/tsv110/osaca/data/tsv110.yml
     &lt;/a&gt;
    &lt;/p&gt;
   &lt;/li&gt;
   &lt;li&gt;
    &lt;p&gt;
     &lt;span&gt;
      BIOS settings for a Kunpeng 920 server indicating the L3 can be statically set to use shared or private mode:
     &lt;/span&gt;
     &lt;a href=&quot;https://support.huawei.com/enterprise/zh/doc/EDOC1100088653/98b06651&quot; rel=&quot;&quot;&gt;
      https://support.huawei.com/enterprise/zh/doc/EDOC1100088653/98b06651
     &lt;/a&gt;
    &lt;/p&gt;
   &lt;/li&gt;
   &lt;li&gt;
    &lt;p&gt;
     &lt;span&gt;
      Huawei Research’s publication on Kunpeng 920 (starts on page 126):
     &lt;/span&gt;
     &lt;a href=&quot;https://www-file.huawei.com/-/media/corp2020/pdf/publications/huawei-research/2022/huawei-research-issue1-en.pdf&quot; rel=&quot;&quot;&gt;
      https://www-file.huawei.com/-/media/corp2020/pdf/publications/huawei-research/2022/huawei-research-issue1-en.pdf
     &lt;/a&gt;
    &lt;/p&gt;
   &lt;/li&gt;
   &lt;li&gt;
    &lt;p&gt;
     Shanghao Liu et al, Efficient Locality-aware Instruction Stream Scheduling for Stencil Computation on ARM Processors
    &lt;/p&gt;
   &lt;/li&gt;
   &lt;li&gt;
    &lt;p&gt;
     &lt;span&gt;
      Description of Kunpeng 920’s NUMA behavior on larger SKUs, indicating each compute die acts as a NUMA node:
     &lt;/span&gt;
     &lt;a href=&quot;https://www.hikunpeng.com/document/detail/en/perftuning/progtuneg/kunpengprogramming_05_0004.html&quot; rel=&quot;&quot;&gt;
      https://www.hikunpeng.com/document/detail/en/perftuning/progtuneg/kunpengprogramming_05_0004.html
     &lt;/a&gt;
    &lt;/p&gt;
   &lt;/li&gt;
  &lt;/ol&gt;
 &lt;/div&gt;
&lt;/div&gt;

</description>
</item>
<item>
<title> AMD’s Magny Cours and HyperTransport Interconnect: A High Core Count Blast from the Past </title>
<link>https://chipsandcheese.com/p/amds-magny-cours-and-hypertransport</link>
<pubDate>Fri, 11 Jul 2025 16:01:27 -0000</pubDate>
<description>
&lt;div class=&quot;available-content&quot;&gt;
 &lt;div class=&quot;body markup&quot; dir=&quot;auto&quot;&gt;
  &lt;p&gt;
   Today, we’re used to desktop processors with 16 or more cores, and several times that in server CPUs. But even prior to 2010, Intel and AMD were working hard to reach higher core counts. AMD’s “Magny Cours”, or Opteron 6000 series, was one such effort. Looking into how AMD approached core count scaling with pre-2010s technology should make for a fun retrospective. Special thanks goes to cha0shacker for providing access to a dual socket Opteron 6180 SE system.
  &lt;/p&gt;
  &lt;p&gt;
   A Magny Cours chip is basically two Phenom II X6 CPU dies side by side. Reusing the prior generation’s 6-core die reduces validation requirements and improves yields compared to taping out a new higher core count die. The two dies are connected via HyperTransport (HT) links, which previously bridged multiple sockets starting from the K8 generation. Magny Cours takes the same concept but runs HyperTransport signals through on-package PCB traces. Much like a dual socket setup, the two dies on a Magny Cours chip each have their own memory controller, and cores on a die enjoy faster access to locally attached memory. That creates a NUMA (Non-Uniform Memory Access) setup, though Magny Cours can also be configured to interleave memory accesses across nodes to scale performance with non-NUMA aware code.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!BU00!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1df4bcba-8cc7-478e-b725-2ae17567f65a_1600x847.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!BU00!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1df4bcba-8cc7-478e-b725-2ae17567f65a_1600x847.png 424w, https://substackcdn.com/image/fetch/$s_!BU00!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1df4bcba-8cc7-478e-b725-2ae17567f65a_1600x847.png 848w, https://substackcdn.com/image/fetch/$s_!BU00!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1df4bcba-8cc7-478e-b725-2ae17567f65a_1600x847.png 1272w, https://substackcdn.com/image/fetch/$s_!BU00!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1df4bcba-8cc7-478e-b725-2ae17567f65a_1600x847.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/1df4bcba-8cc7-478e-b725-2ae17567f65a_1600x847.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:771,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:false,&quot;topImage&quot;:true,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; fetchpriority=&quot;high&quot; height=&quot;771&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!BU00!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1df4bcba-8cc7-478e-b725-2ae17567f65a_1600x847.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!BU00!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1df4bcba-8cc7-478e-b725-2ae17567f65a_1600x847.png 424w, https://substackcdn.com/image/fetch/$s_!BU00!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1df4bcba-8cc7-478e-b725-2ae17567f65a_1600x847.png 848w, https://substackcdn.com/image/fetch/$s_!BU00!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1df4bcba-8cc7-478e-b725-2ae17567f65a_1600x847.png 1272w, https://substackcdn.com/image/fetch/$s_!BU00!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1df4bcba-8cc7-478e-b725-2ae17567f65a_1600x847.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Magny Cours’s in-package links have an awkward setup. Each die has four HT ports, each 16 bits wide and capable of operating in an “unganged” mode to provide two 8-bit sub links. The two dies are connected via a 16-bit “ganged” link along with a 8-bit sublink from another port. AMD never supported using the 8-bit cross-die link though, perhaps because its additional bandwidth would be difficult to utilize and interleaving traffic across uneven links sounds complicated. Magny Cours uses Gen 3 HT links that run at up to 6.4 GT/s, so the two dies have 12.8 GB/s of bandwidth between them. Including the disabled 8-bit sublink would increase intra-package bandwidth to 19.2 GB/s.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!oeLs!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4bc48712-9dd7-481c-85fe-1200b5dc0cab_1001x777.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!oeLs!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4bc48712-9dd7-481c-85fe-1200b5dc0cab_1001x777.png 424w, https://substackcdn.com/image/fetch/$s_!oeLs!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4bc48712-9dd7-481c-85fe-1200b5dc0cab_1001x777.png 848w, https://substackcdn.com/image/fetch/$s_!oeLs!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4bc48712-9dd7-481c-85fe-1200b5dc0cab_1001x777.png 1272w, https://substackcdn.com/image/fetch/$s_!oeLs!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4bc48712-9dd7-481c-85fe-1200b5dc0cab_1001x777.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/4bc48712-9dd7-481c-85fe-1200b5dc0cab_1001x777.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:777,&quot;width&quot;:1001,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:false,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;777&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!oeLs!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4bc48712-9dd7-481c-85fe-1200b5dc0cab_1001x777.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!oeLs!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4bc48712-9dd7-481c-85fe-1200b5dc0cab_1001x777.png 424w, https://substackcdn.com/image/fetch/$s_!oeLs!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4bc48712-9dd7-481c-85fe-1200b5dc0cab_1001x777.png 848w, https://substackcdn.com/image/fetch/$s_!oeLs!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4bc48712-9dd7-481c-85fe-1200b5dc0cab_1001x777.png 1272w, https://substackcdn.com/image/fetch/$s_!oeLs!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4bc48712-9dd7-481c-85fe-1200b5dc0cab_1001x777.png 1456w&quot; width=&quot;1001&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   With one and a half ports connected within a package, each die has 2.5 HT ports available for external connectivity. AMD decided to use those to give a G34 package four external HT ports. One is typically used for IO in single or dual socket systems, while the other three connect to the other socket.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!L5Ck!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc1d03964-f1f2-4659-9276-6428baa53d89_959x731.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!L5Ck!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc1d03964-f1f2-4659-9276-6428baa53d89_959x731.png 424w, https://substackcdn.com/image/fetch/$s_!L5Ck!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc1d03964-f1f2-4659-9276-6428baa53d89_959x731.png 848w, https://substackcdn.com/image/fetch/$s_!L5Ck!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc1d03964-f1f2-4659-9276-6428baa53d89_959x731.png 1272w, https://substackcdn.com/image/fetch/$s_!L5Ck!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc1d03964-f1f2-4659-9276-6428baa53d89_959x731.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/c1d03964-f1f2-4659-9276-6428baa53d89_959x731.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:731,&quot;width&quot;:959,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:false,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;731&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!L5Ck!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc1d03964-f1f2-4659-9276-6428baa53d89_959x731.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!L5Ck!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc1d03964-f1f2-4659-9276-6428baa53d89_959x731.png 424w, https://substackcdn.com/image/fetch/$s_!L5Ck!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc1d03964-f1f2-4659-9276-6428baa53d89_959x731.png 848w, https://substackcdn.com/image/fetch/$s_!L5Ck!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc1d03964-f1f2-4659-9276-6428baa53d89_959x731.png 1272w, https://substackcdn.com/image/fetch/$s_!L5Ck!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc1d03964-f1f2-4659-9276-6428baa53d89_959x731.png 1456w&quot; width=&quot;959&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Quad socket systems get far more complicated, and implementations can allocate links to prioritize either IO bandwidth or cross-socket bandwidth. AMD’s slides show a basic example where four 16-bit HT links are allocated to IO, but it’s also possible to have only two sockets connect to IO.
  &lt;/p&gt;
  &lt;h2 class=&quot;header-anchor-post&quot;&gt;
   HyperTransport Performance
  &lt;/h2&gt;
  &lt;p&gt;
   In the dual socket setup we’re testing with here, two ports operate in “ganged” mode and connect corresponding dies on the two sockets. The third port is “unganged” to provide a pair of 8-bit links, which connect die 0 on the first socket to die 1 on the second socket, and vice versa. That creates a fully connected mesh. The resulting topology resembles a square, with more link bandwidth along its sides and less across its diagonals.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!8LoP!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1ba2ed70-55a1-4f8b-8feb-4183b19dade7_1438x810.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!8LoP!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1ba2ed70-55a1-4f8b-8feb-4183b19dade7_1438x810.png 424w, https://substackcdn.com/image/fetch/$s_!8LoP!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1ba2ed70-55a1-4f8b-8feb-4183b19dade7_1438x810.png 848w, https://substackcdn.com/image/fetch/$s_!8LoP!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1ba2ed70-55a1-4f8b-8feb-4183b19dade7_1438x810.png 1272w, https://substackcdn.com/image/fetch/$s_!8LoP!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1ba2ed70-55a1-4f8b-8feb-4183b19dade7_1438x810.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/1ba2ed70-55a1-4f8b-8feb-4183b19dade7_1438x810.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:810,&quot;width&quot;:1438,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;810&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!8LoP!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1ba2ed70-55a1-4f8b-8feb-4183b19dade7_1438x810.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!8LoP!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1ba2ed70-55a1-4f8b-8feb-4183b19dade7_1438x810.png 424w, https://substackcdn.com/image/fetch/$s_!8LoP!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1ba2ed70-55a1-4f8b-8feb-4183b19dade7_1438x810.png 848w, https://substackcdn.com/image/fetch/$s_!8LoP!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1ba2ed70-55a1-4f8b-8feb-4183b19dade7_1438x810.png 1272w, https://substackcdn.com/image/fetch/$s_!8LoP!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1ba2ed70-55a1-4f8b-8feb-4183b19dade7_1438x810.png 1456w&quot; width=&quot;1438&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Cross-node memory latency is 120-130 ns, or approximately 50-60 ns more than a local memory access. Magny Cours lands in the same latency ballpark as a newer Intel Westmere dual socket setup. Both dual socket systems from around 2010 offer significantly lower latencies for both local and remote accesses compared to modern systems. The penalty for a remote memory access over a local one is also lower, suggesting both the memory controllers and cross-socket links have lower latency.
  &lt;/p&gt;
  &lt;h2 class=&quot;header-anchor-post&quot;&gt;
   Core to Core Latency
  &lt;/h2&gt;
  &lt;p&gt;
   Like prior AMD generations, Magny Cours’s memory controllers (MCTs) are responsible for ensuring coherency. They can operate in a broadcast mode, where the MCTs probe everyone with each memory request. While simple, this scheme creates a lot of probe traffic and increases DRAM latency because the MCTs have to wait for probe responses before returning data from DRAM. Most memory requests don’t need data from another cache, so AMD implemented an “HT assist” option that reserves 1 MB of L3 cache per die for use as a probe filter. The MCTs use the probe filter to remember which lines in its local address space are cached across the system and if so, what state they’re cached in.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!wjDl!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F901e002b-fe49-424c-9b18-31886090a0d3_1600x832.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!wjDl!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F901e002b-fe49-424c-9b18-31886090a0d3_1600x832.png 424w, https://substackcdn.com/image/fetch/$s_!wjDl!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F901e002b-fe49-424c-9b18-31886090a0d3_1600x832.png 848w, https://substackcdn.com/image/fetch/$s_!wjDl!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F901e002b-fe49-424c-9b18-31886090a0d3_1600x832.png 1272w, https://substackcdn.com/image/fetch/$s_!wjDl!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F901e002b-fe49-424c-9b18-31886090a0d3_1600x832.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/901e002b-fe49-424c-9b18-31886090a0d3_1600x832.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:757,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;757&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!wjDl!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F901e002b-fe49-424c-9b18-31886090a0d3_1600x832.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!wjDl!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F901e002b-fe49-424c-9b18-31886090a0d3_1600x832.png 424w, https://substackcdn.com/image/fetch/$s_!wjDl!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F901e002b-fe49-424c-9b18-31886090a0d3_1600x832.png 848w, https://substackcdn.com/image/fetch/$s_!wjDl!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F901e002b-fe49-424c-9b18-31886090a0d3_1600x832.png 1272w, https://substackcdn.com/image/fetch/$s_!wjDl!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F901e002b-fe49-424c-9b18-31886090a0d3_1600x832.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Regardless of whether HT assist is enabled, Magny Cours’s MCTs are solely responsible for ensuring cache coherency. Therefore, core to core transfers must be orchestrated by the MCT that owns the cache line in question. Cores on the same die may have to exchange data through another die, if the cache line is homed to that other die. Transfers within the same die have about 180 ns of latency, with a latency increase of an extra ~50 ns to the other die within the same socket. In the worst case, latency can pass 300 ns when bouncing a cache line across three dies (two cores on separate dies, orchestrated by a memory controller on a third die).
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!oqiC!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9477613f-619b-4a17-8bb8-4a2d5d413a96_1001x521.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!oqiC!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9477613f-619b-4a17-8bb8-4a2d5d413a96_1001x521.png 424w, https://substackcdn.com/image/fetch/$s_!oqiC!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9477613f-619b-4a17-8bb8-4a2d5d413a96_1001x521.png 848w, https://substackcdn.com/image/fetch/$s_!oqiC!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9477613f-619b-4a17-8bb8-4a2d5d413a96_1001x521.png 1272w, https://substackcdn.com/image/fetch/$s_!oqiC!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9477613f-619b-4a17-8bb8-4a2d5d413a96_1001x521.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/9477613f-619b-4a17-8bb8-4a2d5d413a96_1001x521.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:521,&quot;width&quot;:1001,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;521&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!oqiC!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9477613f-619b-4a17-8bb8-4a2d5d413a96_1001x521.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!oqiC!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9477613f-619b-4a17-8bb8-4a2d5d413a96_1001x521.png 424w, https://substackcdn.com/image/fetch/$s_!oqiC!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9477613f-619b-4a17-8bb8-4a2d5d413a96_1001x521.png 848w, https://substackcdn.com/image/fetch/$s_!oqiC!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9477613f-619b-4a17-8bb8-4a2d5d413a96_1001x521.png 1272w, https://substackcdn.com/image/fetch/$s_!oqiC!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9477613f-619b-4a17-8bb8-4a2d5d413a96_1001x521.png 1456w&quot; width=&quot;1001&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   For comparison, Intel’s slightly newer Westmere uses core valid bits at the L3 cache to act as a probe filter, and can complete core to core transfers within the same die even if the address is homed to another die. Core to core latencies are also lower across the board.
  &lt;/p&gt;
  &lt;h2 class=&quot;header-anchor-post&quot;&gt;
   Bandwidth
  &lt;/h2&gt;
  &lt;p&gt;
   The bandwidth situation with AMD’s setup is quite complicated because it’s a quad-node system, as opposed to the dual-node Westmere setup with half as many cores. Magny Cours connected via 16-bit HT links gets about 5 GB/s of bandwidth between them, with slightly better performance over an intra-package link as opposed to a cross-socket one. Cross-node bandwidth is lowest over the 8-bit “diagonal” cross-socket links, at about 4.4 GB/s.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!lFDG!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb9df8949-280f-4d2f-8857-de28e082048d_319x100.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!lFDG!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb9df8949-280f-4d2f-8857-de28e082048d_319x100.png 424w, https://substackcdn.com/image/fetch/$s_!lFDG!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb9df8949-280f-4d2f-8857-de28e082048d_319x100.png 848w, https://substackcdn.com/image/fetch/$s_!lFDG!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb9df8949-280f-4d2f-8857-de28e082048d_319x100.png 1272w, https://substackcdn.com/image/fetch/$s_!lFDG!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb9df8949-280f-4d2f-8857-de28e082048d_319x100.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;Cross-node bandwidth in GB/s&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/b9df8949-280f-4d2f-8857-de28e082048d_319x100.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:100,&quot;width&quot;:319,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:&quot;Cross-node bandwidth in GB/s&quot;,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;100&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!lFDG!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb9df8949-280f-4d2f-8857-de28e082048d_319x100.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!lFDG!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb9df8949-280f-4d2f-8857-de28e082048d_319x100.png 424w, https://substackcdn.com/image/fetch/$s_!lFDG!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb9df8949-280f-4d2f-8857-de28e082048d_319x100.png 848w, https://substackcdn.com/image/fetch/$s_!lFDG!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb9df8949-280f-4d2f-8857-de28e082048d_319x100.png 1272w, https://substackcdn.com/image/fetch/$s_!lFDG!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb9df8949-280f-4d2f-8857-de28e082048d_319x100.png 1456w&quot; title=&quot;Cross-node bandwidth in GB/s&quot; width=&quot;319&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
      &lt;div&gt;
      &lt;/div&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   From a simple perspective of how fast one socket can read data from another, the Opteron 6180 SE lands in the same ballpark as a Xeon X5650 (Westmere) system. Modern setups of course enjoy massively higher bandwidth, thanks to newer DDR versions, wider memory buses, and improved cross-socket links.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!3u9l!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ffa2141e6-4bdb-4dde-8e44-d973e312789a_1438x849.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!3u9l!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ffa2141e6-4bdb-4dde-8e44-d973e312789a_1438x849.png 424w, https://substackcdn.com/image/fetch/$s_!3u9l!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ffa2141e6-4bdb-4dde-8e44-d973e312789a_1438x849.png 848w, https://substackcdn.com/image/fetch/$s_!3u9l!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ffa2141e6-4bdb-4dde-8e44-d973e312789a_1438x849.png 1272w, https://substackcdn.com/image/fetch/$s_!3u9l!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ffa2141e6-4bdb-4dde-8e44-d973e312789a_1438x849.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;Note that &quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/fa2141e6-4bdb-4dde-8e44-d973e312789a_1438x849.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:849,&quot;width&quot;:1438,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:&quot;Note that &quot;,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;849&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!3u9l!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ffa2141e6-4bdb-4dde-8e44-d973e312789a_1438x849.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!3u9l!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ffa2141e6-4bdb-4dde-8e44-d973e312789a_1438x849.png 424w, https://substackcdn.com/image/fetch/$s_!3u9l!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ffa2141e6-4bdb-4dde-8e44-d973e312789a_1438x849.png 848w, https://substackcdn.com/image/fetch/$s_!3u9l!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ffa2141e6-4bdb-4dde-8e44-d973e312789a_1438x849.png 1272w, https://substackcdn.com/image/fetch/$s_!3u9l!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ffa2141e6-4bdb-4dde-8e44-d973e312789a_1438x849.png 1456w&quot; title=&quot;Note that &quot; width=&quot;1438&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Having cores on both sockets read from the other’s memory pool brings cross-socket bandwidth to just over 17 GB/s, though getting that figure requires making sure the 16-bit links are used rather than the 8-bit ones. Repeating the same experiment but going over the 8-bit diagonal links only achieves 12.33 GB/s. I was able to push total cross-node bandwidth to 19.3 GB/s with a convoluted test where cores on each die read from memory attached to another die over a 16-bit link. To summarize, refer to the following simple picture:
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!jBO2!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8c33fdb7-fe6b-435c-b768-b236fb2924f5_1556x1041.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!jBO2!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8c33fdb7-fe6b-435c-b768-b236fb2924f5_1556x1041.png 424w, https://substackcdn.com/image/fetch/$s_!jBO2!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8c33fdb7-fe6b-435c-b768-b236fb2924f5_1556x1041.png 848w, https://substackcdn.com/image/fetch/$s_!jBO2!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8c33fdb7-fe6b-435c-b768-b236fb2924f5_1556x1041.png 1272w, https://substackcdn.com/image/fetch/$s_!jBO2!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8c33fdb7-fe6b-435c-b768-b236fb2924f5_1556x1041.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/8c33fdb7-fe6b-435c-b768-b236fb2924f5_1556x1041.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:974,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;974&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!jBO2!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8c33fdb7-fe6b-435c-b768-b236fb2924f5_1556x1041.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!jBO2!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8c33fdb7-fe6b-435c-b768-b236fb2924f5_1556x1041.png 424w, https://substackcdn.com/image/fetch/$s_!jBO2!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8c33fdb7-fe6b-435c-b768-b236fb2924f5_1556x1041.png 848w, https://substackcdn.com/image/fetch/$s_!jBO2!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8c33fdb7-fe6b-435c-b768-b236fb2924f5_1556x1041.png 1272w, https://substackcdn.com/image/fetch/$s_!jBO2!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8c33fdb7-fe6b-435c-b768-b236fb2924f5_1556x1041.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   NUMA-aware applications will of course try to keep memory accesses local, and minimize the more expensive accesses over HyperTransport links. I was able to achieve just over 48 GB/s of DRAM bandwidth across the system with all cores reading from their directly attached memory pools. That gives the old Opteron system similar DRAM bandwidth to a relatively modern Ryzen 3950X setup. Of course, the newer 16-core chip has massively higher cache bandwidth and doesn’t have NUMA characteristics.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!bYR6!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F35a72095-dc2d-4acc-8f8b-180f4f035aa6_1600x921.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!bYR6!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F35a72095-dc2d-4acc-8f8b-180f4f035aa6_1600x921.png 424w, https://substackcdn.com/image/fetch/$s_!bYR6!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F35a72095-dc2d-4acc-8f8b-180f4f035aa6_1600x921.png 848w, https://substackcdn.com/image/fetch/$s_!bYR6!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F35a72095-dc2d-4acc-8f8b-180f4f035aa6_1600x921.png 1272w, https://substackcdn.com/image/fetch/$s_!bYR6!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F35a72095-dc2d-4acc-8f8b-180f4f035aa6_1600x921.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/35a72095-dc2d-4acc-8f8b-180f4f035aa6_1600x921.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:838,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;838&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!bYR6!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F35a72095-dc2d-4acc-8f8b-180f4f035aa6_1600x921.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!bYR6!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F35a72095-dc2d-4acc-8f8b-180f4f035aa6_1600x921.png 424w, https://substackcdn.com/image/fetch/$s_!bYR6!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F35a72095-dc2d-4acc-8f8b-180f4f035aa6_1600x921.png 848w, https://substackcdn.com/image/fetch/$s_!bYR6!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F35a72095-dc2d-4acc-8f8b-180f4f035aa6_1600x921.png 1272w, https://substackcdn.com/image/fetch/$s_!bYR6!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F35a72095-dc2d-4acc-8f8b-180f4f035aa6_1600x921.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;h2 class=&quot;header-anchor-post&quot;&gt;
   Intra-Die Interconnect
  &lt;/h2&gt;
  &lt;p&gt;
   Magny Cours’s on-die network, or Northbridge, bridges its six cores to the local memory controller and HyperTransport links. AMD’s Northbridge design internally consists of two crossbars, dubbed the System Request Interface (SRI) and XBAR. Cores connect to the SRI, while the XBAR connects the SRI with the memory controller and HyperTransport links. The two-level split likely reduces port count on each crossbar. 10h CPUs have a 32 entry System Request Queue between the SRI and XBAR, up from 24 entries in earlier K8-based Opterons. At the XBAR, AMD has a 56 entry XBAR Scheduler (XCS) that tracks commands from the SRI, memory controller, and HyperTransport links.
  &lt;/p&gt;
  &lt;blockquote&gt;
   &lt;p&gt;
    Crossbar: This topology is simple to build, and naturally provides an ordered network with low latency. It is suitable where the wire counts are still relatively small. This topology is suitable for an interconnect with a small number of nodes
   &lt;/p&gt;
   &lt;ul&gt;
    &lt;li&gt;
     &lt;p&gt;
      &lt;span&gt;
       Arm’s AMBA 5 CHI Architecture Specification (
      &lt;/span&gt;
      &lt;a href=&quot;https://kolegite.com/EE_library/datasheets_and_manuals/FPGA/AMBA/IHI0050E_a_amba_5_chi_architecture_spec.pdf&quot; rel=&quot;&quot;&gt;
       https://kolegite.com/EE_library/datasheets_and_manuals/FPGA/AMBA/IHI0050E_a_amba_5_chi_architecture_spec.pdf
      &lt;/a&gt;
      &lt;span&gt;
       ), on the tradeoffs between crossbar, ring, and mesh interconnects
      &lt;/span&gt;
     &lt;/p&gt;
    &lt;/li&gt;
   &lt;/ul&gt;
  &lt;/blockquote&gt;
  &lt;p&gt;
   The crossbar setup in AMD’s early on-die network does an excellent job of delivering low memory latency. Baseline memory latency with just a pointer chasing pattern is 72.2 ns. Modern server chips with more complicated interconnects often see memory latency exceed 100 ns.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!DZVU!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9e522718-39c1-49c2-8de3-015961bc9b88_1008x612.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!DZVU!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9e522718-39c1-49c2-8de3-015961bc9b88_1008x612.png 424w, https://substackcdn.com/image/fetch/$s_!DZVU!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9e522718-39c1-49c2-8de3-015961bc9b88_1008x612.png 848w, https://substackcdn.com/image/fetch/$s_!DZVU!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9e522718-39c1-49c2-8de3-015961bc9b88_1008x612.png 1272w, https://substackcdn.com/image/fetch/$s_!DZVU!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9e522718-39c1-49c2-8de3-015961bc9b88_1008x612.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/9e522718-39c1-49c2-8de3-015961bc9b88_1008x612.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:612,&quot;width&quot;:1008,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;612&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!DZVU!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9e522718-39c1-49c2-8de3-015961bc9b88_1008x612.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!DZVU!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9e522718-39c1-49c2-8de3-015961bc9b88_1008x612.png 424w, https://substackcdn.com/image/fetch/$s_!DZVU!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9e522718-39c1-49c2-8de3-015961bc9b88_1008x612.png 848w, https://substackcdn.com/image/fetch/$s_!DZVU!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9e522718-39c1-49c2-8de3-015961bc9b88_1008x612.png 1272w, https://substackcdn.com/image/fetch/$s_!DZVU!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9e522718-39c1-49c2-8de3-015961bc9b88_1008x612.png 1456w&quot; width=&quot;1008&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   As bandwidth demands increase, the interconnect does a mediocre job of ensuring a latency sensitive thread doesn’t get starved by bandwidth hungry ones. Latency increases to 177 ns with the five other cores on the same die generating bandwidth load, which is more than a 2x increase over unloaded latency. Other nodes connected via HyperTransport can generate even more contention on the local memory controller. With cores on another die reading from the same memory controller, bandwidth drops to 8.3 GB/s, while latency from a local core skyrockets to nearly 400 ns. Magny Cours likely suffers contention at multiple points in the interconnect. The most notable issue though is poor memory bandwidth compared to what the setup should be able to achieve.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!B3Na!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4e0d9d6c-bc3d-4b9b-aa29-5e2f6ded846a_898x451.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!B3Na!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4e0d9d6c-bc3d-4b9b-aa29-5e2f6ded846a_898x451.png 424w, https://substackcdn.com/image/fetch/$s_!B3Na!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4e0d9d6c-bc3d-4b9b-aa29-5e2f6ded846a_898x451.png 848w, https://substackcdn.com/image/fetch/$s_!B3Na!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4e0d9d6c-bc3d-4b9b-aa29-5e2f6ded846a_898x451.png 1272w, https://substackcdn.com/image/fetch/$s_!B3Na!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4e0d9d6c-bc3d-4b9b-aa29-5e2f6ded846a_898x451.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/4e0d9d6c-bc3d-4b9b-aa29-5e2f6ded846a_898x451.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:451,&quot;width&quot;:898,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;451&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!B3Na!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4e0d9d6c-bc3d-4b9b-aa29-5e2f6ded846a_898x451.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!B3Na!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4e0d9d6c-bc3d-4b9b-aa29-5e2f6ded846a_898x451.png 424w, https://substackcdn.com/image/fetch/$s_!B3Na!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4e0d9d6c-bc3d-4b9b-aa29-5e2f6ded846a_898x451.png 848w, https://substackcdn.com/image/fetch/$s_!B3Na!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4e0d9d6c-bc3d-4b9b-aa29-5e2f6ded846a_898x451.png 1272w, https://substackcdn.com/image/fetch/$s_!B3Na!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4e0d9d6c-bc3d-4b9b-aa29-5e2f6ded846a_898x451.png 1456w&quot; width=&quot;898&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Three cores are enough to reach bandwidth limits on Magny Cours, which is approximately 10.4 GB/s. With dual channel DDR3-1333 on each node, the test system should have 21.3 GB/s of DRAM bandwidth per node, or 85.3 GB/s across all four nodes. However, bandwidth testing falls well short: even when using all 6 cores to read from a large array, a single die on the Opteron 6180 SE is barely better than a Phenom II X4 945 with DDR2-800, and slightly worse than a Phenom X4 9950 with fast DDR2. This could be down to the low 1.8 GHz northbridge clock and a narrow link to the memory controller (perhaps 64-bit), or insufficient queue entries at the memory controller to absorb DDR latency. Whatever the case, Magny Cours leaves much of DDR3’s potential bandwidth advantage on the table. This issue seems to be solved in Bulldozer, which can achieve well over 20 GB/s with a 2.2 GHz northbridge clock.
  &lt;/p&gt;
  &lt;h1 class=&quot;header-anchor-post&quot;&gt;
   Single Thread Performance: SPEC CPU2017
  &lt;/h1&gt;
  &lt;p&gt;
   Magny Cours is designed to deliver high core count, not maximize single threaded performance. The Opteron 6180 SE runs its cores at 2.5 GHz and northbridge at 1.8 GHz, which is slower than even first-generation Phenoms. With two desktop dies in the same package, AMD needs to use lower clock speeds to keep power under control. Single-threaded SPEC CPU2017 scores are therefore underwhelming. The Opteron 6180 SE comes in just behind Intel’s later Goldmont Plus core, which can clock up to 2.7 GHz.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!qXiN!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff438428f-9675-472d-b2dd-2402bf268519_1129x622.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!qXiN!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff438428f-9675-472d-b2dd-2402bf268519_1129x622.png 424w, https://substackcdn.com/image/fetch/$s_!qXiN!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff438428f-9675-472d-b2dd-2402bf268519_1129x622.png 848w, https://substackcdn.com/image/fetch/$s_!qXiN!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff438428f-9675-472d-b2dd-2402bf268519_1129x622.png 1272w, https://substackcdn.com/image/fetch/$s_!qXiN!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff438428f-9675-472d-b2dd-2402bf268519_1129x622.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/f438428f-9675-472d-b2dd-2402bf268519_1129x622.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:622,&quot;width&quot;:1129,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;622&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!qXiN!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff438428f-9675-472d-b2dd-2402bf268519_1129x622.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!qXiN!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff438428f-9675-472d-b2dd-2402bf268519_1129x622.png 424w, https://substackcdn.com/image/fetch/$s_!qXiN!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff438428f-9675-472d-b2dd-2402bf268519_1129x622.png 848w, https://substackcdn.com/image/fetch/$s_!qXiN!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff438428f-9675-472d-b2dd-2402bf268519_1129x622.png 1272w, https://substackcdn.com/image/fetch/$s_!qXiN!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff438428f-9675-472d-b2dd-2402bf268519_1129x622.png 1456w&quot; width=&quot;1129&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   AMD’s client designs from a few years later achieved much better SPEC CPU2017 scores. The older Phenom X4 9950 takes a tiny lead across both test suites. Its smaller 2 MB L3 cache is balanced out by higher clocks, with an overclock to 2.8 GHz really helping it out. Despite losing 1 MB of L3 for use as a probe filter and thus only having 5 MB of L3, the Opteron 6180 maintains a healthy L3 hit rate advantage over its predecessor.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!b3aC!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Faa32dc7b-3194-4156-a79d-b1559366d55d_1580x1432.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!b3aC!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Faa32dc7b-3194-4156-a79d-b1559366d55d_1580x1432.png 424w, https://substackcdn.com/image/fetch/$s_!b3aC!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Faa32dc7b-3194-4156-a79d-b1559366d55d_1580x1432.png 848w, https://substackcdn.com/image/fetch/$s_!b3aC!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Faa32dc7b-3194-4156-a79d-b1559366d55d_1580x1432.png 1272w, https://substackcdn.com/image/fetch/$s_!b3aC!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Faa32dc7b-3194-4156-a79d-b1559366d55d_1580x1432.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/aa32dc7b-3194-4156-a79d-b1559366d55d_1580x1432.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:1320,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;1320&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!b3aC!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Faa32dc7b-3194-4156-a79d-b1559366d55d_1580x1432.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!b3aC!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Faa32dc7b-3194-4156-a79d-b1559366d55d_1580x1432.png 424w, https://substackcdn.com/image/fetch/$s_!b3aC!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Faa32dc7b-3194-4156-a79d-b1559366d55d_1580x1432.png 848w, https://substackcdn.com/image/fetch/$s_!b3aC!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Faa32dc7b-3194-4156-a79d-b1559366d55d_1580x1432.png 1272w, https://substackcdn.com/image/fetch/$s_!b3aC!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Faa32dc7b-3194-4156-a79d-b1559366d55d_1580x1432.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   The exact advantage of the larger L3 can vary of course. 510.parset is a great showcase of what a bigger cache can achieve, with the huge hit rate difference giving the Opteron 6180 SE a 9.4% lead over the Phenom X4 9950. Conversely, 548.exchange2 is a high IPC test with a very tiny data footprint. In that subtest, the Phenom X4 9950 uses its 12% clock speed advantage to gain a 11% lead.
  &lt;/p&gt;
  &lt;h1 class=&quot;header-anchor-post&quot;&gt;
   Final Words
  &lt;/h1&gt;
  &lt;p&gt;
   Technologies available in the late 2000s made core count scaling a difficult task. Magny Cours employed a long list of techniques to push core counts higher while keeping cost under control. Carving a snoop filter out of L3 capacity helps reduce die area requirements. At a higher level, AMD reuses a smaller die across different market segments, and uses multiple instances of the same die to scale core counts. As a result, AMD can keep fewer, smaller dies in production. In some ways, AMD’s strategy back then has parallels to their current one, which also seeks to reuse a smaller die across different purposes.
  &lt;/p&gt;
  &lt;p&gt;
   While low cost, AMD’s approach has downsides. Because each hexacore die is a self-contained unit with its own cores and memory controller, Magny Cours relies on NUMA-aware software for optimal performance. Intel also has to deal with NUMA characteristics when scaling up core counts, but their octa-core Nehalem-EX and 10-core Westmere EX provide more cores and more memory bandwidth in each NUMA node. AMD’s HyperTransport and low latency northbridge do get credit for keeping NUMA cross-node costs low, as cross-node memory accesses have far lower latency than in modern designs. But AMD still relies more heavily on software written with NUMA in mind than Intel.
  &lt;/p&gt;
  &lt;p&gt;
   Digging deeper reveals quirks with Magny Cours. Memory bandwidth is underwhelming for a DDR3 system, and the Northbridge struggles to maintain fairness under high bandwidth load. A four-node system might be fully connected, but “diagonal” links have lower bandwidth. All of that makes the system potentially more difficult to tune for, especially compared to a modern 24-core chip with uniform memory access. Creating a high core count system was quite a challenge in the years leading up to 2010, and quirks are expected.
  &lt;/p&gt;
  &lt;p&gt;
   But Magny Cours evidently worked well enough to chart AMD’s scalability course for the next few generations. AMD would continue to reuse a small die across server and client products, and scaled core count by scaling die count. Even for their Bulldozer Opterons, AMD kept using this general setup of four sockets with 2 dies each, only updating it for Zen1, which is perhaps the ultimate evolution of the Magny Cours strategy, hitting four dies per socket and replacing the Northbridge/HyperTransport combination with Infinity Fabric components. Today, AMD continues to use a multi-die strategy, though with more die types (IO dies and CCDs) to provide more uniform memory access.
  &lt;/p&gt;
  &lt;p&gt;
   &lt;span&gt;
    If you like the content then consider heading over to the
   &lt;/span&gt;
   &lt;a href=&quot;https://www.patreon.com/ChipsandCheese&quot; rel=&quot;&quot;&gt;
    Patreon
   &lt;/a&gt;
   &lt;span&gt;
    or
   &lt;/span&gt;
   &lt;a href=&quot;https://www.paypal.com/donate/?hosted_button_id=4EMPH66SBGVSQ&quot; rel=&quot;&quot;&gt;
    PayPal
   &lt;/a&gt;
   &lt;span&gt;
    if you want to toss a few bucks to Chips and Cheese. Also consider joining the
   &lt;/span&gt;
   &lt;a href=&quot;https://discord.gg/TwVnRhxgY2&quot; rel=&quot;&quot;&gt;
    Discord
   &lt;/a&gt;
   &lt;span&gt;
    .
   &lt;/span&gt;
  &lt;/p&gt;
 &lt;/div&gt;
&lt;/div&gt;

</description>
</item>
<item>
<title> Intel’s Lion Cove P-Core and Gaming Workloads </title>
<link>https://chipsandcheese.com/p/intels-lion-cove-p-core-and-gaming</link>
<pubDate>Sun, 06 Jul 2025 21:00:43 -0000</pubDate>
<description>
&lt;div class=&quot;available-content&quot;&gt;
 &lt;div class=&quot;body markup&quot; dir=&quot;auto&quot;&gt;
  &lt;p&gt;
   Lion Cove is Intel’s latest high performance CPU architecture. Compared to its predecessor, Raptor Cove, Intel’s newest core can sustain more instructions per cycle, reorganizes the execution engine, and adds an extra level to the data cache hierarchy. The list of changes goes on, with tweaks to just about every part of the core pipeline. Lion Cove does well in the standard SPEC CPU2017 benchmark suite, where it posts sizeable gains especially in higher IPC subtests. In the Arrow Lake desktop platform, Lion Cove can often go head-to-head against AMD’s Zen 5, and posts an overall lead over Intel’s prior Raptor Cove while pulling less power. But a lot of enthusiasts are interested in gaming performance, and games have different demands from productivity workloads.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!sSwz!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F699136d2-f7b3-425b-a65d-ae52c83d9070_1384x1600.jpeg&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!sSwz!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F699136d2-f7b3-425b-a65d-ae52c83d9070_1384x1600.jpeg 424w, https://substackcdn.com/image/fetch/$s_!sSwz!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F699136d2-f7b3-425b-a65d-ae52c83d9070_1384x1600.jpeg 848w, https://substackcdn.com/image/fetch/$s_!sSwz!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F699136d2-f7b3-425b-a65d-ae52c83d9070_1384x1600.jpeg 1272w, https://substackcdn.com/image/fetch/$s_!sSwz!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F699136d2-f7b3-425b-a65d-ae52c83d9070_1384x1600.jpeg 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/699136d2-f7b3-425b-a65d-ae52c83d9070_1384x1600.jpeg&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:1600,&quot;width&quot;:1384,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:false,&quot;topImage&quot;:true,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; fetchpriority=&quot;high&quot; height=&quot;1600&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!sSwz!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F699136d2-f7b3-425b-a65d-ae52c83d9070_1384x1600.jpeg&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!sSwz!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F699136d2-f7b3-425b-a65d-ae52c83d9070_1384x1600.jpeg 424w, https://substackcdn.com/image/fetch/$s_!sSwz!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F699136d2-f7b3-425b-a65d-ae52c83d9070_1384x1600.jpeg 848w, https://substackcdn.com/image/fetch/$s_!sSwz!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F699136d2-f7b3-425b-a65d-ae52c83d9070_1384x1600.jpeg 1272w, https://substackcdn.com/image/fetch/$s_!sSwz!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F699136d2-f7b3-425b-a65d-ae52c83d9070_1384x1600.jpeg 1456w&quot; width=&quot;1384&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Here, I’ll be running a few games while collecting performance monitoring data. I’m using the Core Ultra 9 285K with DDR5-6000 28-36-36-96, which is the fastest memory I have available. E-Cores are turned off in the BIOS, because setting affinity to P-Cores caused massive stuttering in Call of Duty. In Cyberpunk 2077, I’m using the built-in benchmark at 1080P and medium settings, with upscaling turned off. In Palworld, I’m hanging out near a base, because CPU load tends to be higher with more entities around.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!VWxm!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6e78472f-8738-4748-88e1-367be2565960_1331x1099.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!VWxm!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6e78472f-8738-4748-88e1-367be2565960_1331x1099.png 424w, https://substackcdn.com/image/fetch/$s_!VWxm!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6e78472f-8738-4748-88e1-367be2565960_1331x1099.png 848w, https://substackcdn.com/image/fetch/$s_!VWxm!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6e78472f-8738-4748-88e1-367be2565960_1331x1099.png 1272w, https://substackcdn.com/image/fetch/$s_!VWxm!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6e78472f-8738-4748-88e1-367be2565960_1331x1099.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/6e78472f-8738-4748-88e1-367be2565960_1331x1099.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:1099,&quot;width&quot;:1331,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:false,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;1099&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!VWxm!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6e78472f-8738-4748-88e1-367be2565960_1331x1099.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!VWxm!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6e78472f-8738-4748-88e1-367be2565960_1331x1099.png 424w, https://substackcdn.com/image/fetch/$s_!VWxm!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6e78472f-8738-4748-88e1-367be2565960_1331x1099.png 848w, https://substackcdn.com/image/fetch/$s_!VWxm!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6e78472f-8738-4748-88e1-367be2565960_1331x1099.png 1272w, https://substackcdn.com/image/fetch/$s_!VWxm!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6e78472f-8738-4748-88e1-367be2565960_1331x1099.png 1456w&quot; width=&quot;1331&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Gaming workloads generally fall at the low end of the IPC range. Lion Cove can sustain eight micro-ops per cycle, which roughly corresponds to eight instructions per cycle because most instructions map to a single micro-op. It posts very high IPC figures in several SPEC CPU2017 tests, with some pushing well past 4 IPC. Games however get nowhere near that, and find company with lower IPC tests that see their performance limited by frontend and backend latency.
  &lt;/p&gt;
  &lt;h1 class=&quot;header-anchor-post&quot;&gt;
   Top-Down View
  &lt;/h1&gt;
  &lt;p&gt;
   &lt;a href=&quot;https://www.intel.com/content/www/us/en/docs/vtune-profiler/cookbook/2023-0/top-down-microarchitecture-analysis-method.html&quot; rel=&quot;&quot;&gt;
    Top-down analysis
   &lt;/a&gt;
   &lt;span&gt;
    characterizes how well an application is utilizing a CPU core’s width, and accounts for why pipeline slots go under-utilized. This is usually done at the rename/allocate stage, because it’s often the narrowest stage in the core’s pipeline, which means throughput lost at that stage can’t be recovered later. To briefly break down the reasons:
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;ul&gt;
   &lt;li&gt;
    &lt;p&gt;
     Bad Speculation: Slot was utilized, but the core was going down the wrong path. That’s usually due to a branch mispredict.
    &lt;/p&gt;
   &lt;/li&gt;
   &lt;li&gt;
    &lt;p&gt;
     Frontend Latency: Frontend didn’t deliver any micro-ops to the renamer that cycle
    &lt;/p&gt;
   &lt;/li&gt;
   &lt;li&gt;
    &lt;p&gt;
     Frontend Bandwidth: The frontend delivered some micro-ops, but not enough to fill all renamer slots (eight on Lion Cove)
    &lt;/p&gt;
   &lt;/li&gt;
   &lt;li&gt;
    &lt;p&gt;
     Core Bound: The backend couldn’t accept more micro-ops from the frontend, and the instruction blocking retirement isn’t a memory load
    &lt;/p&gt;
   &lt;/li&gt;
   &lt;li&gt;
    &lt;p&gt;
     Backend Memory Bound: As above, but the instruction blocking retirement is a memory load. Intel only describes the event as “TOPDOWN.MEMORY_BOUND_SLOTS” (event 0xA4, unit mask 0x10), but AMD and others explicitly use the criteria of a memory load blocking retirement for their corresponding metrics. Intel likely does the same.
    &lt;/p&gt;
   &lt;/li&gt;
   &lt;li&gt;
    &lt;p&gt;
     Retiring: The renamer slot was utilized and the corresponding micro-op was eventually retired (useful work)
    &lt;/p&gt;
   &lt;/li&gt;
  &lt;/ul&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!KqTG!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F00f3746a-588f-476b-b19c-6d90ff690b30_1334x707.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!KqTG!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F00f3746a-588f-476b-b19c-6d90ff690b30_1334x707.png 424w, https://substackcdn.com/image/fetch/$s_!KqTG!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F00f3746a-588f-476b-b19c-6d90ff690b30_1334x707.png 848w, https://substackcdn.com/image/fetch/$s_!KqTG!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F00f3746a-588f-476b-b19c-6d90ff690b30_1334x707.png 1272w, https://substackcdn.com/image/fetch/$s_!KqTG!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F00f3746a-588f-476b-b19c-6d90ff690b30_1334x707.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/00f3746a-588f-476b-b19c-6d90ff690b30_1334x707.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:707,&quot;width&quot;:1334,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:false,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;707&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!KqTG!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F00f3746a-588f-476b-b19c-6d90ff690b30_1334x707.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!KqTG!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F00f3746a-588f-476b-b19c-6d90ff690b30_1334x707.png 424w, https://substackcdn.com/image/fetch/$s_!KqTG!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F00f3746a-588f-476b-b19c-6d90ff690b30_1334x707.png 848w, https://substackcdn.com/image/fetch/$s_!KqTG!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F00f3746a-588f-476b-b19c-6d90ff690b30_1334x707.png 1272w, https://substackcdn.com/image/fetch/$s_!KqTG!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F00f3746a-588f-476b-b19c-6d90ff690b30_1334x707.png 1456w&quot; width=&quot;1334&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Core width is poorly utilized, as implied by the IPC figures above. Backend memory latency accounts for a plurality of lost pipeline slots, though there’s room for improvement in instruction execution latency (core bound) and frontend latency as well. Bad speculation and frontend bandwidth are not major issues.
  &lt;/p&gt;
  &lt;h1 class=&quot;header-anchor-post&quot;&gt;
   Backend Memory Access
  &lt;/h1&gt;
  &lt;p&gt;
   Lion Cove has a 4-level data caching setup, with the L1 data cache split into two levels. I’ll be calling those L1 and L1.5 for simplicity, because the second level of the L1 lands between the first level and the 3 MB L2 cache in capacity and performance.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!wM95!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa4c19a72-21bc-4c43-8631-78e1b312b1ce_1048x396.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!wM95!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa4c19a72-21bc-4c43-8631-78e1b312b1ce_1048x396.png 424w, https://substackcdn.com/image/fetch/$s_!wM95!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa4c19a72-21bc-4c43-8631-78e1b312b1ce_1048x396.png 848w, https://substackcdn.com/image/fetch/$s_!wM95!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa4c19a72-21bc-4c43-8631-78e1b312b1ce_1048x396.png 1272w, https://substackcdn.com/image/fetch/$s_!wM95!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa4c19a72-21bc-4c43-8631-78e1b312b1ce_1048x396.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/a4c19a72-21bc-4c43-8631-78e1b312b1ce_1048x396.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:396,&quot;width&quot;:1048,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:53096,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/167673703?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa4c19a72-21bc-4c43-8631-78e1b312b1ce_1048x396.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;396&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!wM95!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa4c19a72-21bc-4c43-8631-78e1b312b1ce_1048x396.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!wM95!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa4c19a72-21bc-4c43-8631-78e1b312b1ce_1048x396.png 424w, https://substackcdn.com/image/fetch/$s_!wM95!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa4c19a72-21bc-4c43-8631-78e1b312b1ce_1048x396.png 848w, https://substackcdn.com/image/fetch/$s_!wM95!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa4c19a72-21bc-4c43-8631-78e1b312b1ce_1048x396.png 1272w, https://substackcdn.com/image/fetch/$s_!wM95!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa4c19a72-21bc-4c43-8631-78e1b312b1ce_1048x396.png 1456w&quot; width=&quot;1048&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Lion Cove’s L1.5 catches a substantial portion of L1 misses, though its hitrate isn’t great in absolute terms. It gives off some RDNA 128 KB L1 vibes, in that it takes some load off the L2 but often has mediocre hitrates. L2 hitrate is 49.88%, 71.87%, and 50.98% in COD, Palworld, and Cyberpunk 2077 respectively. Cumulative hitrate for the L1.5 and L2 comes in at 75.54%, 85.05%, and 85.83% across the three games. Intel’s strategy of using a larger L2 to keep traffic off L3 works to a certain extent, because most L1 misses are serviced without leaving the core.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!ZiIV!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc529bf99-5c43-4123-b4e9-e0fd4d6b2830_1318x729.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!ZiIV!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc529bf99-5c43-4123-b4e9-e0fd4d6b2830_1318x729.png 424w, https://substackcdn.com/image/fetch/$s_!ZiIV!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc529bf99-5c43-4123-b4e9-e0fd4d6b2830_1318x729.png 848w, https://substackcdn.com/image/fetch/$s_!ZiIV!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc529bf99-5c43-4123-b4e9-e0fd4d6b2830_1318x729.png 1272w, https://substackcdn.com/image/fetch/$s_!ZiIV!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc529bf99-5c43-4123-b4e9-e0fd4d6b2830_1318x729.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/c529bf99-5c43-4123-b4e9-e0fd4d6b2830_1318x729.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:729,&quot;width&quot;:1318,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;729&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!ZiIV!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc529bf99-5c43-4123-b4e9-e0fd4d6b2830_1318x729.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!ZiIV!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc529bf99-5c43-4123-b4e9-e0fd4d6b2830_1318x729.png 424w, https://substackcdn.com/image/fetch/$s_!ZiIV!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc529bf99-5c43-4123-b4e9-e0fd4d6b2830_1318x729.png 848w, https://substackcdn.com/image/fetch/$s_!ZiIV!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc529bf99-5c43-4123-b4e9-e0fd4d6b2830_1318x729.png 1272w, https://substackcdn.com/image/fetch/$s_!ZiIV!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc529bf99-5c43-4123-b4e9-e0fd4d6b2830_1318x729.png 1456w&quot; width=&quot;1318&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   However, memory accesses that do go to L3 and DRAM are very expensive. Lion Cove can provide an idea of how often each level in the memory hierarchy limits performance. Specifically, performance monitoring events count cycles where no micro-ops were ready to execute, a load was pending from a specified cache level, and no loads missed that level of cache. For example, a cycle would be L3 bound if the core was waiting for data from L3, wasn’t also waiting for data from DRAM, and all pending instructions queued up in the core were blocked waiting for data. An execute stage stall doesn’t imply performance impact, because the core has more execution ports than renamer slots. The execute stage can race ahead after stalling for a few cycles without losing average throughput. So, this is a measurement of how hard the core has to cope, rather than whether it was able to cope.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!ML86!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8d167f18-5fdf-4585-bd2b-4e017beb1741_1316x727.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!ML86!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8d167f18-5fdf-4585-bd2b-4e017beb1741_1316x727.png 424w, https://substackcdn.com/image/fetch/$s_!ML86!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8d167f18-5fdf-4585-bd2b-4e017beb1741_1316x727.png 848w, https://substackcdn.com/image/fetch/$s_!ML86!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8d167f18-5fdf-4585-bd2b-4e017beb1741_1316x727.png 1272w, https://substackcdn.com/image/fetch/$s_!ML86!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8d167f18-5fdf-4585-bd2b-4e017beb1741_1316x727.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/8d167f18-5fdf-4585-bd2b-4e017beb1741_1316x727.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:727,&quot;width&quot;:1316,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;727&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!ML86!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8d167f18-5fdf-4585-bd2b-4e017beb1741_1316x727.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!ML86!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8d167f18-5fdf-4585-bd2b-4e017beb1741_1316x727.png 424w, https://substackcdn.com/image/fetch/$s_!ML86!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8d167f18-5fdf-4585-bd2b-4e017beb1741_1316x727.png 848w, https://substackcdn.com/image/fetch/$s_!ML86!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8d167f18-5fdf-4585-bd2b-4e017beb1741_1316x727.png 1272w, https://substackcdn.com/image/fetch/$s_!ML86!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8d167f18-5fdf-4585-bd2b-4e017beb1741_1316x727.png 1456w&quot; width=&quot;1316&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Intel’s performance events don’t distinguish between L1 and L1.5, so both are counted as “L1 Bound” in the graph above. The L1.5 seems to move enough accesses off L2 to minimize the effect of L2 latency. Past L2 though, L3 and DRAM performance have a significant impact. L2 misses may be rare in an absolute sense, but they’re not quite rare enough considering the high cost of a L3 or DRAM access.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!32oC!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa0793b5a-15c1-43ad-9cdb-6a98fcac862f_913x270.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!32oC!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa0793b5a-15c1-43ad-9cdb-6a98fcac862f_913x270.png 424w, https://substackcdn.com/image/fetch/$s_!32oC!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa0793b5a-15c1-43ad-9cdb-6a98fcac862f_913x270.png 848w, https://substackcdn.com/image/fetch/$s_!32oC!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa0793b5a-15c1-43ad-9cdb-6a98fcac862f_913x270.png 1272w, https://substackcdn.com/image/fetch/$s_!32oC!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa0793b5a-15c1-43ad-9cdb-6a98fcac862f_913x270.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/a0793b5a-15c1-43ad-9cdb-6a98fcac862f_913x270.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:270,&quot;width&quot;:913,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;270&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!32oC!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa0793b5a-15c1-43ad-9cdb-6a98fcac862f_913x270.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!32oC!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa0793b5a-15c1-43ad-9cdb-6a98fcac862f_913x270.png 424w, https://substackcdn.com/image/fetch/$s_!32oC!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa0793b5a-15c1-43ad-9cdb-6a98fcac862f_913x270.png 848w, https://substackcdn.com/image/fetch/$s_!32oC!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa0793b5a-15c1-43ad-9cdb-6a98fcac862f_913x270.png 1272w, https://substackcdn.com/image/fetch/$s_!32oC!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa0793b5a-15c1-43ad-9cdb-6a98fcac862f_913x270.png 1456w&quot; width=&quot;913&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Lion Cove and the Arrow Lake platform can monitor queue occupancy at various points in the memory hierarchy. Dividing occupancy by request count provides average latency in cycles, giving an idea of how much latency the core has to cope with in practice.
  &lt;/p&gt;
  &lt;blockquote&gt;
   &lt;p&gt;
    Count occurrences (rising-edge) of DCACHE_PENDING sub-event0. Impl. sends per-port binary inc-bit the occupancy increases* (at FB alloc or promotion).
   &lt;/p&gt;
   &lt;ul&gt;
    &lt;li&gt;
     &lt;p&gt;
      Intel’s description for the L1D_MISS.LOAD event, which unhelpfully doesn’t indicate which level of the L1 it counts for.
     &lt;/p&gt;
    &lt;/li&gt;
   &lt;/ul&gt;
  &lt;/blockquote&gt;
  &lt;p&gt;
   These performance monitoring events can be confusing. The L1D_MISS.LOAD event (event 0x49, unit mask 1) increments when loads miss the 48 KB L1D. However the corresponding L1D_PENDING.LOAD event (event 0x48, unit mask 1) only accounts for loads that miss the 192 KB L1.5. Using both events in combination treats L1.5 hits as zero latency. It does accurately account for latency to L2 and beyond, though only from the perspective of a queue between the L1.5 and L2.
  &lt;/p&gt;
  &lt;p&gt;
   Measuring latency at the arbitration queue (ARB) can be confusing in a different way. The ARB runs at the CPU tile’s uncore clock, or 3.8 GHz. That’s well below the 5.7 GHz maximum CPU core clock, so the ARB will see fewer cycles of latency than the CPU core does. Therefore, I’m adding another set of bars with post-ARB latency multiplied by 5.7/3.8, to approximate latency in CPU core cycles.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!8VTq!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F56d4a549-4c3c-4609-96dd-daf7c6382f16_1328x768.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!8VTq!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F56d4a549-4c3c-4609-96dd-daf7c6382f16_1328x768.png 424w, https://substackcdn.com/image/fetch/$s_!8VTq!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F56d4a549-4c3c-4609-96dd-daf7c6382f16_1328x768.png 848w, https://substackcdn.com/image/fetch/$s_!8VTq!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F56d4a549-4c3c-4609-96dd-daf7c6382f16_1328x768.png 1272w, https://substackcdn.com/image/fetch/$s_!8VTq!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F56d4a549-4c3c-4609-96dd-daf7c6382f16_1328x768.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/56d4a549-4c3c-4609-96dd-daf7c6382f16_1328x768.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:768,&quot;width&quot;:1328,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;768&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!8VTq!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F56d4a549-4c3c-4609-96dd-daf7c6382f16_1328x768.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!8VTq!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F56d4a549-4c3c-4609-96dd-daf7c6382f16_1328x768.png 424w, https://substackcdn.com/image/fetch/$s_!8VTq!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F56d4a549-4c3c-4609-96dd-daf7c6382f16_1328x768.png 848w, https://substackcdn.com/image/fetch/$s_!8VTq!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F56d4a549-4c3c-4609-96dd-daf7c6382f16_1328x768.png 1272w, https://substackcdn.com/image/fetch/$s_!8VTq!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F56d4a549-4c3c-4609-96dd-daf7c6382f16_1328x768.png 1456w&quot; width=&quot;1328&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Another way to get a handle on latency is to multiply by cycle time to approximate actual latency. Clocks aren’t static on Arrow Lake, so there’s additional margin of error. But doing so does show latency past the ARB remains well controlled, so DRAM bandwidth isn’t a concern. If games were approaching DRAM bandwidth limits, latency would go much higher as requests start piling up at the ARB queue and subsequent points in the chip’s interconnect.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!VmN4!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc2699c09-0825-4693-9721-255c18e4e0c5_1304x731.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!VmN4!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc2699c09-0825-4693-9721-255c18e4e0c5_1304x731.png 424w, https://substackcdn.com/image/fetch/$s_!VmN4!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc2699c09-0825-4693-9721-255c18e4e0c5_1304x731.png 848w, https://substackcdn.com/image/fetch/$s_!VmN4!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc2699c09-0825-4693-9721-255c18e4e0c5_1304x731.png 1272w, https://substackcdn.com/image/fetch/$s_!VmN4!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc2699c09-0825-4693-9721-255c18e4e0c5_1304x731.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/c2699c09-0825-4693-9721-255c18e4e0c5_1304x731.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:731,&quot;width&quot;:1304,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;731&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!VmN4!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc2699c09-0825-4693-9721-255c18e4e0c5_1304x731.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!VmN4!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc2699c09-0825-4693-9721-255c18e4e0c5_1304x731.png 424w, https://substackcdn.com/image/fetch/$s_!VmN4!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc2699c09-0825-4693-9721-255c18e4e0c5_1304x731.png 848w, https://substackcdn.com/image/fetch/$s_!VmN4!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc2699c09-0825-4693-9721-255c18e4e0c5_1304x731.png 1272w, https://substackcdn.com/image/fetch/$s_!VmN4!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc2699c09-0825-4693-9721-255c18e4e0c5_1304x731.png 1456w&quot; width=&quot;1304&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;h1 class=&quot;header-anchor-post&quot;&gt;
   Frontend
  &lt;/h1&gt;
  &lt;p&gt;
   Much of the action happens at the backend, but Lion Cove loses some throughput at the frontend too. Instruction-side accesses tend to be more predictable than data-side ones, because instructions are executed sequentially until the core reaches a branch. That means accurate branch prediction can let the core hide frontend latency.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!8cXx!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb46f8158-15b6-4895-ba6a-a2ed5f4addbd_579x569.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!8cXx!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb46f8158-15b6-4895-ba6a-a2ed5f4addbd_579x569.png 424w, https://substackcdn.com/image/fetch/$s_!8cXx!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb46f8158-15b6-4895-ba6a-a2ed5f4addbd_579x569.png 848w, https://substackcdn.com/image/fetch/$s_!8cXx!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb46f8158-15b6-4895-ba6a-a2ed5f4addbd_579x569.png 1272w, https://substackcdn.com/image/fetch/$s_!8cXx!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb46f8158-15b6-4895-ba6a-a2ed5f4addbd_579x569.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/b46f8158-15b6-4895-ba6a-a2ed5f4addbd_579x569.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:569,&quot;width&quot;:579,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;569&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!8cXx!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb46f8158-15b6-4895-ba6a-a2ed5f4addbd_579x569.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!8cXx!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb46f8158-15b6-4895-ba6a-a2ed5f4addbd_579x569.png 424w, https://substackcdn.com/image/fetch/$s_!8cXx!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb46f8158-15b6-4895-ba6a-a2ed5f4addbd_579x569.png 848w, https://substackcdn.com/image/fetch/$s_!8cXx!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb46f8158-15b6-4895-ba6a-a2ed5f4addbd_579x569.png 1272w, https://substackcdn.com/image/fetch/$s_!8cXx!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb46f8158-15b6-4895-ba6a-a2ed5f4addbd_579x569.png 1456w&quot; width=&quot;579&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Lion Cove’s branch predictor enjoys excellent accuracy across all three games. Mispredicts however can still be an issue. Just as the occasional L3 or DRAM access can be problematic because they’re so expensive, recovering from a branch mispredict can hurt too. Because a mispredict breaks the branch predictor’s ability to run ahead, it can expose the core to instruction-side cache latency. Fetching the correct branch target from L2 or beyond could add dozens of cycles to mispredict recovery time. Ideally, the core would contain much of an application’s code footprint within the fastest instruction cache levels to minimize that penalty.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!D2t6!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3b5fb44a-3913-4fc8-82e7-b4b18241e8a6_1302x709.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!D2t6!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3b5fb44a-3913-4fc8-82e7-b4b18241e8a6_1302x709.png 424w, https://substackcdn.com/image/fetch/$s_!D2t6!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3b5fb44a-3913-4fc8-82e7-b4b18241e8a6_1302x709.png 848w, https://substackcdn.com/image/fetch/$s_!D2t6!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3b5fb44a-3913-4fc8-82e7-b4b18241e8a6_1302x709.png 1272w, https://substackcdn.com/image/fetch/$s_!D2t6!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3b5fb44a-3913-4fc8-82e7-b4b18241e8a6_1302x709.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/3b5fb44a-3913-4fc8-82e7-b4b18241e8a6_1302x709.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:709,&quot;width&quot;:1302,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;709&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!D2t6!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3b5fb44a-3913-4fc8-82e7-b4b18241e8a6_1302x709.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!D2t6!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3b5fb44a-3913-4fc8-82e7-b4b18241e8a6_1302x709.png 424w, https://substackcdn.com/image/fetch/$s_!D2t6!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3b5fb44a-3913-4fc8-82e7-b4b18241e8a6_1302x709.png 848w, https://substackcdn.com/image/fetch/$s_!D2t6!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3b5fb44a-3913-4fc8-82e7-b4b18241e8a6_1302x709.png 1272w, https://substackcdn.com/image/fetch/$s_!D2t6!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3b5fb44a-3913-4fc8-82e7-b4b18241e8a6_1302x709.png 1456w&quot; width=&quot;1302&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Lion Cove’s frontend can source micro-ops from four sources. The loop buffer, or Loop Stream Detector (LSD) and microcode sequencer play a minor role. Most micro-ops come from the micro-op cache, or Decoded Stream Buffer (DSB). Even though the op cache delivers a majority of micro-ops, it’s not large enough to serve as the core’s primary instruction cache. Lion Cove gets a 64 KB instruction cache, carried over from Redwood Cove. Intel no longer documents events that would allow a direct L1i hitrate calculation. However, older events from before Alder Lake still appear to work. Micro-op cache hits are counted as instruction cache hits from testing with microbenchmarks. Therefore, figures below indicate how often instruction fetches were satisfied without going to L2.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!r8Vi!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fee406241-9157-4b23-95a0-c0d52f1d09f0_701x584.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!r8Vi!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fee406241-9157-4b23-95a0-c0d52f1d09f0_701x584.png 424w, https://substackcdn.com/image/fetch/$s_!r8Vi!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fee406241-9157-4b23-95a0-c0d52f1d09f0_701x584.png 848w, https://substackcdn.com/image/fetch/$s_!r8Vi!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fee406241-9157-4b23-95a0-c0d52f1d09f0_701x584.png 1272w, https://substackcdn.com/image/fetch/$s_!r8Vi!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fee406241-9157-4b23-95a0-c0d52f1d09f0_701x584.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/ee406241-9157-4b23-95a0-c0d52f1d09f0_701x584.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:584,&quot;width&quot;:701,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;584&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!r8Vi!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fee406241-9157-4b23-95a0-c0d52f1d09f0_701x584.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!r8Vi!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fee406241-9157-4b23-95a0-c0d52f1d09f0_701x584.png 424w, https://substackcdn.com/image/fetch/$s_!r8Vi!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fee406241-9157-4b23-95a0-c0d52f1d09f0_701x584.png 848w, https://substackcdn.com/image/fetch/$s_!r8Vi!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fee406241-9157-4b23-95a0-c0d52f1d09f0_701x584.png 1272w, https://substackcdn.com/image/fetch/$s_!r8Vi!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fee406241-9157-4b23-95a0-c0d52f1d09f0_701x584.png 1456w&quot; width=&quot;701&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   The 64 KB instruction cache does its job, keeping the vast majority of instruction fetches from reaching L2. Code hitrate from L2 is lower, likely because accesses that miss L1i have worse locality in the first place. Instructions also have to contend with data for L2 capacity. L2 code misses don’t happen too often, but can be problematic just as on the data side because of the dramatic latency jump.
  &lt;/p&gt;
  &lt;p&gt;
   Among the three games here, Cyberpunk 2077’s built-in benchmark has better code locality, while Palworld suffers the most. That’s reflected in average instruction-side latency seen by the core. When running Palworld, Lion Cove takes longer to recover from pipeline resteers, which largely come from branch mispredicts. Recovery time here refers to cycles elapsed until the renamer issues the first micro-op from the correct path.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!7vLT!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F526bacf1-0f3b-490f-b506-d900b15d7044_1193x752.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!7vLT!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F526bacf1-0f3b-490f-b506-d900b15d7044_1193x752.png 424w, https://substackcdn.com/image/fetch/$s_!7vLT!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F526bacf1-0f3b-490f-b506-d900b15d7044_1193x752.png 848w, https://substackcdn.com/image/fetch/$s_!7vLT!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F526bacf1-0f3b-490f-b506-d900b15d7044_1193x752.png 1272w, https://substackcdn.com/image/fetch/$s_!7vLT!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F526bacf1-0f3b-490f-b506-d900b15d7044_1193x752.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/526bacf1-0f3b-490f-b506-d900b15d7044_1193x752.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:752,&quot;width&quot;:1193,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;752&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!7vLT!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F526bacf1-0f3b-490f-b506-d900b15d7044_1193x752.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!7vLT!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F526bacf1-0f3b-490f-b506-d900b15d7044_1193x752.png 424w, https://substackcdn.com/image/fetch/$s_!7vLT!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F526bacf1-0f3b-490f-b506-d900b15d7044_1193x752.png 848w, https://substackcdn.com/image/fetch/$s_!7vLT!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F526bacf1-0f3b-490f-b506-d900b15d7044_1193x752.png 1272w, https://substackcdn.com/image/fetch/$s_!7vLT!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F526bacf1-0f3b-490f-b506-d900b15d7044_1193x752.png 1456w&quot; width=&quot;1193&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Offcore code read latency can be tracked in the same way as demand data reads. Latency is lower than on the data side, suggesting higher code hitrate in L3. However, hiding hundreds of cycles of latency is still a tall order for the frontend, just as it is for the backend. Again, Lion Cove’s large L2 does a lot of heavy lifting.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!NaFI!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe6b414cd-853c-46e9-99bf-8879832b38ff_853x284.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!NaFI!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe6b414cd-853c-46e9-99bf-8879832b38ff_853x284.png 424w, https://substackcdn.com/image/fetch/$s_!NaFI!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe6b414cd-853c-46e9-99bf-8879832b38ff_853x284.png 848w, https://substackcdn.com/image/fetch/$s_!NaFI!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe6b414cd-853c-46e9-99bf-8879832b38ff_853x284.png 1272w, https://substackcdn.com/image/fetch/$s_!NaFI!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe6b414cd-853c-46e9-99bf-8879832b38ff_853x284.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/e6b414cd-853c-46e9-99bf-8879832b38ff_853x284.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:284,&quot;width&quot;:853,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;284&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!NaFI!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe6b414cd-853c-46e9-99bf-8879832b38ff_853x284.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!NaFI!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe6b414cd-853c-46e9-99bf-8879832b38ff_853x284.png 424w, https://substackcdn.com/image/fetch/$s_!NaFI!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe6b414cd-853c-46e9-99bf-8879832b38ff_853x284.png 848w, https://substackcdn.com/image/fetch/$s_!NaFI!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe6b414cd-853c-46e9-99bf-8879832b38ff_853x284.png 1272w, https://substackcdn.com/image/fetch/$s_!NaFI!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe6b414cd-853c-46e9-99bf-8879832b38ff_853x284.png 1456w&quot; width=&quot;853&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Performance counters provide insight into other delays as well. A starts with the renamer (allocator) restoring a checkpoint with known-good state[1], which takes 3-4 cycles and as expected, doesn’t change across the three games. Lion Cove can also indicate how often the instruction fetch stage stalls. Setting the edge/cmask bits can indicate how long each stall lasts. However, it’s hard to determine the performance impact from L1i misses because the frontend has deep queues that can hide L1i miss latency. Furthermore, an instruction fetch stall can overlap with a backend resource stall.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!fjvN!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F83dbfb2d-befa-49cf-a0ac-70edfd19bb9e_1120x735.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!fjvN!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F83dbfb2d-befa-49cf-a0ac-70edfd19bb9e_1120x735.png 424w, https://substackcdn.com/image/fetch/$s_!fjvN!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F83dbfb2d-befa-49cf-a0ac-70edfd19bb9e_1120x735.png 848w, https://substackcdn.com/image/fetch/$s_!fjvN!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F83dbfb2d-befa-49cf-a0ac-70edfd19bb9e_1120x735.png 1272w, https://substackcdn.com/image/fetch/$s_!fjvN!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F83dbfb2d-befa-49cf-a0ac-70edfd19bb9e_1120x735.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/83dbfb2d-befa-49cf-a0ac-70edfd19bb9e_1120x735.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:735,&quot;width&quot;:1120,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;735&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!fjvN!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F83dbfb2d-befa-49cf-a0ac-70edfd19bb9e_1120x735.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!fjvN!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F83dbfb2d-befa-49cf-a0ac-70edfd19bb9e_1120x735.png 424w, https://substackcdn.com/image/fetch/$s_!fjvN!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F83dbfb2d-befa-49cf-a0ac-70edfd19bb9e_1120x735.png 848w, https://substackcdn.com/image/fetch/$s_!fjvN!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F83dbfb2d-befa-49cf-a0ac-70edfd19bb9e_1120x735.png 1272w, https://substackcdn.com/image/fetch/$s_!fjvN!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F83dbfb2d-befa-49cf-a0ac-70edfd19bb9e_1120x735.png 1456w&quot; width=&quot;1120&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   While pipeline resteers seem to account for the bulk of frontend-related throughput losses, other reasons can contribute too. Structures within the branch predictor can override each other, for example when a slower BTB level overrides a faster one (BPClear). Large branch footprints can exceed the branch predictor’s capacity to track them, and cause a BAClear in Intel terminology. That’s when the frontend discovers a branch not tracked by the predictor, and must redirect instruction fetch from a later stage. Pipeline bubbles from both sources have a minor impact, so Lion Cove’s giant 12K entry BTB does a good job.
  &lt;/p&gt;
  &lt;h1 class=&quot;header-anchor-post&quot;&gt;
   Other Observations
  &lt;/h1&gt;
  &lt;p&gt;
   In a latency bound workload like gaming, the retirement stage operates in a feast-or-famine fashion. Most of the time it can’t do anything. That’s probably because a long latency instruction is blocking retirement, or the ROB is empty from a very costly mispredict. When the retirement stage is unblocked, throughput resembles a bathtub curve. Often it crawls forward with most retire slots idle. The retirement stage spends very few cycles retiring at medium-high throughput.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!aKTd!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4226df6d-75c1-4f8e-b36c-eadfa1a3cc17_1577x677.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!aKTd!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4226df6d-75c1-4f8e-b36c-eadfa1a3cc17_1577x677.png 424w, https://substackcdn.com/image/fetch/$s_!aKTd!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4226df6d-75c1-4f8e-b36c-eadfa1a3cc17_1577x677.png 848w, https://substackcdn.com/image/fetch/$s_!aKTd!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4226df6d-75c1-4f8e-b36c-eadfa1a3cc17_1577x677.png 1272w, https://substackcdn.com/image/fetch/$s_!aKTd!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4226df6d-75c1-4f8e-b36c-eadfa1a3cc17_1577x677.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/4226df6d-75c1-4f8e-b36c-eadfa1a3cc17_1577x677.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:625,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;625&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!aKTd!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4226df6d-75c1-4f8e-b36c-eadfa1a3cc17_1577x677.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!aKTd!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4226df6d-75c1-4f8e-b36c-eadfa1a3cc17_1577x677.png 424w, https://substackcdn.com/image/fetch/$s_!aKTd!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4226df6d-75c1-4f8e-b36c-eadfa1a3cc17_1577x677.png 848w, https://substackcdn.com/image/fetch/$s_!aKTd!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4226df6d-75c1-4f8e-b36c-eadfa1a3cc17_1577x677.png 1272w, https://substackcdn.com/image/fetch/$s_!aKTd!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4226df6d-75c1-4f8e-b36c-eadfa1a3cc17_1577x677.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Likely, retirement is either crawling forward in core-bound scenarios when a short latency operation completes and unblocks a few other micro-ops that complete soon softer, or is bursting ahead after a long latency instruction completes and unblocks retirement for a lot of already completed instructions.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!oRu9!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Feb69ba69-1c0f-4b6e-a94a-172a4d148336_1008x549.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!oRu9!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Feb69ba69-1c0f-4b6e-a94a-172a4d148336_1008x549.png 424w, https://substackcdn.com/image/fetch/$s_!oRu9!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Feb69ba69-1c0f-4b6e-a94a-172a4d148336_1008x549.png 848w, https://substackcdn.com/image/fetch/$s_!oRu9!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Feb69ba69-1c0f-4b6e-a94a-172a4d148336_1008x549.png 1272w, https://substackcdn.com/image/fetch/$s_!oRu9!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Feb69ba69-1c0f-4b6e-a94a-172a4d148336_1008x549.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/eb69ba69-1c0f-4b6e-a94a-172a4d148336_1008x549.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:549,&quot;width&quot;:1008,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;549&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!oRu9!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Feb69ba69-1c0f-4b6e-a94a-172a4d148336_1008x549.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!oRu9!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Feb69ba69-1c0f-4b6e-a94a-172a4d148336_1008x549.png 424w, https://substackcdn.com/image/fetch/$s_!oRu9!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Feb69ba69-1c0f-4b6e-a94a-172a4d148336_1008x549.png 848w, https://substackcdn.com/image/fetch/$s_!oRu9!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Feb69ba69-1c0f-4b6e-a94a-172a4d148336_1008x549.png 1272w, https://substackcdn.com/image/fetch/$s_!oRu9!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Feb69ba69-1c0f-4b6e-a94a-172a4d148336_1008x549.png 1456w&quot; width=&quot;1008&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Lion Cove can retire up to 12 micro-ops per cycle. Once it starts using its full retire width, the core on average blasts through 28 micro-ops before getting blocked again.
  &lt;/p&gt;
  &lt;h1 class=&quot;header-anchor-post&quot;&gt;
   Final Words
  &lt;/h1&gt;
  &lt;p&gt;
   &lt;span&gt;
    Compared to
   &lt;/span&gt;
   &lt;a href=&quot;https://chipsandcheese.com/p/hot-chips-2023-characterizing-gaming-workloads-on-zen-4&quot; rel=&quot;&quot;&gt;
    Zen 4
   &lt;/a&gt;
   &lt;span&gt;
    , Lion Cove suffers harder with backend memory latency, but far less from frontend latency. Part of this can be explained by Zen 4’s stronger data-side memory subsystem. The AMD Ryzen 9 7950X3D I previously tested on has 96 MB of L3 cache on the first die, and has lower L3 latency than Lion Cove in Intel’s Arrow Lake platform. Beyond L3, AMD achieves better load-to-use latency even with slower DDR5-5600 36-36-36-89 memory. Intel’s interconnect became more complex when they shifted to a chiplet setup, and there’s clearly some work to be done.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   Lion Cove gets a lot of stuff right as well, because the core’s frontend is quite strong. The larger BTB and larger instruction cache compared to Zen 4 seem to do a good job of keeping code fetches off slower caches. Lion Cove’s large L2 gets credit too. It’s not perfect, because the occasional instruction-side L2 miss has an average latency in the hundreds of cycles range. But Intel’s frontend improvements do pay off.
  &lt;/p&gt;
  &lt;p&gt;
   Even though Intel and AMD have different relative strengths, a constant factor is that games are difficult, low IPC workloads. They have large data-side footprints with poor access locality. Instruction-side accesses are difficult too, though not to the same extent because modern branch predictors can mostly keep up. Both factors together mean many pipeline slots go unused. Building a wider core brings little benefit because getting through instructions isn’t the problem. Rather, the challenge is in dealing with long stalls as the core waits for data or instructions to arrive from lower level caches or DRAM. Intel’s new L1.5 likely has limited impact as well. It does convert some already fast L2 hits into even faster accesses, but it doesn’t help with long stalls as the core waits for data from L3 or DRAM.
  &lt;/p&gt;
  &lt;p&gt;
   Comparing games to SPEC CPU2017 also emphasizes that games aren’t the only workloads out there. Wider cores with faster upper level caches can pay off in a great many SPEC CPU2017 tests, especially those with very high IPC. Conversely, a focus on improving DRAM performance or increasing last level cache capacity would provide minimal gains for workloads that already fit in cache. Optimization strategies for different workloads are often in conflict, because engineers must decide where to allocate a limited power and area budget. They have limited time to determine the best tradeoff too. Intel, AMD, and others will continue to tune their CPU designs to meet expected workloads, and it’ll be fun to see where they go.
  &lt;/p&gt;
  &lt;p&gt;
   &lt;span&gt;
    If you like the content then consider heading over to the
   &lt;/span&gt;
   &lt;a href=&quot;https://www.patreon.com/ChipsandCheese&quot; rel=&quot;&quot;&gt;
    Patreon
   &lt;/a&gt;
   &lt;span&gt;
    or
   &lt;/span&gt;
   &lt;a href=&quot;https://www.paypal.com/donate/?hosted_button_id=4EMPH66SBGVSQ&quot; rel=&quot;&quot;&gt;
    PayPal
   &lt;/a&gt;
   &lt;span&gt;
    if you want to toss a few bucks to Chips and Cheese. Also consider joining the
   &lt;/span&gt;
   &lt;a href=&quot;https://discord.gg/TwVnRhxgY2&quot; rel=&quot;&quot;&gt;
    Discord
   &lt;/a&gt;
   &lt;span&gt;
    .
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;h1 class=&quot;header-anchor-post&quot;&gt;
   References
  &lt;/h1&gt;
  &lt;ol&gt;
   &lt;li&gt;
    &lt;p&gt;
     &lt;span&gt;
      Henry Wong suggests the INT_MISC.RECOVERY_CYCLES event, which is present on Lion Cove as well as Haswell, accounts for time taken for a mapping table recovery. The renamer maintains a register alias table (mapping) that maps architectural registers to renamed physical registers. Going back to a known good state would mean restoring a previous version of the table prior to the mispredicted branch.
     &lt;/span&gt;
     &lt;a href=&quot;https://www.stuffedcow.net/files/henry-thesis-phd.pdf&quot; rel=&quot;&quot;&gt;
      https://www.stuffedcow.net/files/henry-thesis-phd.pdf
     &lt;/a&gt;
    &lt;/p&gt;
   &lt;/li&gt;
  &lt;/ol&gt;
  &lt;p&gt;
  &lt;/p&gt;
 &lt;/div&gt;
&lt;/div&gt;

</description>
</item>
<item>
<title> Raytracing on Intel’s Arc B580 </title>
<link>https://chipsandcheese.com/p/raytracing-on-intels-arc-b580</link>
<pubDate>Sat, 05 Jul 2025 22:19:15 -0000</pubDate>
<description>
&lt;div class=&quot;available-content&quot;&gt;
 &lt;div class=&quot;body markup&quot; dir=&quot;auto&quot;&gt;
  &lt;p&gt;
   Edit: The article originally said Intel’s BVH nodes were 4-wide, based on a misreading of QuadLeaf. After inspecting Intel compiler code, QuadLeaf actually means two merged triangles with a shared side (a quadrilateral, not a quad of four triangles).
  &lt;/p&gt;
  &lt;p&gt;
   Intel’s discrete GPU strategy has emphasized add-on features ever since Alchemist launched. Right from the start, Intel invested heavily in dedicated matrix multiplication units, raytracing accelerators, and hardware video codecs. Battlemage continues that trend. Raytracing deserves attention because raytraced effects are gaining prominence on an increasing number of titles.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!4c_X!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd793a6f3-3bbe-4fd8-834a-23a64a5ce3f0_1024x682.jpeg&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!4c_X!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd793a6f3-3bbe-4fd8-834a-23a64a5ce3f0_1024x682.jpeg 424w, https://substackcdn.com/image/fetch/$s_!4c_X!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd793a6f3-3bbe-4fd8-834a-23a64a5ce3f0_1024x682.jpeg 848w, https://substackcdn.com/image/fetch/$s_!4c_X!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd793a6f3-3bbe-4fd8-834a-23a64a5ce3f0_1024x682.jpeg 1272w, https://substackcdn.com/image/fetch/$s_!4c_X!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd793a6f3-3bbe-4fd8-834a-23a64a5ce3f0_1024x682.jpeg 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/d793a6f3-3bbe-4fd8-834a-23a64a5ce3f0_1024x682.jpeg&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:682,&quot;width&quot;:1024,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:121931,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/jpeg&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:false,&quot;topImage&quot;:true,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/159100267?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd793a6f3-3bbe-4fd8-834a-23a64a5ce3f0_1024x682.jpeg&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; fetchpriority=&quot;high&quot; height=&quot;682&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!4c_X!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd793a6f3-3bbe-4fd8-834a-23a64a5ce3f0_1024x682.jpeg&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!4c_X!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd793a6f3-3bbe-4fd8-834a-23a64a5ce3f0_1024x682.jpeg 424w, https://substackcdn.com/image/fetch/$s_!4c_X!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd793a6f3-3bbe-4fd8-834a-23a64a5ce3f0_1024x682.jpeg 848w, https://substackcdn.com/image/fetch/$s_!4c_X!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd793a6f3-3bbe-4fd8-834a-23a64a5ce3f0_1024x682.jpeg 1272w, https://substackcdn.com/image/fetch/$s_!4c_X!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd793a6f3-3bbe-4fd8-834a-23a64a5ce3f0_1024x682.jpeg 1456w&quot; width=&quot;1024&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Here, I’ll be looking at a Cyberpunk 2077 frame rendered on Intel’s Arc B580, with path tracing enabled. As always, I’m focusing on how the architecture handles the workload, rather than absolute performance. Mainstream tech outlets already do an excellent job discussing final performance.
  &lt;/p&gt;
  &lt;p&gt;
   &lt;span&gt;
    Definitely check out the
   &lt;/span&gt;
   &lt;a href=&quot;https://chipsandcheese.com/p/raytracing-on-meteor-lakes-igpu&quot; rel=&quot;&quot;&gt;
    prior article on Meteor Lake’s raytracing implementation
   &lt;/a&gt;
   &lt;span&gt;
    , because Intel uses the same raytracing strategy and data structures on Battlemage. Also be sure to check the
   &lt;/span&gt;
   &lt;a href=&quot;https://chipsandcheese.com/p/intels-battlemage-architecture&quot; rel=&quot;&quot;&gt;
    Battlemage article
   &lt;/a&gt;
   &lt;span&gt;
    , which covers the B580’s architecture and some of Intel’s terminology.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;h2 class=&quot;header-anchor-post&quot;&gt;
   Cyberpunk 2077 Path Tracing, Lighting Shader?
  &lt;/h2&gt;
  &lt;p&gt;
   I captured a Cyberpunk 2077 frame at 1080P with no upscaling. Framerate was a bit low at 12 FPS. An occupancy timeline from Intel’s Graphics Performance Analyzer (GPA) shows raytracing calls dominating frame time, though CP2077 surprisingly still spends some time on small rasterization calls.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!MDEf!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F48ea1adf-9a57-4fc5-93cf-da343b7d25d8_1897x268.webp&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!MDEf!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F48ea1adf-9a57-4fc5-93cf-da343b7d25d8_1897x268.webp 424w, https://substackcdn.com/image/fetch/$s_!MDEf!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F48ea1adf-9a57-4fc5-93cf-da343b7d25d8_1897x268.webp 848w, https://substackcdn.com/image/fetch/$s_!MDEf!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F48ea1adf-9a57-4fc5-93cf-da343b7d25d8_1897x268.webp 1272w, https://substackcdn.com/image/fetch/$s_!MDEf!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F48ea1adf-9a57-4fc5-93cf-da343b7d25d8_1897x268.webp 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/48ea1adf-9a57-4fc5-93cf-da343b7d25d8_1897x268.webp&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:206,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:15904,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/webp&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:false,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/159100267?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F48ea1adf-9a57-4fc5-93cf-da343b7d25d8_1897x268.webp&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;206&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!MDEf!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F48ea1adf-9a57-4fc5-93cf-da343b7d25d8_1897x268.webp&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!MDEf!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F48ea1adf-9a57-4fc5-93cf-da343b7d25d8_1897x268.webp 424w, https://substackcdn.com/image/fetch/$s_!MDEf!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F48ea1adf-9a57-4fc5-93cf-da343b7d25d8_1897x268.webp 848w, https://substackcdn.com/image/fetch/$s_!MDEf!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F48ea1adf-9a57-4fc5-93cf-da343b7d25d8_1897x268.webp 1272w, https://substackcdn.com/image/fetch/$s_!MDEf!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F48ea1adf-9a57-4fc5-93cf-da343b7d25d8_1897x268.webp 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
      &lt;div&gt;
      &lt;/div&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   I’m going to focus on the longest duration RT call, which appears to handle some lighting effects. Output from that DispatchRays call shows a very noisy representation of the scene. It’s similar to what you’d get if you stopped a Blender render at an extremely low sample count. Large objects are recognizable, but smaller ones are barely visible.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!m6iH!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb1f99302-2936-4724-a01a-9c1644b64190_1920x1080.webp&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!m6iH!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb1f99302-2936-4724-a01a-9c1644b64190_1920x1080.webp 424w, https://substackcdn.com/image/fetch/$s_!m6iH!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb1f99302-2936-4724-a01a-9c1644b64190_1920x1080.webp 848w, https://substackcdn.com/image/fetch/$s_!m6iH!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb1f99302-2936-4724-a01a-9c1644b64190_1920x1080.webp 1272w, https://substackcdn.com/image/fetch/$s_!m6iH!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb1f99302-2936-4724-a01a-9c1644b64190_1920x1080.webp 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/b1f99302-2936-4724-a01a-9c1644b64190_1920x1080.webp&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:819,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:178684,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/webp&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/159100267?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb1f99302-2936-4724-a01a-9c1644b64190_1920x1080.webp&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;819&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!m6iH!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb1f99302-2936-4724-a01a-9c1644b64190_1920x1080.webp&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!m6iH!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb1f99302-2936-4724-a01a-9c1644b64190_1920x1080.webp 424w, https://substackcdn.com/image/fetch/$s_!m6iH!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb1f99302-2936-4724-a01a-9c1644b64190_1920x1080.webp 848w, https://substackcdn.com/image/fetch/$s_!m6iH!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb1f99302-2936-4724-a01a-9c1644b64190_1920x1080.webp 1272w, https://substackcdn.com/image/fetch/$s_!m6iH!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb1f99302-2936-4724-a01a-9c1644b64190_1920x1080.webp 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
    &lt;figcaption class=&quot;image-caption&quot;&gt;
     Output from the DispatchRays call, as shown by GPA
    &lt;/figcaption&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;h2 class=&quot;header-anchor-post&quot;&gt;
   Raytracing Accelerator
  &lt;/h2&gt;
  &lt;p&gt;
   Battlemage’s raytracing accelerator (RTA) plays a central role in Intel’s efforts to improve raytracing performance. The RTA receives messages from XVEs to start ray traversal. It then handles traversal without further intervention from the ray generation shader, which terminates shortly after talking to the RTA. BVH data formats are closely tied to the hardware implementation. Intel continues to use the same box and triangle node formats as the previous generation. Both box and triangle nodes continue to be 64B in size, and thus neatly fit into a cacheline.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!W_3E!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9a5a0dfe-80c5-4489-8dd5-43b2c07f77f4_636x161.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!W_3E!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9a5a0dfe-80c5-4489-8dd5-43b2c07f77f4_636x161.png 424w, https://substackcdn.com/image/fetch/$s_!W_3E!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9a5a0dfe-80c5-4489-8dd5-43b2c07f77f4_636x161.png 848w, https://substackcdn.com/image/fetch/$s_!W_3E!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9a5a0dfe-80c5-4489-8dd5-43b2c07f77f4_636x161.png 1272w, https://substackcdn.com/image/fetch/$s_!W_3E!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9a5a0dfe-80c5-4489-8dd5-43b2c07f77f4_636x161.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/9a5a0dfe-80c5-4489-8dd5-43b2c07f77f4_636x161.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:161,&quot;width&quot;:636,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:4118,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/159100267?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9a5a0dfe-80c5-4489-8dd5-43b2c07f77f4_636x161.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;161&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!W_3E!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9a5a0dfe-80c5-4489-8dd5-43b2c07f77f4_636x161.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!W_3E!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9a5a0dfe-80c5-4489-8dd5-43b2c07f77f4_636x161.png 424w, https://substackcdn.com/image/fetch/$s_!W_3E!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9a5a0dfe-80c5-4489-8dd5-43b2c07f77f4_636x161.png 848w, https://substackcdn.com/image/fetch/$s_!W_3E!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9a5a0dfe-80c5-4489-8dd5-43b2c07f77f4_636x161.png 1272w, https://substackcdn.com/image/fetch/$s_!W_3E!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9a5a0dfe-80c5-4489-8dd5-43b2c07f77f4_636x161.png 1456w&quot; width=&quot;636&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
      &lt;div&gt;
      &lt;/div&gt;
     &lt;/div&gt;
    &lt;/a&gt;
    &lt;figcaption class=&quot;image-caption&quot;&gt;
     Roughly how the raytracing process works. Any L1 request can miss of course
    &lt;/figcaption&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Compared to Alchemist and Meteor Lake, Battlemage’s RTA increases traversal pipeline count from 2 to 3. That brings box test rate up to three nodes per cycle, or 18 box tests. Triangle intersection test rate doubles as well. More RTA throughput could put more pressure on the memory subsystem, so the RTA’s BVH cache doubles in capacity from 8 KB to 16 KB.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!Pjy9!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7c5267a5-91c5-4713-94dc-3c548a48fd8b_1200x671.webp&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!Pjy9!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7c5267a5-91c5-4713-94dc-3c548a48fd8b_1200x671.webp 424w, https://substackcdn.com/image/fetch/$s_!Pjy9!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7c5267a5-91c5-4713-94dc-3c548a48fd8b_1200x671.webp 848w, https://substackcdn.com/image/fetch/$s_!Pjy9!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7c5267a5-91c5-4713-94dc-3c548a48fd8b_1200x671.webp 1272w, https://substackcdn.com/image/fetch/$s_!Pjy9!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7c5267a5-91c5-4713-94dc-3c548a48fd8b_1200x671.webp 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/7c5267a5-91c5-4713-94dc-3c548a48fd8b_1200x671.webp&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:671,&quot;width&quot;:1200,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:35990,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/webp&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/159100267?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7c5267a5-91c5-4713-94dc-3c548a48fd8b_1200x671.webp&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;671&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!Pjy9!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7c5267a5-91c5-4713-94dc-3c548a48fd8b_1200x671.webp&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!Pjy9!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7c5267a5-91c5-4713-94dc-3c548a48fd8b_1200x671.webp 424w, https://substackcdn.com/image/fetch/$s_!Pjy9!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7c5267a5-91c5-4713-94dc-3c548a48fd8b_1200x671.webp 848w, https://substackcdn.com/image/fetch/$s_!Pjy9!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7c5267a5-91c5-4713-94dc-3c548a48fd8b_1200x671.webp 1272w, https://substackcdn.com/image/fetch/$s_!Pjy9!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7c5267a5-91c5-4713-94dc-3c548a48fd8b_1200x671.webp 1456w&quot; width=&quot;1200&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   During the path tracing DispatchRays call, the B580 processed 467.9M rays per second, or 23.4M rays/sec per Xe Core. Each ray required an average of 39.5 traversal steps. RTAs across the GPU handled just over 16 billion BVH nodes per second, which mostly lines up with traversal step count. Intel uses a short stack traversal algorithm with a restart trail. That reduces stack size compared to a simple depth first search, letting Intel keep the stack in low latency registers. However, it can require restarting traversal from the top using a restart trail. Doing so would mean some upper level BVH nodes get visited more than once by the same ray. That means more pointer chasing accesses, though it looks like the RTA can avoid repeating intersection tests on previously accessed nodes.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!DSHc!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F96c70df9-faf3-423d-85fe-ea3ecef96e97_567x489.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!DSHc!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F96c70df9-faf3-423d-85fe-ea3ecef96e97_567x489.png 424w, https://substackcdn.com/image/fetch/$s_!DSHc!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F96c70df9-faf3-423d-85fe-ea3ecef96e97_567x489.png 848w, https://substackcdn.com/image/fetch/$s_!DSHc!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F96c70df9-faf3-423d-85fe-ea3ecef96e97_567x489.png 1272w, https://substackcdn.com/image/fetch/$s_!DSHc!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F96c70df9-faf3-423d-85fe-ea3ecef96e97_567x489.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/96c70df9-faf3-423d-85fe-ea3ecef96e97_567x489.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:489,&quot;width&quot;:567,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:12180,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/159100267?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F96c70df9-faf3-423d-85fe-ea3ecef96e97_567x489.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;489&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!DSHc!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F96c70df9-faf3-423d-85fe-ea3ecef96e97_567x489.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!DSHc!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F96c70df9-faf3-423d-85fe-ea3ecef96e97_567x489.png 424w, https://substackcdn.com/image/fetch/$s_!DSHc!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F96c70df9-faf3-423d-85fe-ea3ecef96e97_567x489.png 848w, https://substackcdn.com/image/fetch/$s_!DSHc!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F96c70df9-faf3-423d-85fe-ea3ecef96e97_567x489.png 1272w, https://substackcdn.com/image/fetch/$s_!DSHc!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F96c70df9-faf3-423d-85fe-ea3ecef96e97_567x489.png 1456w&quot; width=&quot;567&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
    &lt;figcaption class=&quot;image-caption&quot;&gt;
     My impression of how the raytracing unit works. Each traversal pipeline holds ray state, possibly for multiple rays. The frontend allocates rays into the traversal pipelines
    &lt;/figcaption&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   &lt;span&gt;
    GPA’s
   &lt;/span&gt;
   &lt;code&gt;
    RT_QUAD_TEST_RAY_COUNT
   &lt;/code&gt;
   &lt;span&gt;
    and
   &lt;/span&gt;
   &lt;code&gt;
    RT_QUAD_LEAF_RAY_COUNT
   &lt;/code&gt;
   &lt;span&gt;
    metrics suggest 1.55% and 1.04% utilization figures for the ray-box and ray-triangle units, respectively. Intel isn’t bound by ray-triangle or ray-box throughput. Even if every node required intersection testing, utilization on the ray-box or ray-triangle units would be below 10%. Battlemage would likely be fine with the two ray-box and single triangle unit from before. I suspect Intel found that duplicating the the traversal pipeline was an easy way to let the RTA keep more work in flight, improving latency hiding.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;blockquote&gt;
   &lt;p&gt;
    “Percentage of time in which Ray Tracing Frontend is stalled by Traversal”
   &lt;/p&gt;
   &lt;p&gt;
    &lt;span&gt;
     Description of the
    &lt;/span&gt;
    &lt;code&gt;
     RT_TRAVERSAL_STALL
    &lt;/code&gt;
    &lt;span&gt;
     metric in GPA
    &lt;/span&gt;
   &lt;/p&gt;
  &lt;/blockquote&gt;
  &lt;p&gt;
   Intel never documented what they mean by the Ray Tracing Frontend. Perhaps the RTA consists of a frontend that accepts messages from the XVEs, and a traversal backend that goes through the BVH. A stall at the frontend may mean it has received messages from the XVEs, but none of the traversal pipelines in the backend can accept more work. Adding an extra traversal pipeline could be an easy way to process more rays in parallel. And the extra pipeline of course comes with its own ray-box units. Of course, there could be other workloads that benefit from higher intersection test throughput. Intel added an extra triangle test unit, and those aren’t part of the traversal pipelines.
  &lt;/p&gt;
  &lt;h3 class=&quot;header-anchor-post&quot;&gt;
   BVH Caching
  &lt;/h3&gt;
  &lt;p&gt;
   BVH traversal is latency sensitive. Intel’s short stack algorithm requires more pointer chasing steps than a simple depth first search, making it even more sensitive to memory latency. But it also creates room for optimization via caching. Using the restart trail involves re-visiting nodes that have been accessed not long ago. A cache can exploit that kind of temporal locality, which is likely why Intel gave the RTA a BVH cache. The Xe Core already has a L1 data cache, but that has to be accessed over the Xe Core’s message fabric. A small cache tightly coupled to the RTA is easier to optimize for latency.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!eukQ!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6bf26b0b-1f2b-4a9d-9e75-16f6db6e8660_578x334.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!eukQ!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6bf26b0b-1f2b-4a9d-9e75-16f6db6e8660_578x334.png 424w, https://substackcdn.com/image/fetch/$s_!eukQ!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6bf26b0b-1f2b-4a9d-9e75-16f6db6e8660_578x334.png 848w, https://substackcdn.com/image/fetch/$s_!eukQ!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6bf26b0b-1f2b-4a9d-9e75-16f6db6e8660_578x334.png 1272w, https://substackcdn.com/image/fetch/$s_!eukQ!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6bf26b0b-1f2b-4a9d-9e75-16f6db6e8660_578x334.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/6bf26b0b-1f2b-4a9d-9e75-16f6db6e8660_578x334.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:334,&quot;width&quot;:578,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:2466,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/159100267?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6bf26b0b-1f2b-4a9d-9e75-16f6db6e8660_578x334.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;334&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!eukQ!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6bf26b0b-1f2b-4a9d-9e75-16f6db6e8660_578x334.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!eukQ!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6bf26b0b-1f2b-4a9d-9e75-16f6db6e8660_578x334.png 424w, https://substackcdn.com/image/fetch/$s_!eukQ!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6bf26b0b-1f2b-4a9d-9e75-16f6db6e8660_578x334.png 848w, https://substackcdn.com/image/fetch/$s_!eukQ!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6bf26b0b-1f2b-4a9d-9e75-16f6db6e8660_578x334.png 1272w, https://substackcdn.com/image/fetch/$s_!eukQ!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6bf26b0b-1f2b-4a9d-9e75-16f6db6e8660_578x334.png 1456w&quot; width=&quot;578&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Battlemage’s 16 KB BVH cache performs much better than the 8 KB one on prior generations. Besides reducing latency, the BVH cache also reduces pressure on L1 cache. Accessing 16.03G BVH nodes per second requires ~1.03 TB/s of bandwidth. Battlemage’s L1 can handle that easily. But minimizing data movement can reduce power draw. BVH traversal should also run concurrently with miss/hit shaders on the XVEs, and reducing contention between those L1 cache clients is a good thing.
  &lt;/p&gt;
  &lt;h3 class=&quot;header-anchor-post&quot;&gt;
   Dispatching Shaders
  &lt;/h3&gt;
  &lt;p&gt;
   Hit/miss shader programs provided by the game handle traversal hit/miss results. The RTA launches these shader programs by sending messages back to the Xe Core’s thread dispatcher, which allocates them to XVEs as thread slots become available. The thread dispatcher has two queues for non-pixel shader work, along with a pixel shader work queue. Raytracing work only uses one of the non-pixel shader queues (queue0).
  &lt;/p&gt;
  &lt;p&gt;
   81.95% of the time, queue0 had threads queued up. It spent 79.6% of the time stalled waiting to for free thread slots on the XVEs. That suggests the RTAs are generating traversal results faster than the shader array can handle the results.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!bvwI!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa547a157-ecc0-4185-96c4-d8e18666578a_501x289.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!bvwI!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa547a157-ecc0-4185-96c4-d8e18666578a_501x289.png 424w, https://substackcdn.com/image/fetch/$s_!bvwI!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa547a157-ecc0-4185-96c4-d8e18666578a_501x289.png 848w, https://substackcdn.com/image/fetch/$s_!bvwI!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa547a157-ecc0-4185-96c4-d8e18666578a_501x289.png 1272w, https://substackcdn.com/image/fetch/$s_!bvwI!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa547a157-ecc0-4185-96c4-d8e18666578a_501x289.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/a547a157-ecc0-4185-96c4-d8e18666578a_501x289.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:289,&quot;width&quot;:501,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:3022,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/159100267?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa547a157-ecc0-4185-96c4-d8e18666578a_501x289.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;289&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!bvwI!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa547a157-ecc0-4185-96c4-d8e18666578a_501x289.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!bvwI!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa547a157-ecc0-4185-96c4-d8e18666578a_501x289.png 424w, https://substackcdn.com/image/fetch/$s_!bvwI!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa547a157-ecc0-4185-96c4-d8e18666578a_501x289.png 848w, https://substackcdn.com/image/fetch/$s_!bvwI!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa547a157-ecc0-4185-96c4-d8e18666578a_501x289.png 1272w, https://substackcdn.com/image/fetch/$s_!bvwI!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa547a157-ecc0-4185-96c4-d8e18666578a_501x289.png 1456w&quot; width=&quot;501&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Most of the raytracing related thread launches are any hit or closest hit shaders. Miss shaders are called less often. In total, RTAs across the Arc B580 launched just over a billion threads per second. Even though Intel’s raytracing method launches a lot of shader programs, much of that is contained within the Xe Cores and doesn’t bother higher level scheduling hardware. Just as with Meteor Lake, Intel’s hierarchical scheduling setup is key to making its RTAs work well.
  &lt;/p&gt;
  &lt;h2 class=&quot;header-anchor-post&quot;&gt;
   Vector Execution
  &lt;/h2&gt;
  &lt;p&gt;
   A GPU’s regular shader units run the hit/miss shader programs that handle raytracing results. During the DispatchRays call, the B580’s XVEs have almost all of their thread slots active. If you could see XVE thread slots as logical cores in Task Manager (1280 of them), you’d see 93.8% utilization. Judging from ALU0 utilization breakdowns, most of the work comes from any hit and closest hit shaders. Miss shader invocations aren’t rare, but perhaps the miss shaders don’t do a lot of work.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!Z8QI!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4ecd3d87-df25-425f-b4c9-61f07cc9ef40_455x398.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!Z8QI!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4ecd3d87-df25-425f-b4c9-61f07cc9ef40_455x398.png 424w, https://substackcdn.com/image/fetch/$s_!Z8QI!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4ecd3d87-df25-425f-b4c9-61f07cc9ef40_455x398.png 848w, https://substackcdn.com/image/fetch/$s_!Z8QI!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4ecd3d87-df25-425f-b4c9-61f07cc9ef40_455x398.png 1272w, https://substackcdn.com/image/fetch/$s_!Z8QI!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4ecd3d87-df25-425f-b4c9-61f07cc9ef40_455x398.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/4ecd3d87-df25-425f-b4c9-61f07cc9ef40_455x398.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:398,&quot;width&quot;:455,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:3888,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/159100267?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4ecd3d87-df25-425f-b4c9-61f07cc9ef40_455x398.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;398&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!Z8QI!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4ecd3d87-df25-425f-b4c9-61f07cc9ef40_455x398.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!Z8QI!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4ecd3d87-df25-425f-b4c9-61f07cc9ef40_455x398.png 424w, https://substackcdn.com/image/fetch/$s_!Z8QI!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4ecd3d87-df25-425f-b4c9-61f07cc9ef40_455x398.png 848w, https://substackcdn.com/image/fetch/$s_!Z8QI!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4ecd3d87-df25-425f-b4c9-61f07cc9ef40_455x398.png 1272w, https://substackcdn.com/image/fetch/$s_!Z8QI!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4ecd3d87-df25-425f-b4c9-61f07cc9ef40_455x398.png 1456w&quot; width=&quot;455&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Just as high utilization in Task Manager doesn’t show how fast your CPU cores are doing work under the hood, high occupancy doesn’t imply high execution unit utilization. More threads simply give the GPU more thread-level parallelism to hide latency with, just like loading more SMT threads on CPU cores. In this workload, even high occupancy isn’t enough to achieve good hardware utilization. Execution unit usage is low across the board, with the ALU0 and ALU1 math pipelines busy less than 20% of the time.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!Iin9!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Faaa12b68-f74b-41ae-80ef-58fd1366e32f_1197x1004.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!Iin9!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Faaa12b68-f74b-41ae-80ef-58fd1366e32f_1197x1004.png 424w, https://substackcdn.com/image/fetch/$s_!Iin9!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Faaa12b68-f74b-41ae-80ef-58fd1366e32f_1197x1004.png 848w, https://substackcdn.com/image/fetch/$s_!Iin9!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Faaa12b68-f74b-41ae-80ef-58fd1366e32f_1197x1004.png 1272w, https://substackcdn.com/image/fetch/$s_!Iin9!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Faaa12b68-f74b-41ae-80ef-58fd1366e32f_1197x1004.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/aaa12b68-f74b-41ae-80ef-58fd1366e32f_1197x1004.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:1004,&quot;width&quot;:1197,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:159083,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/159100267?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Faaa12b68-f74b-41ae-80ef-58fd1366e32f_1197x1004.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;1004&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!Iin9!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Faaa12b68-f74b-41ae-80ef-58fd1366e32f_1197x1004.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!Iin9!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Faaa12b68-f74b-41ae-80ef-58fd1366e32f_1197x1004.png 424w, https://substackcdn.com/image/fetch/$s_!Iin9!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Faaa12b68-f74b-41ae-80ef-58fd1366e32f_1197x1004.png 848w, https://substackcdn.com/image/fetch/$s_!Iin9!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Faaa12b68-f74b-41ae-80ef-58fd1366e32f_1197x1004.png 1272w, https://substackcdn.com/image/fetch/$s_!Iin9!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Faaa12b68-f74b-41ae-80ef-58fd1366e32f_1197x1004.png 1456w&quot; width=&quot;1197&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Intel can break down thread stall reasons for cycles when the XVE wasn’t able to execute any instructions. Multiple threads can be stalled on different reasons during the same cycle, so counts will add up to over 100%. A brief look shows memory latency is a significant factor, as scoreboard ID stalls top the chart even without adding in SendWr stalls. Modern CPUs and GPUs usually spend a lot of time with execution units idle, waiting for data from memory. But Cyberpunk 2077’s path tracing shaders appear a bit more difficult than usual.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!OdDG!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0874e83e-879a-4749-8ac9-c770643acb30_688x373.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!OdDG!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0874e83e-879a-4749-8ac9-c770643acb30_688x373.png 424w, https://substackcdn.com/image/fetch/$s_!OdDG!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0874e83e-879a-4749-8ac9-c770643acb30_688x373.png 848w, https://substackcdn.com/image/fetch/$s_!OdDG!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0874e83e-879a-4749-8ac9-c770643acb30_688x373.png 1272w, https://substackcdn.com/image/fetch/$s_!OdDG!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0874e83e-879a-4749-8ac9-c770643acb30_688x373.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/0874e83e-879a-4749-8ac9-c770643acb30_688x373.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:373,&quot;width&quot;:688,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:23764,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/159100267?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0874e83e-879a-4749-8ac9-c770643acb30_688x373.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;373&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!OdDG!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0874e83e-879a-4749-8ac9-c770643acb30_688x373.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!OdDG!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0874e83e-879a-4749-8ac9-c770643acb30_688x373.png 424w, https://substackcdn.com/image/fetch/$s_!OdDG!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0874e83e-879a-4749-8ac9-c770643acb30_688x373.png 848w, https://substackcdn.com/image/fetch/$s_!OdDG!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0874e83e-879a-4749-8ac9-c770643acb30_688x373.png 1272w, https://substackcdn.com/image/fetch/$s_!OdDG!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0874e83e-879a-4749-8ac9-c770643acb30_688x373.png 1456w&quot; width=&quot;688&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Execution latency hurts too, suggesting Cyberpunk 2077’s raytracing shaders don’t have a lot of instruction level parallelism. If the compiler can’t place enough independent instructions between dependent ones, threads will stall. GPUs can often hide execution latency by switching between threads, and the XVEs in this workload do have plenty of thread-level parallelism to work with. But it’s not enough, so there’s probably a lot of long latency instructions and long dependency chains.
  &lt;/p&gt;
  &lt;p&gt;
   Finally, threads often stall on instruction fetch. The instruction cache only has a 92.7% hitrate, so some shader programs are taking L1i misses. Instruction cache bandwidth may be a problem too. Each Xe Core’s instruction cache handled 1.11 hits per cycle if I did my math right, so the instruction cache sometimes has to handle more than one access per cycle. If each access is for a 64B cacheline, each Xe Core consumes over 200 GB/s of instruction bandwidth. Intel’s Xe Core design does seem to demand a lot of instruction bandwidth. Each Xe Core has eight XVEs, each of which can issue multiple instructions per cycle. Feeding both ALU0 and ALU1 would require 2 IPC, or 16 IPC across the Xe Core. For comparison, AMD’s RDNA 2 only needs 4 IPC from the instruction cache to feed its vector execution units.
  &lt;/p&gt;
  &lt;h3 class=&quot;header-anchor-post&quot;&gt;
   Instruction Mix
  &lt;/h3&gt;
  &lt;p&gt;
   Executed shader code usually uses 32-bit datatypes, with some 16-bit types playing a minor role. INT64 instructions also make an appearance, perhaps for address calculation. Special function units (math) see heavy usage, and may contribute to AluWr stalls above.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!-zEO!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F44cf21d7-242f-46e3-a5c2-a974a11fa25d_622x331.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!-zEO!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F44cf21d7-242f-46e3-a5c2-a974a11fa25d_622x331.png 424w, https://substackcdn.com/image/fetch/$s_!-zEO!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F44cf21d7-242f-46e3-a5c2-a974a11fa25d_622x331.png 848w, https://substackcdn.com/image/fetch/$s_!-zEO!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F44cf21d7-242f-46e3-a5c2-a974a11fa25d_622x331.png 1272w, https://substackcdn.com/image/fetch/$s_!-zEO!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F44cf21d7-242f-46e3-a5c2-a974a11fa25d_622x331.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/44cf21d7-242f-46e3-a5c2-a974a11fa25d_622x331.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:331,&quot;width&quot;:622,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:3442,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/159100267?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F44cf21d7-242f-46e3-a5c2-a974a11fa25d_622x331.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;331&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!-zEO!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F44cf21d7-242f-46e3-a5c2-a974a11fa25d_622x331.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!-zEO!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F44cf21d7-242f-46e3-a5c2-a974a11fa25d_622x331.png 424w, https://substackcdn.com/image/fetch/$s_!-zEO!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F44cf21d7-242f-46e3-a5c2-a974a11fa25d_622x331.png 848w, https://substackcdn.com/image/fetch/$s_!-zEO!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F44cf21d7-242f-46e3-a5c2-a974a11fa25d_622x331.png 1272w, https://substackcdn.com/image/fetch/$s_!-zEO!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F44cf21d7-242f-46e3-a5c2-a974a11fa25d_622x331.png 1456w&quot; width=&quot;622&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   The close mix of INT32 and FP32 instructions plays well into the XVE’s pipeline layout, because those instruction types are executed on different ports. However, performance is bound by factors other than execution unit throughput and pipe layout.
  &lt;/p&gt;
  &lt;h2 class=&quot;header-anchor-post&quot;&gt;
   Cache and Memory Access
  &lt;/h2&gt;
  &lt;p&gt;
   Caches within Battlemage’s Xe Core struggle to contain this path tracing workload’s memory accesses. Despite increasing L1 cache capacity from 192 to 256 KB, Battlemage’s L1 hitrate still sits below 60%. Intel services texture accesses with a separate cache that appears to have 32 KB of capacity from a latency test. Texture cache hitrate is lackluster at under 30%.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!DzIE!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F03ea8fa3-fd5d-4af2-af83-8c5731ce3693_488x236.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!DzIE!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F03ea8fa3-fd5d-4af2-af83-8c5731ce3693_488x236.png 424w, https://substackcdn.com/image/fetch/$s_!DzIE!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F03ea8fa3-fd5d-4af2-af83-8c5731ce3693_488x236.png 848w, https://substackcdn.com/image/fetch/$s_!DzIE!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F03ea8fa3-fd5d-4af2-af83-8c5731ce3693_488x236.png 1272w, https://substackcdn.com/image/fetch/$s_!DzIE!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F03ea8fa3-fd5d-4af2-af83-8c5731ce3693_488x236.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/03ea8fa3-fd5d-4af2-af83-8c5731ce3693_488x236.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:236,&quot;width&quot;:488,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:5404,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/159100267?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F03ea8fa3-fd5d-4af2-af83-8c5731ce3693_488x236.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;236&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!DzIE!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F03ea8fa3-fd5d-4af2-af83-8c5731ce3693_488x236.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!DzIE!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F03ea8fa3-fd5d-4af2-af83-8c5731ce3693_488x236.png 424w, https://substackcdn.com/image/fetch/$s_!DzIE!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F03ea8fa3-fd5d-4af2-af83-8c5731ce3693_488x236.png 848w, https://substackcdn.com/image/fetch/$s_!DzIE!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F03ea8fa3-fd5d-4af2-af83-8c5731ce3693_488x236.png 1272w, https://substackcdn.com/image/fetch/$s_!DzIE!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F03ea8fa3-fd5d-4af2-af83-8c5731ce3693_488x236.png 1456w&quot; width=&quot;488&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
      &lt;div&gt;
      &lt;/div&gt;
     &lt;/div&gt;
    &lt;/a&gt;
    &lt;figcaption class=&quot;image-caption&quot;&gt;
     Traffic across the GPU
    &lt;/figcaption&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   A lot of accesses fall through to L2, and the Arc B580’s 18 MB L2 ends up handling over 1 TB/s of traffic. L2 hitrate is good at over 90%, so 18 MB of L2 capacity is adequate for this workload. The Arc B580’s 192-bit GDDR6 setup can provide 456 GB/s of bandwidth, and this workload used 334.27 GB/s on average. GPA indicates the memory request queue was full less than 1% of the time, so the B580’s GDDR6 subsystem did well on the bandwidth front. Curiously, L2 miss counts suggest 122.91 GB/s of L2 miss bandwidth. Something is consuming VRAM bandwidth without going through L2.
  &lt;/p&gt;
  &lt;h2 class=&quot;header-anchor-post&quot;&gt;
   A Brief Look at Port Royal
  &lt;/h2&gt;
  &lt;p&gt;
   3DMark’s Port Royal benchmark uses raytraced reflections and shadows. It still renders most of the scene using rasterization, instead of the other way around like Cyberpunk 2077’s path tracing mode. That makes Port Royal a better representation of a raytracing workload that’s practical to run on midrange cards. I’m looking at a DispatchRays call that appears to handle reflections.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!35gj!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F97e6ca19-c29f-4818-a226-3d2a8ffb0d74_1200x675.jpeg&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!35gj!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F97e6ca19-c29f-4818-a226-3d2a8ffb0d74_1200x675.jpeg 424w, https://substackcdn.com/image/fetch/$s_!35gj!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F97e6ca19-c29f-4818-a226-3d2a8ffb0d74_1200x675.jpeg 848w, https://substackcdn.com/image/fetch/$s_!35gj!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F97e6ca19-c29f-4818-a226-3d2a8ffb0d74_1200x675.jpeg 1272w, https://substackcdn.com/image/fetch/$s_!35gj!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F97e6ca19-c29f-4818-a226-3d2a8ffb0d74_1200x675.jpeg 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/97e6ca19-c29f-4818-a226-3d2a8ffb0d74_1200x675.jpeg&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:675,&quot;width&quot;:1200,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:26566,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/jpeg&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/159100267?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F97e6ca19-c29f-4818-a226-3d2a8ffb0d74_1200x675.jpeg&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;675&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!35gj!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F97e6ca19-c29f-4818-a226-3d2a8ffb0d74_1200x675.jpeg&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!35gj!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F97e6ca19-c29f-4818-a226-3d2a8ffb0d74_1200x675.jpeg 424w, https://substackcdn.com/image/fetch/$s_!35gj!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F97e6ca19-c29f-4818-a226-3d2a8ffb0d74_1200x675.jpeg 848w, https://substackcdn.com/image/fetch/$s_!35gj!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F97e6ca19-c29f-4818-a226-3d2a8ffb0d74_1200x675.jpeg 1272w, https://substackcdn.com/image/fetch/$s_!35gj!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F97e6ca19-c29f-4818-a226-3d2a8ffb0d74_1200x675.jpeg 1456w&quot; width=&quot;1200&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
    &lt;figcaption class=&quot;image-caption&quot;&gt;
     Output from the DispatchRays call
    &lt;/figcaption&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Rays in Port Royal take more traversal steps. Higher BVH cache hitrate helps keep traversal fast, so the RTAs are able to sustain a similar rays per second figure compared to Cyberpunk 2077. Still, Port Royal places more relative pressure on the RTAs. RT traversal stalls happen more often, suggesting the RTA is getting traversal work handed to it faster than it can generate results.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!s3IX!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0aace388-bd17-43e2-86cc-d56d85a279e3_958x575.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!s3IX!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0aace388-bd17-43e2-86cc-d56d85a279e3_958x575.png 424w, https://substackcdn.com/image/fetch/$s_!s3IX!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0aace388-bd17-43e2-86cc-d56d85a279e3_958x575.png 848w, https://substackcdn.com/image/fetch/$s_!s3IX!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0aace388-bd17-43e2-86cc-d56d85a279e3_958x575.png 1272w, https://substackcdn.com/image/fetch/$s_!s3IX!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0aace388-bd17-43e2-86cc-d56d85a279e3_958x575.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/0aace388-bd17-43e2-86cc-d56d85a279e3_958x575.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:575,&quot;width&quot;:958,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:9844,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/159100267?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0aace388-bd17-43e2-86cc-d56d85a279e3_958x575.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;575&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!s3IX!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0aace388-bd17-43e2-86cc-d56d85a279e3_958x575.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!s3IX!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0aace388-bd17-43e2-86cc-d56d85a279e3_958x575.png 424w, https://substackcdn.com/image/fetch/$s_!s3IX!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0aace388-bd17-43e2-86cc-d56d85a279e3_958x575.png 848w, https://substackcdn.com/image/fetch/$s_!s3IX!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0aace388-bd17-43e2-86cc-d56d85a279e3_958x575.png 1272w, https://substackcdn.com/image/fetch/$s_!s3IX!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0aace388-bd17-43e2-86cc-d56d85a279e3_958x575.png 1456w&quot; width=&quot;958&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   At the same time, the RTA generates less work for the shader array when traversal finishes. Port Royal only has miss and closest hit shaders, so a ray won’t launch several any-hit shaders as it passes through transparent objects. Cyberpunk 2077’s path tracing mode also launches any-hit shaders, allowing more complex effects but also creating more work. In Port Royal, the Xe Core thread dispatchers rarely have work queued up waiting for free XVE thread slots. From the XVE side, occupancy is lower too. Together, those metrics suggest the B580’s shader array is also consuming traversal results faster than the RTAs generate them.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!k4FB!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F93dcea95-bff2-448b-9b98-07ecd5e20b5c_956x572.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!k4FB!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F93dcea95-bff2-448b-9b98-07ecd5e20b5c_956x572.png 424w, https://substackcdn.com/image/fetch/$s_!k4FB!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F93dcea95-bff2-448b-9b98-07ecd5e20b5c_956x572.png 848w, https://substackcdn.com/image/fetch/$s_!k4FB!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F93dcea95-bff2-448b-9b98-07ecd5e20b5c_956x572.png 1272w, https://substackcdn.com/image/fetch/$s_!k4FB!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F93dcea95-bff2-448b-9b98-07ecd5e20b5c_956x572.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/93dcea95-bff2-448b-9b98-07ecd5e20b5c_956x572.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:572,&quot;width&quot;:956,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:11298,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/159100267?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F93dcea95-bff2-448b-9b98-07ecd5e20b5c_956x572.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;572&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!k4FB!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F93dcea95-bff2-448b-9b98-07ecd5e20b5c_956x572.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!k4FB!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F93dcea95-bff2-448b-9b98-07ecd5e20b5c_956x572.png 424w, https://substackcdn.com/image/fetch/$s_!k4FB!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F93dcea95-bff2-448b-9b98-07ecd5e20b5c_956x572.png 848w, https://substackcdn.com/image/fetch/$s_!k4FB!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F93dcea95-bff2-448b-9b98-07ecd5e20b5c_956x572.png 1272w, https://substackcdn.com/image/fetch/$s_!k4FB!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F93dcea95-bff2-448b-9b98-07ecd5e20b5c_956x572.png 1456w&quot; width=&quot;956&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Just as a very cache friendly workload can achieve higher IPC with a single thread than two SMT threads together on a workload with a lot of cache misses, Port Royal enjoys better execution unit utilization despite having fewer active threads on average. Instruction fetch stalls are mostly gone. Memory latency is always an issue, but it’s not quite as severe. That shifts some stalls to execution latency, but that’s a good thing because math operations usually have lower latency than memory accesses.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!Ph6W!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F838a60b8-6cd5-419d-9a17-67549617a379_816x509.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!Ph6W!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F838a60b8-6cd5-419d-9a17-67549617a379_816x509.png 424w, https://substackcdn.com/image/fetch/$s_!Ph6W!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F838a60b8-6cd5-419d-9a17-67549617a379_816x509.png 848w, https://substackcdn.com/image/fetch/$s_!Ph6W!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F838a60b8-6cd5-419d-9a17-67549617a379_816x509.png 1272w, https://substackcdn.com/image/fetch/$s_!Ph6W!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F838a60b8-6cd5-419d-9a17-67549617a379_816x509.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/838a60b8-6cd5-419d-9a17-67549617a379_816x509.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:509,&quot;width&quot;:816,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:6004,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/159100267?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F838a60b8-6cd5-419d-9a17-67549617a379_816x509.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;509&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!Ph6W!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F838a60b8-6cd5-419d-9a17-67549617a379_816x509.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!Ph6W!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F838a60b8-6cd5-419d-9a17-67549617a379_816x509.png 424w, https://substackcdn.com/image/fetch/$s_!Ph6W!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F838a60b8-6cd5-419d-9a17-67549617a379_816x509.png 848w, https://substackcdn.com/image/fetch/$s_!Ph6W!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F838a60b8-6cd5-419d-9a17-67549617a379_816x509.png 1272w, https://substackcdn.com/image/fetch/$s_!Ph6W!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F838a60b8-6cd5-419d-9a17-67549617a379_816x509.png 1456w&quot; width=&quot;816&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Much of this comes down to Port Royal being more cache friendly. The B580’s L1 caches are able to contain more memory accesses, resulting in lower L2 and VRAM traffic.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!H79P!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F91443f97-c2fe-41a5-920b-16f3c2e8953a_793x324.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!H79P!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F91443f97-c2fe-41a5-920b-16f3c2e8953a_793x324.png 424w, https://substackcdn.com/image/fetch/$s_!H79P!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F91443f97-c2fe-41a5-920b-16f3c2e8953a_793x324.png 848w, https://substackcdn.com/image/fetch/$s_!H79P!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F91443f97-c2fe-41a5-920b-16f3c2e8953a_793x324.png 1272w, https://substackcdn.com/image/fetch/$s_!H79P!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F91443f97-c2fe-41a5-920b-16f3c2e8953a_793x324.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/91443f97-c2fe-41a5-920b-16f3c2e8953a_793x324.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:324,&quot;width&quot;:793,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:3952,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/159100267?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F91443f97-c2fe-41a5-920b-16f3c2e8953a_793x324.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;324&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!H79P!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F91443f97-c2fe-41a5-920b-16f3c2e8953a_793x324.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!H79P!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F91443f97-c2fe-41a5-920b-16f3c2e8953a_793x324.png 424w, https://substackcdn.com/image/fetch/$s_!H79P!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F91443f97-c2fe-41a5-920b-16f3c2e8953a_793x324.png 848w, https://substackcdn.com/image/fetch/$s_!H79P!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F91443f97-c2fe-41a5-920b-16f3c2e8953a_793x324.png 1272w, https://substackcdn.com/image/fetch/$s_!H79P!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F91443f97-c2fe-41a5-920b-16f3c2e8953a_793x324.png 1456w&quot; width=&quot;793&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;h2 class=&quot;header-anchor-post&quot;&gt;
   Final Words
  &lt;/h2&gt;
  &lt;p&gt;
   Intel’s Battlemage architecture is stronger than its predecessor at raytracing, thanks to beefed up RTAs with more throughput and better caching. Raytracing involves much more than BVH traversal, so Intel’s improved shader array also provides raytracing benefits. That especially applies to Cyberpunk 2077’s path tracing mode, which seeks to do more than simple reflections and shadows, creating a lot of pressure on the shader array. Port Royal’s limited raytracing effects present a different challenge. Simple effects mean less work on the XVEs, shifting focus to the RTAs.
  &lt;/p&gt;
  &lt;p&gt;
   Raytracing workloads are diverse, and engineers have to allocate their transistor budget between fixed function BVH traversal hardware and regular vector execution units. It reminds me of DirectX 9 GPUs striking a balance between vertex and pixel shader core counts. More vertex shaders help with complex geometry. More pixel shaders help with higher resolutions. Similarly, BVH traversal hardware deals with geometry. Hit/miss shaders affect on-screen pixel colors, though they operate on a sample basis rather than directly calculating colors for specified pixel coordinates.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!sLEV!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F96161140-2676-4cb3-a98a-9f943ab9f510_449x213.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!sLEV!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F96161140-2676-4cb3-a98a-9f943ab9f510_449x213.png 424w, https://substackcdn.com/image/fetch/$s_!sLEV!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F96161140-2676-4cb3-a98a-9f943ab9f510_449x213.png 848w, https://substackcdn.com/image/fetch/$s_!sLEV!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F96161140-2676-4cb3-a98a-9f943ab9f510_449x213.png 1272w, https://substackcdn.com/image/fetch/$s_!sLEV!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F96161140-2676-4cb3-a98a-9f943ab9f510_449x213.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/96161140-2676-4cb3-a98a-9f943ab9f510_449x213.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:213,&quot;width&quot;:449,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:5308,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/159100267?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F96161140-2676-4cb3-a98a-9f943ab9f510_449x213.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;213&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!sLEV!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F96161140-2676-4cb3-a98a-9f943ab9f510_449x213.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!sLEV!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F96161140-2676-4cb3-a98a-9f943ab9f510_449x213.png 424w, https://substackcdn.com/image/fetch/$s_!sLEV!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F96161140-2676-4cb3-a98a-9f943ab9f510_449x213.png 848w, https://substackcdn.com/image/fetch/$s_!sLEV!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F96161140-2676-4cb3-a98a-9f943ab9f510_449x213.png 1272w, https://substackcdn.com/image/fetch/$s_!sLEV!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F96161140-2676-4cb3-a98a-9f943ab9f510_449x213.png 1456w&quot; width=&quot;449&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
      &lt;div&gt;
      &lt;/div&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Rasterization and raytracing both place heavy demands on the memory subsystem, which continues to limit performance. Intel has therefore improved their caches to keep the improved RTAs and XVEs fed. The 16 KB BVH cache and bigger general purpose L1 cache have a field day in Port Royal. They have less fun with Cyberpunk 2077 path tracing. Perhaps Intel could make the Xe Core’s caches even bigger. But as with everything that goes on a chip, engineers have to make compromises with their limited transistor budget.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!7N8g!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8cc55ad0-2093-47dd-b9b1-1e034a915f2c_1920x1080.jpeg&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!7N8g!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8cc55ad0-2093-47dd-b9b1-1e034a915f2c_1920x1080.jpeg 424w, https://substackcdn.com/image/fetch/$s_!7N8g!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8cc55ad0-2093-47dd-b9b1-1e034a915f2c_1920x1080.jpeg 848w, https://substackcdn.com/image/fetch/$s_!7N8g!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8cc55ad0-2093-47dd-b9b1-1e034a915f2c_1920x1080.jpeg 1272w, https://substackcdn.com/image/fetch/$s_!7N8g!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8cc55ad0-2093-47dd-b9b1-1e034a915f2c_1920x1080.jpeg 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/8cc55ad0-2093-47dd-b9b1-1e034a915f2c_1920x1080.jpeg&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:819,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:2654417,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/jpeg&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/159100267?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8cc55ad0-2093-47dd-b9b1-1e034a915f2c_1920x1080.jpeg&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;819&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!7N8g!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8cc55ad0-2093-47dd-b9b1-1e034a915f2c_1920x1080.jpeg&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!7N8g!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8cc55ad0-2093-47dd-b9b1-1e034a915f2c_1920x1080.jpeg 424w, https://substackcdn.com/image/fetch/$s_!7N8g!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8cc55ad0-2093-47dd-b9b1-1e034a915f2c_1920x1080.jpeg 848w, https://substackcdn.com/image/fetch/$s_!7N8g!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8cc55ad0-2093-47dd-b9b1-1e034a915f2c_1920x1080.jpeg 1272w, https://substackcdn.com/image/fetch/$s_!7N8g!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8cc55ad0-2093-47dd-b9b1-1e034a915f2c_1920x1080.jpeg 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
    &lt;figcaption class=&quot;image-caption&quot;&gt;
     Output across multiple DispatchRays calls, manually ADD-ed together and exposure adjusted in GIMP. No noise reduction applied.
    &lt;/figcaption&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Cyberpunk 2077’s path tracing mode is a cool showcase, but it’s not usable on a midrange card like the B580 anyway. Well, not at least without a heavy dose of upscaling and perhaps frame generation. The B580’s caches do better on a simpler workload like Port Royal. Maybe Intel tuned Battlemage’s caches with such workloads in mind. It’s a good tradeoff considering Cyberpunk 2077’s path tracing mode challenges even high end GPUs.
  &lt;/p&gt;
  &lt;p&gt;
   Much like Intel’s strategy of targeting the GPU market’s sweet spot, perhaps Battlemage’s raytracing implementation targets the sweet spot of raytracing-enabled games, which use a few raytraced effects help enhance a mostly rasterized scene. Going forward, Intel plans to keep advancing their raytracing implementation. Xe3 adds sub-triangle opacity culling with associated new data structures. While Intel compiler code only references Panther Lake (Xe3 LPG) for now, I look forward to seeing what Intel does next with raytracing on discrete GPUs.
  &lt;/p&gt;
  &lt;p&gt;
   &lt;span&gt;
    If you like the content then consider heading over to the
   &lt;/span&gt;
   &lt;a href=&quot;https://www.patreon.com/ChipsandCheese&quot; rel=&quot;&quot;&gt;
    Patreon
   &lt;/a&gt;
   &lt;span&gt;
    or
   &lt;/span&gt;
   &lt;a href=&quot;https://www.paypal.com/donate/?hosted_button_id=4EMPH66SBGVSQ&quot; rel=&quot;&quot;&gt;
    PayPal
   &lt;/a&gt;
   &lt;span&gt;
    if you want to toss a few bucks to Chips and Cheese. Also consider joining the
   &lt;/span&gt;
   &lt;a href=&quot;https://discord.gg/TwVnRhxgY2&quot; rel=&quot;&quot;&gt;
    Discord
   &lt;/a&gt;
   &lt;span&gt;
    .
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
  &lt;/p&gt;
  &lt;p&gt;
  &lt;/p&gt;
 &lt;/div&gt;
&lt;/div&gt;

</description>
</item>
<item>
<title> Looking Ahead at Intel’s Xe3 GPU Architecture </title>
<link>https://chipsandcheese.com/p/looking-ahead-at-intels-xe3-gpu-architecture</link>
<pubDate>Sat, 05 Jul 2025 22:19:12 -0000</pubDate>
<description>
&lt;div class=&quot;available-content&quot;&gt;
 &lt;div class=&quot;body markup&quot; dir=&quot;auto&quot;&gt;
  &lt;p&gt;
   &lt;span&gt;
    Intel’s foray into high performance graphics has enjoyed impressive progress over the past few years, and the company is not letting up on the gas. Tom Peterson from Intel has
   &lt;/span&gt;
   &lt;a href=&quot;https://www.extremetech.com/computing/intels-next-generation-xe3-celestial-gpu-is-already-baked-says-intel-fellow&quot; rel=&quot;&quot;&gt;
    indicated
   &lt;/a&gt;
   &lt;span&gt;
    that Xe3 hardware design is complete, and software work is underway. Some of that software work is visible across several different open source repositories, offering a preview of what’s to come.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;h1 class=&quot;header-anchor-post&quot;&gt;
   GPU Organization: Larger Render Slices?
  &lt;/h1&gt;
  &lt;p&gt;
   &lt;span&gt;
    Modern GPUs are built from a hierarchy of subdivision levels, letting them scale to hit different performance, power and price targets. A shader program running on an Intel GPU can check where it’s running by reading the low bits of the
   &lt;/span&gt;
   &lt;code&gt;
    sr0
   &lt;/code&gt;
   &lt;span&gt;
    (state register 0) architectural register.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!zJlI!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fca919631-ba33-4c8d-9683-784fb49daf1a_842x446.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!zJlI!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fca919631-ba33-4c8d-9683-784fb49daf1a_842x446.png 424w, https://substackcdn.com/image/fetch/$s_!zJlI!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fca919631-ba33-4c8d-9683-784fb49daf1a_842x446.png 848w, https://substackcdn.com/image/fetch/$s_!zJlI!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fca919631-ba33-4c8d-9683-784fb49daf1a_842x446.png 1272w, https://substackcdn.com/image/fetch/$s_!zJlI!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fca919631-ba33-4c8d-9683-784fb49daf1a_842x446.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/ca919631-ba33-4c8d-9683-784fb49daf1a_842x446.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:446,&quot;width&quot;:842,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:36653,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:false,&quot;topImage&quot;:true,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/159384594?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fca919631-ba33-4c8d-9683-784fb49daf1a_842x446.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; fetchpriority=&quot;high&quot; height=&quot;446&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!zJlI!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fca919631-ba33-4c8d-9683-784fb49daf1a_842x446.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!zJlI!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fca919631-ba33-4c8d-9683-784fb49daf1a_842x446.png 424w, https://substackcdn.com/image/fetch/$s_!zJlI!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fca919631-ba33-4c8d-9683-784fb49daf1a_842x446.png 848w, https://substackcdn.com/image/fetch/$s_!zJlI!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fca919631-ba33-4c8d-9683-784fb49daf1a_842x446.png 1272w, https://substackcdn.com/image/fetch/$s_!zJlI!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fca919631-ba33-4c8d-9683-784fb49daf1a_842x446.png 1456w&quot; width=&quot;842&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   &lt;code&gt;
    sr0
   &lt;/code&gt;
   &lt;span&gt;
    topology bits on Xe3 have a different layout
   &lt;/span&gt;
   &lt;sup&gt;
    1
   &lt;/sup&gt;
   &lt;span&gt;
    . Xe Cores within a Render Slice are enumerated with four bits, up from two in prior generations. Thus Xe3’s topology bits would be able to handle a Render Slice with up to 16 Xe Cores. Prior Xe generations could only have four Xe Cores per Render Slice, and often went right up to that. The B580 and A770 both placed four Xe Cores in each Render Slice.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!3a3B!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5b5bc369-fc83-4273-b672-cdccb9a93897_998x467.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!3a3B!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5b5bc369-fc83-4273-b672-cdccb9a93897_998x467.png 424w, https://substackcdn.com/image/fetch/$s_!3a3B!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5b5bc369-fc83-4273-b672-cdccb9a93897_998x467.png 848w, https://substackcdn.com/image/fetch/$s_!3a3B!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5b5bc369-fc83-4273-b672-cdccb9a93897_998x467.png 1272w, https://substackcdn.com/image/fetch/$s_!3a3B!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5b5bc369-fc83-4273-b672-cdccb9a93897_998x467.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/5b5bc369-fc83-4273-b672-cdccb9a93897_998x467.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:467,&quot;width&quot;:998,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:78663,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:false,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/159384594?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5b5bc369-fc83-4273-b672-cdccb9a93897_998x467.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;467&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!3a3B!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5b5bc369-fc83-4273-b672-cdccb9a93897_998x467.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!3a3B!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5b5bc369-fc83-4273-b672-cdccb9a93897_998x467.png 424w, https://substackcdn.com/image/fetch/$s_!3a3B!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5b5bc369-fc83-4273-b672-cdccb9a93897_998x467.png 848w, https://substackcdn.com/image/fetch/$s_!3a3B!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5b5bc369-fc83-4273-b672-cdccb9a93897_998x467.png 1272w, https://substackcdn.com/image/fetch/$s_!3a3B!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5b5bc369-fc83-4273-b672-cdccb9a93897_998x467.png 1456w&quot; width=&quot;998&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   &lt;span&gt;
    Having enough bits to describe a certain configuration doesn’t mean Intel will ship something that big. Xe did use its maximum 32 core, 4096 lane setup in the Arc A770. However, Xe2 maxed out at 20 cores and 2560 lanes with the Arc B580. Xe2’s
   &lt;/span&gt;
   &lt;code&gt;
    sr0
   &lt;/code&gt;
   &lt;span&gt;
    format could theoretically enumerate 16 slices. Giving each slice the maximum of 4 Xe Cores would make a 64 Xe Core GPU with 8192 FP32 lanes. Obviously the B580 doesn’t get anywhere near that.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!YQ68!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5503b3d9-2060-4064-9038-48b03209f4d5_1570x1251.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!YQ68!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5503b3d9-2060-4064-9038-48b03209f4d5_1570x1251.png 424w, https://substackcdn.com/image/fetch/$s_!YQ68!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5503b3d9-2060-4064-9038-48b03209f4d5_1570x1251.png 848w, https://substackcdn.com/image/fetch/$s_!YQ68!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5503b3d9-2060-4064-9038-48b03209f4d5_1570x1251.png 1272w, https://substackcdn.com/image/fetch/$s_!YQ68!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5503b3d9-2060-4064-9038-48b03209f4d5_1570x1251.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/5503b3d9-2060-4064-9038-48b03209f4d5_1570x1251.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:1160,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:161795,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:false,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/159384594?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5503b3d9-2060-4064-9038-48b03209f4d5_1570x1251.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;1160&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!YQ68!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5503b3d9-2060-4064-9038-48b03209f4d5_1570x1251.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!YQ68!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5503b3d9-2060-4064-9038-48b03209f4d5_1570x1251.png 424w, https://substackcdn.com/image/fetch/$s_!YQ68!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5503b3d9-2060-4064-9038-48b03209f4d5_1570x1251.png 848w, https://substackcdn.com/image/fetch/$s_!YQ68!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5503b3d9-2060-4064-9038-48b03209f4d5_1570x1251.png 1272w, https://substackcdn.com/image/fetch/$s_!YQ68!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5503b3d9-2060-4064-9038-48b03209f4d5_1570x1251.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
    &lt;figcaption class=&quot;image-caption&quot;&gt;
     Visualizing the shader array on a hypothetical giant Xe2 implementation that maxes out all topology enumeration bits
    &lt;/figcaption&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Xe3 goes even further. Maxing out all the topology enumeration bits would result in a ludicrously large 256 Xe Core configuration with 32768 FP32 lanes. That’s even larger than Nvidia’s RTX 5090, which “only” has 21760 FP32 lanes. Intel has been focusing on the midrange segment for a while, and I doubt we’ll see anything that big.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!YzM0!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F01f31e83-fb4f-448c-adbf-967239479a70_1000x200.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!YzM0!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F01f31e83-fb4f-448c-adbf-967239479a70_1000x200.png 424w, https://substackcdn.com/image/fetch/$s_!YzM0!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F01f31e83-fb4f-448c-adbf-967239479a70_1000x200.png 848w, https://substackcdn.com/image/fetch/$s_!YzM0!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F01f31e83-fb4f-448c-adbf-967239479a70_1000x200.png 1272w, https://substackcdn.com/image/fetch/$s_!YzM0!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F01f31e83-fb4f-448c-adbf-967239479a70_1000x200.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/01f31e83-fb4f-448c-adbf-967239479a70_1000x200.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:200,&quot;width&quot;:1000,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:158065,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/159384594?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F01f31e83-fb4f-448c-adbf-967239479a70_1000x200.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;200&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!YzM0!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F01f31e83-fb4f-448c-adbf-967239479a70_1000x200.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!YzM0!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F01f31e83-fb4f-448c-adbf-967239479a70_1000x200.png 424w, https://substackcdn.com/image/fetch/$s_!YzM0!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F01f31e83-fb4f-448c-adbf-967239479a70_1000x200.png 848w, https://substackcdn.com/image/fetch/$s_!YzM0!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F01f31e83-fb4f-448c-adbf-967239479a70_1000x200.png 1272w, https://substackcdn.com/image/fetch/$s_!YzM0!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F01f31e83-fb4f-448c-adbf-967239479a70_1000x200.png 1456w&quot; width=&quot;1000&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
      &lt;div&gt;
      &lt;/div&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Instead, I think Intel wants more flexibility to scale compute power independently of fixed function hardware like ROPs and rasterizers. AMD and Nvidia’s SAs and GPCs all pack a lot more than four cores. For example, the RX 6900XT’s Shader Engines each have 10 WGPs. Nvidia’s RTX 4090 puts eight SMs in each GPC. GPUs have become more compute-heavy over time, as games use more complex shader programs. Intel seems to be following the same trend.
  &lt;/p&gt;
  &lt;h2 class=&quot;header-anchor-post&quot;&gt;
   XVE Changes
  &lt;/h2&gt;
  &lt;p&gt;
   Xe Vector Engines (XVEs) execute shader programs on Intel GPUs. They use a combination of vector-level and thread-level parallelism to hide latency.
  &lt;/p&gt;
  &lt;h2 class=&quot;header-anchor-post&quot;&gt;
   Higher Occupancy, Increased Parallelism
  &lt;/h2&gt;
  &lt;p&gt;
   Xe3 XVEs can run 10 threads concurrently, up from eight in prior generations. Like SMT on a CPU, tracking multiple threads helps a XVE hide latency using thread level parallelism. If one thread stalls, the XVE can hopefully find an un-stalled thread to issue instructions from. Active thread count is also referred to as thread occupancy. 100% occupancy on a GPU would be analogous to 100% utilization in Windows Task Manager. Unlike CPU SMT implementations, GPU occupancy can be limited by register file capacity.
  &lt;/p&gt;
  &lt;p&gt;
   &lt;span&gt;
    Prior Intel GPUs had two register allocation modes. Normally each thread gets 128 512-bit registers, for 8 KB of registers per thread. A “large GRF” mode gives each thread 256 registers, but drops occupancy to 4 threads because of register file capacity limits. Xe3 continues to use 64 KB register files per XVE, but flexibly allocates registers in 32 entry blocks
   &lt;/span&gt;
   &lt;sup&gt;
    2
   &lt;/sup&gt;
   &lt;span&gt;
    . That lets Xe3’s XVEs get 10 threads in flight as long as each thread uses 96 or fewer registers. If a shader program needs a lot of registers, occupancy degrades more gracefully than in prior generations.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!YhDj!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9e7d6b46-e13e-4eb2-8e48-761fb89584ca_984x516.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!YhDj!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9e7d6b46-e13e-4eb2-8e48-761fb89584ca_984x516.png 424w, https://substackcdn.com/image/fetch/$s_!YhDj!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9e7d6b46-e13e-4eb2-8e48-761fb89584ca_984x516.png 848w, https://substackcdn.com/image/fetch/$s_!YhDj!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9e7d6b46-e13e-4eb2-8e48-761fb89584ca_984x516.png 1272w, https://substackcdn.com/image/fetch/$s_!YhDj!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9e7d6b46-e13e-4eb2-8e48-761fb89584ca_984x516.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/9e7d6b46-e13e-4eb2-8e48-761fb89584ca_984x516.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:516,&quot;width&quot;:984,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:21036,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/159384594?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9e7d6b46-e13e-4eb2-8e48-761fb89584ca_984x516.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;516&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!YhDj!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9e7d6b46-e13e-4eb2-8e48-761fb89584ca_984x516.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!YhDj!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9e7d6b46-e13e-4eb2-8e48-761fb89584ca_984x516.png 424w, https://substackcdn.com/image/fetch/$s_!YhDj!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9e7d6b46-e13e-4eb2-8e48-761fb89584ca_984x516.png 848w, https://substackcdn.com/image/fetch/$s_!YhDj!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9e7d6b46-e13e-4eb2-8e48-761fb89584ca_984x516.png 1272w, https://substackcdn.com/image/fetch/$s_!YhDj!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9e7d6b46-e13e-4eb2-8e48-761fb89584ca_984x516.png 1456w&quot; width=&quot;984&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Nvidia and AMD GPUs allocate registers at even finer granularity. AMD’s RDNA 2 for example allocates registers in blocks of 16. But Xe3 is still more flexible than prior Intel generations. With this change, simple shaders that only need a few registers will enjoy better latency tolerance from more thread-level parallelism. And more complex shaders can avoid dropping to the “large GRF” mode.
  &lt;/p&gt;
  &lt;p&gt;
   Xe3’s XVEs have more scoreboard tokens too. Like AMD and Nvidia, Intel uses compiler assisted scheduling for long latency instructions like memory accesses. A long latency instruction can set a scoreboard entry, and a dependent instruction can wait until that entry is cleared. Each Xe3 thread gets 32 scoreboard tokens regardless of occupancy, so a XVE has 320 scoreboard tokens in total. On Xe2, a thread gets 16 tokens if the XVE is running eight threads, or 32 in “large GRF” mode with four threads. Thus Xe2’s XVEs only have 128 scoreboard tokens in total. More tokens let thread have more outstanding long latency instructions. That very likely translates to more memory level parallelism per thread.
  &lt;/p&gt;
  &lt;h2 class=&quot;header-anchor-post&quot;&gt;
   “Scalar” Register (s0)
  &lt;/h2&gt;
  &lt;p&gt;
   &lt;span&gt;
    Intel’s GPU ISA has a vector register file (GRF, or General Register File) that stores much of a shader program’s data and feeds the vector execution units. It also has an “Architecture Register File” (ARF) with special registers. Some of those can store data, like the accumulator registers. But others serve special purposes. For example,
   &lt;/span&gt;
   &lt;code&gt;
    sr0
   &lt;/code&gt;
   &lt;span&gt;
    as mentioned above provides GPU topology info, along with floating point exception state and thread priority. A 32-bit instruction pointer points to the current instruction address, relative to the instruction base address.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!4IsM!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F81871181-da97-4ab2-9da6-549db0ceef55_980x494.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!4IsM!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F81871181-da97-4ab2-9da6-549db0ceef55_980x494.png 424w, https://substackcdn.com/image/fetch/$s_!4IsM!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F81871181-da97-4ab2-9da6-549db0ceef55_980x494.png 848w, https://substackcdn.com/image/fetch/$s_!4IsM!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F81871181-da97-4ab2-9da6-549db0ceef55_980x494.png 1272w, https://substackcdn.com/image/fetch/$s_!4IsM!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F81871181-da97-4ab2-9da6-549db0ceef55_980x494.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/81871181-da97-4ab2-9da6-549db0ceef55_980x494.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:494,&quot;width&quot;:980,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:43768,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/159384594?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F81871181-da97-4ab2-9da6-549db0ceef55_980x494.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;494&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!4IsM!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F81871181-da97-4ab2-9da6-549db0ceef55_980x494.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!4IsM!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F81871181-da97-4ab2-9da6-549db0ceef55_980x494.png 424w, https://substackcdn.com/image/fetch/$s_!4IsM!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F81871181-da97-4ab2-9da6-549db0ceef55_980x494.png 848w, https://substackcdn.com/image/fetch/$s_!4IsM!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F81871181-da97-4ab2-9da6-549db0ceef55_980x494.png 1272w, https://substackcdn.com/image/fetch/$s_!4IsM!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F81871181-da97-4ab2-9da6-549db0ceef55_980x494.png 1456w&quot; width=&quot;980&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
    &lt;figcaption class=&quot;image-caption&quot;&gt;
     Notes on Intel’s ARF, with changes from Xe2 to Xe3 in blue
    &lt;/figcaption&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   &lt;span&gt;
    Xe3 adds a “Scalar Register” (
   &lt;/span&gt;
   &lt;code&gt;
    s0
   &lt;/code&gt;
   &lt;span&gt;
    ) to the ARF
   &lt;/span&gt;
   &lt;sup&gt;
    6
   &lt;/sup&gt;
   &lt;span&gt;
    .
   &lt;/span&gt;
   &lt;code&gt;
    s0
   &lt;/code&gt;
   &lt;span&gt;
    is laid out much like the address register (
   &lt;/span&gt;
   &lt;code&gt;
    a0
   &lt;/code&gt;
   &lt;span&gt;
    ), and is used for gather-send instructions. XVEs access memory and communicate with other shared using by sending messages over the Xe Core’s message fabric, using
   &lt;/span&gt;
   &lt;code&gt;
    send
   &lt;/code&gt;
   &lt;span&gt;
    instructions. Gather-send appears to let Xe3 gather non-contiguous values from the register file, and send them with a single
   &lt;/span&gt;
   &lt;code&gt;
    send
   &lt;/code&gt;
   &lt;span&gt;
    instruction.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   &lt;span&gt;
    Besides adding the Scalar Register, Xe3 extends the thread dependency register (TDR) to handle 10 threads.
   &lt;/span&gt;
   &lt;code&gt;
    sr0
   &lt;/code&gt;
   &lt;span&gt;
    gains an extra 32-bit doubleword for unknown reasons.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;h2 class=&quot;header-anchor-post&quot;&gt;
   Instruction Changes
  &lt;/h2&gt;
  &lt;p&gt;
   Xe3 supports a saturation modifier for FCVT, an instruction that converts between different floating point types (not between integer and floating point). FCVT was introduced with Ponte Vecchio, but the saturation modifier could ease conversion from higher to lower precision floating point formats. Xe3 also gains HF8 (half float 8-bit) format support, providing another 8-bit floating point format option next to the BF8 type already supported in Xe2.
  &lt;/p&gt;
  &lt;p&gt;
   &lt;span&gt;
    For the XMX unit, Xe3 gains a
   &lt;/span&gt;
   &lt;code&gt;
    xdpas
   &lt;/code&gt;
   &lt;span&gt;
    instruction
   &lt;/span&gt;
   &lt;sup&gt;
    4
   &lt;/sup&gt;
   &lt;span&gt;
    .
   &lt;/span&gt;
   &lt;code&gt;
    sdpas
   &lt;/code&gt;
   &lt;span&gt;
    stands for sparse systolic dot product with accumulate
   &lt;/span&gt;
   &lt;sup&gt;
    5
   &lt;/sup&gt;
   &lt;span&gt;
    . Matrices with a lot of zero elements are known as sparse matrices. Operations on sparse matrices can be optimized because anything multiplied by zero is obviously zero. Nvidia and AMD GPUs have both implemented sparsity optimizations, and Intel is apparently looking to do the same.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;h1 class=&quot;header-anchor-post&quot;&gt;
   Raytracing: Sub-Triangle Opacity Culling
  &lt;/h1&gt;
  &lt;p&gt;
   &lt;span&gt;
    Sub-Triangle Opacity Culling (STOC) subdivides triangles in BVH leaf nodes, and marks sub-triangles as transparent, opaque, or partially transparent. The primary motivation is to reduce wasted any-hit shader work when games use texture alpha channels to handle complex geometry. Intel’s paper calls out foliage as an example, noting that programmers may use low vertex counts to reduce “rendering, animation, and even simulation run times.”
   &lt;/span&gt;
   &lt;sup&gt;
    7
   &lt;/sup&gt;
   &lt;span&gt;
    BVH geometry from the API perspective can only be completely
   &lt;/span&gt;
   &lt;a href=&quot;https://microsoft.github.io/DirectX-Specs/d3d/Raytracing.html#d3d12_raytracing_geometry_flags&quot; rel=&quot;&quot;&gt;
    transparent or opaque
   &lt;/a&gt;
   &lt;span&gt;
    , so games mark all partially transparent primitives as transparent. Each ray intersection will fire an any-hit shader, which carries out alpha testing. If alpha testing indicates the ray intersected a transparent part of the primitive, the shader program doesn’t contribute a sample and the any-hit shader launch is basically wasted. STOC bits let the any-hit shader skip alpha testing if the ray intersects a completely transparent or completely opaque sub-triangle.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!lvji!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9ef29734-8af1-4496-9336-4f368bac4e23_1082x311.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!lvji!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9ef29734-8af1-4496-9336-4f368bac4e23_1082x311.png 424w, https://substackcdn.com/image/fetch/$s_!lvji!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9ef29734-8af1-4496-9336-4f368bac4e23_1082x311.png 848w, https://substackcdn.com/image/fetch/$s_!lvji!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9ef29734-8af1-4496-9336-4f368bac4e23_1082x311.png 1272w, https://substackcdn.com/image/fetch/$s_!lvji!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9ef29734-8af1-4496-9336-4f368bac4e23_1082x311.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/9ef29734-8af1-4496-9336-4f368bac4e23_1082x311.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:311,&quot;width&quot;:1082,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:59897,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/159384594?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9ef29734-8af1-4496-9336-4f368bac4e23_1082x311.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;311&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!lvji!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9ef29734-8af1-4496-9336-4f368bac4e23_1082x311.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!lvji!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9ef29734-8af1-4496-9336-4f368bac4e23_1082x311.png 424w, https://substackcdn.com/image/fetch/$s_!lvji!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9ef29734-8af1-4496-9336-4f368bac4e23_1082x311.png 848w, https://substackcdn.com/image/fetch/$s_!lvji!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9ef29734-8af1-4496-9336-4f368bac4e23_1082x311.png 1272w, https://substackcdn.com/image/fetch/$s_!lvji!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9ef29734-8af1-4496-9336-4f368bac4e23_1082x311.png 1456w&quot; width=&quot;1082&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
    &lt;figcaption class=&quot;image-caption&quot;&gt;
     From Intel&#x27;s paper, showing examples of foliage textures
    &lt;/figcaption&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Storing each sub-triangle’s opacity information takes two bits, so STOC does require more storage compared to using a single opacity bit for the entire triangle. Still, it’s far more practical than packing entire textures into the BVH. Intel’s paper found that a software-only STOC implementation improved performance by 5.9-42.2% compared to standard alpha tests when handling translucent ray-traced shadows.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!pJR1!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd50b3c74-619b-4005-b5fd-5f781b9b9f47_1000x686.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!pJR1!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd50b3c74-619b-4005-b5fd-5f781b9b9f47_1000x686.png 424w, https://substackcdn.com/image/fetch/$s_!pJR1!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd50b3c74-619b-4005-b5fd-5f781b9b9f47_1000x686.png 848w, https://substackcdn.com/image/fetch/$s_!pJR1!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd50b3c74-619b-4005-b5fd-5f781b9b9f47_1000x686.png 1272w, https://substackcdn.com/image/fetch/$s_!pJR1!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd50b3c74-619b-4005-b5fd-5f781b9b9f47_1000x686.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/d50b3c74-619b-4005-b5fd-5f781b9b9f47_1000x686.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:686,&quot;width&quot;:1000,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:1294195,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/159384594?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd50b3c74-619b-4005-b5fd-5f781b9b9f47_1000x686.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;686&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!pJR1!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd50b3c74-619b-4005-b5fd-5f781b9b9f47_1000x686.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!pJR1!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd50b3c74-619b-4005-b5fd-5f781b9b9f47_1000x686.png 424w, https://substackcdn.com/image/fetch/$s_!pJR1!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd50b3c74-619b-4005-b5fd-5f781b9b9f47_1000x686.png 848w, https://substackcdn.com/image/fetch/$s_!pJR1!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd50b3c74-619b-4005-b5fd-5f781b9b9f47_1000x686.png 1272w, https://substackcdn.com/image/fetch/$s_!pJR1!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd50b3c74-619b-4005-b5fd-5f781b9b9f47_1000x686.png 1456w&quot; width=&quot;1000&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
    &lt;figcaption class=&quot;image-caption&quot;&gt;
     Elden Ring&#x27;s BVH represents tree leaves in Leyndell using larger triangles, as seen in Radeon Raytracing Analyzer. STOC may map well to this scenario
    &lt;/figcaption&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   STOC-aware raytracing hardware can provide further gains, especially with Intel&#x27;s raytracing implementation. Intel&#x27;s raytracing acceleration method closely aligns with the DXR 1.0 standard. A raytracing accelerator (RTA) autonomously handles traversal and launches hit/miss shaders by sending messages to the Xe Core&#x27;s thread dispatcher. STOC bits could let the RTA skip shader launches if the ray intersects a completely transparent sub-triangle. For an opaque sub-triangle, the RTA can tell the shader program to skip alpha testing, and terminate the ray early.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!NAj_!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fcd1e9773-5a75-4b9c-9913-42d727a271d9_1280x720.jpeg&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!NAj_!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fcd1e9773-5a75-4b9c-9913-42d727a271d9_1280x720.jpeg 424w, https://substackcdn.com/image/fetch/$s_!NAj_!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fcd1e9773-5a75-4b9c-9913-42d727a271d9_1280x720.jpeg 848w, https://substackcdn.com/image/fetch/$s_!NAj_!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fcd1e9773-5a75-4b9c-9913-42d727a271d9_1280x720.jpeg 1272w, https://substackcdn.com/image/fetch/$s_!NAj_!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fcd1e9773-5a75-4b9c-9913-42d727a271d9_1280x720.jpeg 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/cd1e9773-5a75-4b9c-9913-42d727a271d9_1280x720.jpeg&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:720,&quot;width&quot;:1280,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:26406,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/jpeg&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/159384594?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fcd1e9773-5a75-4b9c-9913-42d727a271d9_1280x720.jpeg&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;720&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!NAj_!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fcd1e9773-5a75-4b9c-9913-42d727a271d9_1280x720.jpeg&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!NAj_!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fcd1e9773-5a75-4b9c-9913-42d727a271d9_1280x720.jpeg 424w, https://substackcdn.com/image/fetch/$s_!NAj_!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fcd1e9773-5a75-4b9c-9913-42d727a271d9_1280x720.jpeg 848w, https://substackcdn.com/image/fetch/$s_!NAj_!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fcd1e9773-5a75-4b9c-9913-42d727a271d9_1280x720.jpeg 1272w, https://substackcdn.com/image/fetch/$s_!NAj_!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fcd1e9773-5a75-4b9c-9913-42d727a271d9_1280x720.jpeg 1456w&quot; width=&quot;1280&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
    &lt;figcaption class=&quot;image-caption&quot;&gt;
     Illustrating the problem STOC tries to solve. Yes I used rectangles, but I wanted to use the same leaf texture outline as Intel&#x27;s paper. And Intel&#x27;s leaf nodes store rectangles (triangle pairs) anyway
    &lt;/figcaption&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   &lt;span&gt;
    Xe3 brings STOC bits into hardware raytracing data structures with two levels of sophistication. A basic implementation retains 64B leaf nodes, but creatively finds space to fit 18 extra bits. Intel&#x27;s
   &lt;/span&gt;
   &lt;code&gt;
    QuadLeaf
   &lt;/code&gt;
   &lt;span&gt;
    structure represents a merged pair of triangles. Each triangle gets 8 STOC bits, implying four sub-triangles. Another two bits indicate whether the any-hit shader should do STOC emulation in software, potentially letting programmers turn off hardware STOC for debugging. This mode is named &quot;STOC1&quot; in code.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!TJ9B!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F87989e82-2c48-4f1a-9789-2af6ca5db6de_1311x1324.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!TJ9B!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F87989e82-2c48-4f1a-9789-2af6ca5db6de_1311x1324.png 424w, https://substackcdn.com/image/fetch/$s_!TJ9B!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F87989e82-2c48-4f1a-9789-2af6ca5db6de_1311x1324.png 848w, https://substackcdn.com/image/fetch/$s_!TJ9B!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F87989e82-2c48-4f1a-9789-2af6ca5db6de_1311x1324.png 1272w, https://substackcdn.com/image/fetch/$s_!TJ9B!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F87989e82-2c48-4f1a-9789-2af6ca5db6de_1311x1324.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/87989e82-2c48-4f1a-9789-2af6ca5db6de_1311x1324.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:1324,&quot;width&quot;:1311,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:97468,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/159384594?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F87989e82-2c48-4f1a-9789-2af6ca5db6de_1311x1324.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;1324&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!TJ9B!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F87989e82-2c48-4f1a-9789-2af6ca5db6de_1311x1324.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!TJ9B!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F87989e82-2c48-4f1a-9789-2af6ca5db6de_1311x1324.png 424w, https://substackcdn.com/image/fetch/$s_!TJ9B!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F87989e82-2c48-4f1a-9789-2af6ca5db6de_1311x1324.png 848w, https://substackcdn.com/image/fetch/$s_!TJ9B!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F87989e82-2c48-4f1a-9789-2af6ca5db6de_1311x1324.png 1272w, https://substackcdn.com/image/fetch/$s_!TJ9B!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F87989e82-2c48-4f1a-9789-2af6ca5db6de_1311x1324.png 1456w&quot; width=&quot;1311&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
    &lt;figcaption class=&quot;image-caption&quot;&gt;
     Sketching out triangle (leaf) node formats for Xe/Xe2 and Xe3. Blue = STOC related, purple = non-STOC raytracing data structure changes
    &lt;/figcaption&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   A “STOC3” structure takes things further by storing pointers to STOC bits rather than embedding them into the BVH. That allows more flexibility in how much storage the STOC bits can use. STOC3 also specifies recursion levels for STOC bits, possibly for recursively partitioning triangles. Subdividing further would reduce the number of partially transparent sub-triangles, which require alpha testing from the any-hit shader. Storing pointers for STOC3 brings leaf node size to 128 bytes, increasing BVH memory footprint.
  &lt;/p&gt;
  &lt;p&gt;
   Possible performance gains are exciting, but using STOC requires work from game developers or game engines. Intel suggests that STOC bits can be generated offline as part of game asset compilation. Artists will have to determine whether using STOC will provide a performance uplift for a particular scene. A scene with a lot of foliage might benefit massively from STOC. A chain link fence may be another story. STOC isn’t a part of the DirectX or Vulkan standards, which can be another obstacle to adoption. However, software-only STOC can still provide benefits. That could encourage developers to try it out. If they do implement it, STOC-aware Xe3 hardware stands to gain more than a software-only solution.
  &lt;/p&gt;
  &lt;h1 class=&quot;header-anchor-post&quot;&gt;
   Final Words
  &lt;/h1&gt;
  &lt;p&gt;
   We’re still some time away from real Xe3 products. But software changes suggest Xe3 is another significant step forward for Intel’s graphics architecture. Xe2 was a solid step in Intel’s foray into discrete graphics, providing better performance than Xe with a nominally smaller GPU. Xe3 tweaks the architecture again and likely has similar goals. Higher occupancy and dynamic register allocation would make Xe Cores more latency tolerant, improving utilization. Those changes also bring Intel’s graphics architecture closer to AMD and Nvidia’s.
  &lt;/p&gt;
  &lt;p&gt;
   XVE changes show Intel is still busy evolving their core compute architecture. In contrast, Nvidia’s Streaming Multiprocessors haven’t seen significant changes from Ampere to Blackwell. Nvidia may have felt Ampere’s SM architecture was good enough, and turned their efforts to tuning features while scaling up the GPU to keep providing generational gains. Intel meanwhile seeks to get more out of each Xe Core (and Xe2 achieved higher performance than Xe with fewer Xe Cores).
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!OLxq!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F12874222-8008-4367-9262-7a02626cb3b6_810x576.jpeg&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!OLxq!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F12874222-8008-4367-9262-7a02626cb3b6_810x576.jpeg 424w, https://substackcdn.com/image/fetch/$s_!OLxq!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F12874222-8008-4367-9262-7a02626cb3b6_810x576.jpeg 848w, https://substackcdn.com/image/fetch/$s_!OLxq!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F12874222-8008-4367-9262-7a02626cb3b6_810x576.jpeg 1272w, https://substackcdn.com/image/fetch/$s_!OLxq!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F12874222-8008-4367-9262-7a02626cb3b6_810x576.jpeg 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/12874222-8008-4367-9262-7a02626cb3b6_810x576.jpeg&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:576,&quot;width&quot;:810,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:166273,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/jpeg&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/159384594?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F12874222-8008-4367-9262-7a02626cb3b6_810x576.jpeg&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;576&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!OLxq!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F12874222-8008-4367-9262-7a02626cb3b6_810x576.jpeg&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!OLxq!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F12874222-8008-4367-9262-7a02626cb3b6_810x576.jpeg 424w, https://substackcdn.com/image/fetch/$s_!OLxq!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F12874222-8008-4367-9262-7a02626cb3b6_810x576.jpeg 848w, https://substackcdn.com/image/fetch/$s_!OLxq!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F12874222-8008-4367-9262-7a02626cb3b6_810x576.jpeg 1272w, https://substackcdn.com/image/fetch/$s_!OLxq!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F12874222-8008-4367-9262-7a02626cb3b6_810x576.jpeg 1456w&quot; width=&quot;810&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
    &lt;figcaption class=&quot;image-caption&quot;&gt;
     Intel Arc logo on a product box
    &lt;/figcaption&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   In a similarity with Nvidia, Intel is pushing hard on the features front and evidently has invested into research. GPUs often try to avoid doing wasted work. Just rasterization pipelines use early depth testing to avoid useless pixel shader invocations, STOC avoids spawning useless any-hit shaders. It’s too early to tell what kind of difference STOC or other Xe3 features will make. But anyone doubting Intel’s commitment to moving their GPU architecture forward should take a serious look at Mesa and Intel Graphics Compiler changes. There’s a lot going on, and I look forward to seeing Xe3 whenever it’s ready.
  &lt;/p&gt;
  &lt;p&gt;
  &lt;/p&gt;
  &lt;p&gt;
  &lt;/p&gt;
 &lt;/div&gt;
&lt;/div&gt;

</description>
</item>
<item>
<title> RDNA 4&#x27;s &quot;Out-of-Order&quot; Memory Accesses </title>
<link>https://chipsandcheese.com/p/rdna-4s-out-of-order-memory-accesses</link>
<pubDate>Sat, 05 Jul 2025 22:19:08 -0000</pubDate>
<description>
&lt;div class=&quot;available-content&quot;&gt;
 &lt;div class=&quot;body markup&quot; dir=&quot;auto&quot;&gt;
  &lt;p&gt;
   AMD&#x27;s RDNA 4 brings a variety of memory subsystem enhancements. Among those, one slide stood out because it dealt with out-of-order memory accesses. According to the slide, RDNA 4 allows requests from different shaders to be satisfied out-of-order, and adds new out-of-order queues for memory requests.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!7yQL!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F594baab5-718d-47d7-a578-284a1981bffb_1279x719.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!7yQL!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F594baab5-718d-47d7-a578-284a1981bffb_1279x719.png 424w, https://substackcdn.com/image/fetch/$s_!7yQL!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F594baab5-718d-47d7-a578-284a1981bffb_1279x719.png 848w, https://substackcdn.com/image/fetch/$s_!7yQL!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F594baab5-718d-47d7-a578-284a1981bffb_1279x719.png 1272w, https://substackcdn.com/image/fetch/$s_!7yQL!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F594baab5-718d-47d7-a578-284a1981bffb_1279x719.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/594baab5-718d-47d7-a578-284a1981bffb_1279x719.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:719,&quot;width&quot;:1279,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:208782,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:false,&quot;topImage&quot;:true,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/159664006?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F594baab5-718d-47d7-a578-284a1981bffb_1279x719.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; fetchpriority=&quot;high&quot; height=&quot;719&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!7yQL!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F594baab5-718d-47d7-a578-284a1981bffb_1279x719.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!7yQL!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F594baab5-718d-47d7-a578-284a1981bffb_1279x719.png 424w, https://substackcdn.com/image/fetch/$s_!7yQL!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F594baab5-718d-47d7-a578-284a1981bffb_1279x719.png 848w, https://substackcdn.com/image/fetch/$s_!7yQL!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F594baab5-718d-47d7-a578-284a1981bffb_1279x719.png 1272w, https://substackcdn.com/image/fetch/$s_!7yQL!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F594baab5-718d-47d7-a578-284a1981bffb_1279x719.png 1456w&quot; width=&quot;1279&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;h1 class=&quot;header-anchor-post&quot;&gt;
   Cross-Wave Out-of-Order Memory Accesses
  &lt;/h1&gt;
  &lt;p&gt;
   AMD apparently had a false dependency case in the memory subsystem prior to RDNA 4. One wave could wait for a memory loads made by another wave. A &quot;wavefront&quot;, &quot;wave&quot;, or &quot;warp&quot; on a GPU is the rough equivalent of a CPU thread. It has its own register state, and can run out of sync with other waves. Each wave&#x27;s instructions are independent from those in other waves with very few exceptions (like atomic operations).
  &lt;/p&gt;
  &lt;blockquote&gt;
   &lt;p&gt;
    In RDNA 3, there was a strict ordering on the return of data, such that effectively a request that was made later in time was not permitted to pass a request made earlier in time, even if the data for it was ready much sooner.
   &lt;/p&gt;
   &lt;p&gt;
    Navi 4 Architecture Deep Dive, Andrew Pomianowski, CVP, Silicon Design Engineering (AMD)
   &lt;/p&gt;
  &lt;/blockquote&gt;
  &lt;p&gt;
   A fundamental tenet of multithreaded programming is that you get no ordering guarantees between threads unless you make it happen via locks or other mechanisms. That&#x27;s what makes multithreaded performance scaling work. AMD&#x27;s slide took me by surprise because there&#x27;s no reason memory reads should be an exception. I re-watched the video several times and stared at the slide for a while to see if that&#x27;s really what they meant. They clearly meant it, but I still didn&#x27;t believe my eyes and ears. So I took time to craft a test for it.
  &lt;/p&gt;
  &lt;h2 class=&quot;header-anchor-post&quot;&gt;
   Testing It
  &lt;/h2&gt;
  &lt;p&gt;
   AMD&#x27;s slide describes a scenario where one wave&#x27;s cache misses prevent another wave from quickly consuming data from cache hits. Causing cache misses is easy. I can pointer chase through a large array with a random pattern (&quot;wave Y&quot;). Similarly, I can keep accesses within a small memory footprint to get cache hits (&quot;wave X&quot;). But doing both at the same time is problematic. Wave Y may evict data used by wave X, causing cache misses on wave X.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!sDwO!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F37cebe98-6193-441d-9614-41ae0bd308f8_1276x716.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!sDwO!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F37cebe98-6193-441d-9614-41ae0bd308f8_1276x716.png 424w, https://substackcdn.com/image/fetch/$s_!sDwO!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F37cebe98-6193-441d-9614-41ae0bd308f8_1276x716.png 848w, https://substackcdn.com/image/fetch/$s_!sDwO!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F37cebe98-6193-441d-9614-41ae0bd308f8_1276x716.png 1272w, https://substackcdn.com/image/fetch/$s_!sDwO!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F37cebe98-6193-441d-9614-41ae0bd308f8_1276x716.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/37cebe98-6193-441d-9614-41ae0bd308f8_1276x716.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:716,&quot;width&quot;:1276,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:184441,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:false,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/159664006?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F37cebe98-6193-441d-9614-41ae0bd308f8_1276x716.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;716&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!sDwO!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F37cebe98-6193-441d-9614-41ae0bd308f8_1276x716.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!sDwO!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F37cebe98-6193-441d-9614-41ae0bd308f8_1276x716.png 424w, https://substackcdn.com/image/fetch/$s_!sDwO!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F37cebe98-6193-441d-9614-41ae0bd308f8_1276x716.png 848w, https://substackcdn.com/image/fetch/$s_!sDwO!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F37cebe98-6193-441d-9614-41ae0bd308f8_1276x716.png 1272w, https://substackcdn.com/image/fetch/$s_!sDwO!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F37cebe98-6193-441d-9614-41ae0bd308f8_1276x716.png 1456w&quot; width=&quot;1276&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
    &lt;figcaption class=&quot;image-caption&quot;&gt;
     Focusing on this scenario, and trying to create a Wave X and Wave Y that might hold each other up
    &lt;/figcaption&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Instead of going for cache hits and misses, I tested by seeing whether waiting on memory accesses in one wave would falsely wait in on memory accesses made by another. My &quot;wave Y&quot; is basically a memory latency test, and makes a fixed number of accesses. Each access depends on the previous one&#x27;s result, and I have the wave pointer chase through a 1 GB array to ensure cache misses. My &quot;wave X&quot; makes four independent memory accesses per loop iteration. It then consumes the load data, which means waiting for data to arrive from memory.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!wrR1!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F019d5043-43b7-4c69-a802-fe11965cf3c6_581x512.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!wrR1!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F019d5043-43b7-4c69-a802-fe11965cf3c6_581x512.png 424w, https://substackcdn.com/image/fetch/$s_!wrR1!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F019d5043-43b7-4c69-a802-fe11965cf3c6_581x512.png 848w, https://substackcdn.com/image/fetch/$s_!wrR1!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F019d5043-43b7-4c69-a802-fe11965cf3c6_581x512.png 1272w, https://substackcdn.com/image/fetch/$s_!wrR1!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F019d5043-43b7-4c69-a802-fe11965cf3c6_581x512.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/019d5043-43b7-4c69-a802-fe11965cf3c6_581x512.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:512,&quot;width&quot;:581,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:33717,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/159664006?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F019d5043-43b7-4c69-a802-fe11965cf3c6_581x512.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;512&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!wrR1!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F019d5043-43b7-4c69-a802-fe11965cf3c6_581x512.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!wrR1!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F019d5043-43b7-4c69-a802-fe11965cf3c6_581x512.png 424w, https://substackcdn.com/image/fetch/$s_!wrR1!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F019d5043-43b7-4c69-a802-fe11965cf3c6_581x512.png 848w, https://substackcdn.com/image/fetch/$s_!wrR1!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F019d5043-43b7-4c69-a802-fe11965cf3c6_581x512.png 1272w, https://substackcdn.com/image/fetch/$s_!wrR1!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F019d5043-43b7-4c69-a802-fe11965cf3c6_581x512.png 1456w&quot; width=&quot;581&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Once wave Y completes all of its accesses, it sets a flag in local memory. Wave X makes as many memory accesses as it can until it sees the flag set, after which it writes out its “score” and terminates. I run both waves in the same workgroup to ensure they share a WGP, and therefore share as much of the memory subsystem as possible. Keeping both waves in the same workgroup also lets me place the “finished” flag in local memory. Wave X has to check that flag every iteration, and it’s best to have flag checks not go through the same caches that wave Y is busy contaminating.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!E-nf!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ffcb15806-3761-403f-b44f-9bcbfb093090_1277x455.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!E-nf!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ffcb15806-3761-403f-b44f-9bcbfb093090_1277x455.png 424w, https://substackcdn.com/image/fetch/$s_!E-nf!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ffcb15806-3761-403f-b44f-9bcbfb093090_1277x455.png 848w, https://substackcdn.com/image/fetch/$s_!E-nf!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ffcb15806-3761-403f-b44f-9bcbfb093090_1277x455.png 1272w, https://substackcdn.com/image/fetch/$s_!E-nf!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ffcb15806-3761-403f-b44f-9bcbfb093090_1277x455.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/fcb15806-3761-403f-b44f-9bcbfb093090_1277x455.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:455,&quot;width&quot;:1277,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:68745,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/159664006?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ffcb15806-3761-403f-b44f-9bcbfb093090_1277x455.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;455&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!E-nf!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ffcb15806-3761-403f-b44f-9bcbfb093090_1277x455.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!E-nf!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ffcb15806-3761-403f-b44f-9bcbfb093090_1277x455.png 424w, https://substackcdn.com/image/fetch/$s_!E-nf!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ffcb15806-3761-403f-b44f-9bcbfb093090_1277x455.png 848w, https://substackcdn.com/image/fetch/$s_!E-nf!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ffcb15806-3761-403f-b44f-9bcbfb093090_1277x455.png 1272w, https://substackcdn.com/image/fetch/$s_!E-nf!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ffcb15806-3761-403f-b44f-9bcbfb093090_1277x455.png 1456w&quot; width=&quot;1277&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   &lt;span&gt;
    If each wave X access gets delayed by a wave Y one, I should see approximately the same number of accesses from both. Instead on RDNA 3, I see wave X make more accesses than wave Y by exactly the loop unroll factor on wave X. AMD&#x27;s compiler statically schedules instructions and sends out all four accesses before waiting on data. It then waits on load completion with
   &lt;/span&gt;
   &lt;code&gt;
    s_waitcnt vmcnt(...)
   &lt;/code&gt;
   &lt;span&gt;
    instructions.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!OYhO!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F55d96b98-8322-49fa-80d4-a11068559b60_658x409.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!OYhO!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F55d96b98-8322-49fa-80d4-a11068559b60_658x409.png 424w, https://substackcdn.com/image/fetch/$s_!OYhO!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F55d96b98-8322-49fa-80d4-a11068559b60_658x409.png 848w, https://substackcdn.com/image/fetch/$s_!OYhO!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F55d96b98-8322-49fa-80d4-a11068559b60_658x409.png 1272w, https://substackcdn.com/image/fetch/$s_!OYhO!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F55d96b98-8322-49fa-80d4-a11068559b60_658x409.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/55d96b98-8322-49fa-80d4-a11068559b60_658x409.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:409,&quot;width&quot;:658,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:42922,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/159664006?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F55d96b98-8322-49fa-80d4-a11068559b60_658x409.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;409&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!OYhO!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F55d96b98-8322-49fa-80d4-a11068559b60_658x409.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!OYhO!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F55d96b98-8322-49fa-80d4-a11068559b60_658x409.png 424w, https://substackcdn.com/image/fetch/$s_!OYhO!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F55d96b98-8322-49fa-80d4-a11068559b60_658x409.png 848w, https://substackcdn.com/image/fetch/$s_!OYhO!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F55d96b98-8322-49fa-80d4-a11068559b60_658x409.png 1272w, https://substackcdn.com/image/fetch/$s_!OYhO!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F55d96b98-8322-49fa-80d4-a11068559b60_658x409.png 1456w&quot; width=&quot;658&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
    &lt;figcaption class=&quot;image-caption&quot;&gt;
     Annotated RDNA 3 assembly generated by AMD&#x27;s compiler for wave X. Note that unrolling the loop to use four memory accesses per iteration lets the compiler issue those four accesses before waiting on them
    &lt;/figcaption&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   &lt;span&gt;
    Accesses tracked by
   &lt;/span&gt;
   &lt;code&gt;
    vmcnt
   &lt;/code&gt;
   &lt;span&gt;
    always return in-order, letting the compiler wait on specific accesses by waiting until
   &lt;/span&gt;
   &lt;code&gt;
    vmcnt
   &lt;/code&gt;
   &lt;span&gt;
    decrements to a certain value or lower. In wave Y, I make all accesses dependent so the compiler only waits for
   &lt;/span&gt;
   &lt;code&gt;
    vmcnt
   &lt;/code&gt;
   &lt;span&gt;
    to reach 0.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!oo4u!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3375a846-7bdf-46b7-b5dc-ec30340c2474_702x333.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!oo4u!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3375a846-7bdf-46b7-b5dc-ec30340c2474_702x333.png 424w, https://substackcdn.com/image/fetch/$s_!oo4u!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3375a846-7bdf-46b7-b5dc-ec30340c2474_702x333.png 848w, https://substackcdn.com/image/fetch/$s_!oo4u!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3375a846-7bdf-46b7-b5dc-ec30340c2474_702x333.png 1272w, https://substackcdn.com/image/fetch/$s_!oo4u!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3375a846-7bdf-46b7-b5dc-ec30340c2474_702x333.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/3375a846-7bdf-46b7-b5dc-ec30340c2474_702x333.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:333,&quot;width&quot;:702,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:42222,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/159664006?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3375a846-7bdf-46b7-b5dc-ec30340c2474_702x333.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;333&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!oo4u!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3375a846-7bdf-46b7-b5dc-ec30340c2474_702x333.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!oo4u!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3375a846-7bdf-46b7-b5dc-ec30340c2474_702x333.png 424w, https://substackcdn.com/image/fetch/$s_!oo4u!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3375a846-7bdf-46b7-b5dc-ec30340c2474_702x333.png 848w, https://substackcdn.com/image/fetch/$s_!oo4u!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3375a846-7bdf-46b7-b5dc-ec30340c2474_702x333.png 1272w, https://substackcdn.com/image/fetch/$s_!oo4u!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3375a846-7bdf-46b7-b5dc-ec30340c2474_702x333.png 1456w&quot; width=&quot;702&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
    &lt;figcaption class=&quot;image-caption&quot;&gt;
     Annotated RDNA 3 assembly for wave y, for completeness
    &lt;/figcaption&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   &lt;span&gt;
    On RDNA 3,
   &lt;/span&gt;
   &lt;code&gt;
    s_waitcnt vmcnt(...)
   &lt;/code&gt;
   &lt;span&gt;
    seems to wait for requests to complete not only from its wave, but from other waves too. That explains why wave X makes exactly four accesses for each access that wave Y makes. If I unroll the loop more, letting the compiler schedule more independent accesses before waiting, the ratio goes up to match the unroll factor.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!DO_C!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F516be48c-a8d4-4a4b-8e50-ada8be8ae551_611x310.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!DO_C!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F516be48c-a8d4-4a4b-8e50-ada8be8ae551_611x310.png 424w, https://substackcdn.com/image/fetch/$s_!DO_C!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F516be48c-a8d4-4a4b-8e50-ada8be8ae551_611x310.png 848w, https://substackcdn.com/image/fetch/$s_!DO_C!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F516be48c-a8d4-4a4b-8e50-ada8be8ae551_611x310.png 1272w, https://substackcdn.com/image/fetch/$s_!DO_C!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F516be48c-a8d4-4a4b-8e50-ada8be8ae551_611x310.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/516be48c-a8d4-4a4b-8e50-ada8be8ae551_611x310.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:310,&quot;width&quot;:611,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:11814,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/159664006?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F516be48c-a8d4-4a4b-8e50-ada8be8ae551_611x310.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;310&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!DO_C!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F516be48c-a8d4-4a4b-8e50-ada8be8ae551_611x310.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!DO_C!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F516be48c-a8d4-4a4b-8e50-ada8be8ae551_611x310.png 424w, https://substackcdn.com/image/fetch/$s_!DO_C!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F516be48c-a8d4-4a4b-8e50-ada8be8ae551_611x310.png 848w, https://substackcdn.com/image/fetch/$s_!DO_C!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F516be48c-a8d4-4a4b-8e50-ada8be8ae551_611x310.png 1272w, https://substackcdn.com/image/fetch/$s_!DO_C!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F516be48c-a8d4-4a4b-8e50-ada8be8ae551_611x310.png 1456w&quot; width=&quot;611&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   On RDNA 4, the two waves don’t care what the other is doing. That’s the way it should be. RDNA 4 also displays more run-to-run variation, which is also expected because cache behavior is highly unpredictable in this test. I’m surprised by the results, but it’s convincing evidence that AMD indeed had false cross-wave memory delays on RDNA 3 and older GPU architectures. I also tested on Renoir’s Vega iGPU, and saw the same behavior as RDNA 3.
  &lt;/p&gt;
  &lt;blockquote&gt;
   &lt;p&gt;
    At a simplistic level, you can imagine that requests from the shaders go into a queue to be serviced, and many of those requests can be in flight
   &lt;/p&gt;
   &lt;p&gt;
    Navi 4 Architecture Deep Dive, Andrew Pomianowski, CVP, Silicon Design Engineering (AMD)
   &lt;/p&gt;
  &lt;/blockquote&gt;
  &lt;p&gt;
   &lt;span&gt;
    AMD&#x27;s presentation hints that RDNA 3 and older GPUs had multiple waves sharing a memory access queue. As mentioned above, AMD GPUs since GCN handle memory dependencies with hardware counters that software waits on. By keeping
   &lt;/span&gt;
   &lt;code&gt;
    vmcnt
   &lt;/code&gt;
   &lt;span&gt;
    returns in-order, the compiler can wait on the specific load that produces data needed by the next instruction, without also waiting on every other load the wave has pending. RDNA 3 and prior AMD GPUs possibly had a shared memory access queue, with each entry tagged with its wave&#x27;s ID. As each memory access leaves the queue in-order, hardware decrements the counter for its wave.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   Perhaps RDNA 4 divides the shared queue into per-thread queues. That would align with the point on AMD&#x27;s slide saying RDNA 4 introduces &quot;additional out-of-order queues&quot; for memory requests. Or perhaps RDNA 4 retains a shared queue, but can drain entries out-of-order. That would require tracking extra info, like whether a memory access is the oldest one for its wave.
  &lt;/p&gt;
  &lt;h3 class=&quot;header-anchor-post&quot;&gt;
   Does it Happen to Others?
  &lt;/h3&gt;
  &lt;p&gt;
   Sharing a memory access queue and returning data in-order seems like a natural hardware simplification. That raises the question of whether GPU architectures from Intel and Nvidia had similar limitations.
  &lt;/p&gt;
  &lt;p&gt;
   Intel&#x27;s Xe-LPG does not have false cross-wave memory dependencies. Running the same test on Meteor Lake&#x27;s iGPU shows variation depending on where the two waves end up. If wave X and wave Y run on XVEs with shared instruction control logic, wave X&#x27;s performance is lower than in other cases. Regardless, it&#x27;s clear Xe-LPG doesn&#x27;t force a wave to wait on another&#x27;s accesses. Intel&#x27;s subsequent Battlemage (Xe2) architecture shows similar behavior, and the same applies to Intel&#x27;s Gen 9 (Skylake) graphics from a while ago.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!boz-!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe8a002f4-5a21-41f5-a10a-387df953cdee_734x284.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!boz-!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe8a002f4-5a21-41f5-a10a-387df953cdee_734x284.png 424w, https://substackcdn.com/image/fetch/$s_!boz-!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe8a002f4-5a21-41f5-a10a-387df953cdee_734x284.png 848w, https://substackcdn.com/image/fetch/$s_!boz-!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe8a002f4-5a21-41f5-a10a-387df953cdee_734x284.png 1272w, https://substackcdn.com/image/fetch/$s_!boz-!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe8a002f4-5a21-41f5-a10a-387df953cdee_734x284.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/e8a002f4-5a21-41f5-a10a-387df953cdee_734x284.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:284,&quot;width&quot;:734,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:8567,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/159664006?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe8a002f4-5a21-41f5-a10a-387df953cdee_734x284.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;284&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!boz-!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe8a002f4-5a21-41f5-a10a-387df953cdee_734x284.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!boz-!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe8a002f4-5a21-41f5-a10a-387df953cdee_734x284.png 424w, https://substackcdn.com/image/fetch/$s_!boz-!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe8a002f4-5a21-41f5-a10a-387df953cdee_734x284.png 848w, https://substackcdn.com/image/fetch/$s_!boz-!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe8a002f4-5a21-41f5-a10a-387df953cdee_734x284.png 1272w, https://substackcdn.com/image/fetch/$s_!boz-!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe8a002f4-5a21-41f5-a10a-387df953cdee_734x284.png 1456w&quot; width=&quot;734&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   I also checked generated assembly to ensure Intel&#x27;s compiler wasn&#x27;t unrolling the loop further.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!lr4C!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F08af80c4-bb02-4846-b487-7cf0c83bd4fc_1798x764.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!lr4C!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F08af80c4-bb02-4846-b487-7cf0c83bd4fc_1798x764.png 424w, https://substackcdn.com/image/fetch/$s_!lr4C!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F08af80c4-bb02-4846-b487-7cf0c83bd4fc_1798x764.png 848w, https://substackcdn.com/image/fetch/$s_!lr4C!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F08af80c4-bb02-4846-b487-7cf0c83bd4fc_1798x764.png 1272w, https://substackcdn.com/image/fetch/$s_!lr4C!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F08af80c4-bb02-4846-b487-7cf0c83bd4fc_1798x764.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/08af80c4-bb02-4846-b487-7cf0c83bd4fc_1798x764.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:619,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:231765,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/159664006?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F08af80c4-bb02-4846-b487-7cf0c83bd4fc_1798x764.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;619&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!lr4C!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F08af80c4-bb02-4846-b487-7cf0c83bd4fc_1798x764.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!lr4C!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F08af80c4-bb02-4846-b487-7cf0c83bd4fc_1798x764.png 424w, https://substackcdn.com/image/fetch/$s_!lr4C!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F08af80c4-bb02-4846-b487-7cf0c83bd4fc_1798x764.png 848w, https://substackcdn.com/image/fetch/$s_!lr4C!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F08af80c4-bb02-4846-b487-7cf0c83bd4fc_1798x764.png 1272w, https://substackcdn.com/image/fetch/$s_!lr4C!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F08af80c4-bb02-4846-b487-7cf0c83bd4fc_1798x764.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
    &lt;figcaption class=&quot;image-caption&quot;&gt;
     Generated assembly on Meteor Lake&#x27;s iGPU for Wave X. UGM = untyped global memory, SLM = shared local memory. The rest is trivial, just remember that Intel GPUs have registers that are full of registers...never mind
    &lt;/figcaption&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Nvidia&#x27;s Pascal has varying behavior depending on where waves are located within a SM. Each Pascal SM has four partitions, which are arranged in pairs that share a texture unit and a 24 KB texture cache. Waves are assigned to partitions within a pair first. It&#x27;s as if the partitions are numbered [0,1]-&amp;gt; tex, [2,3]-&amp;gt; tex. Waves in the same sub-partition pair have the false dependency issue. Evidently they share some general load/store logic besides the texture unit, because I don&#x27;t touch textures in this test.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!huR1!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F55fe64cb-268f-44a6-8372-c3887ad270e2_776x398.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!huR1!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F55fe64cb-268f-44a6-8372-c3887ad270e2_776x398.png 424w, https://substackcdn.com/image/fetch/$s_!huR1!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F55fe64cb-268f-44a6-8372-c3887ad270e2_776x398.png 848w, https://substackcdn.com/image/fetch/$s_!huR1!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F55fe64cb-268f-44a6-8372-c3887ad270e2_776x398.png 1272w, https://substackcdn.com/image/fetch/$s_!huR1!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F55fe64cb-268f-44a6-8372-c3887ad270e2_776x398.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/55fe64cb-268f-44a6-8372-c3887ad270e2_776x398.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:398,&quot;width&quot;:776,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:13894,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/159664006?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F55fe64cb-268f-44a6-8372-c3887ad270e2_776x398.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;398&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!huR1!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F55fe64cb-268f-44a6-8372-c3887ad270e2_776x398.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!huR1!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F55fe64cb-268f-44a6-8372-c3887ad270e2_776x398.png 424w, https://substackcdn.com/image/fetch/$s_!huR1!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F55fe64cb-268f-44a6-8372-c3887ad270e2_776x398.png 848w, https://substackcdn.com/image/fetch/$s_!huR1!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F55fe64cb-268f-44a6-8372-c3887ad270e2_776x398.png 1272w, https://substackcdn.com/image/fetch/$s_!huR1!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F55fe64cb-268f-44a6-8372-c3887ad270e2_776x398.png 1456w&quot; width=&quot;776&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   If a wave is not offset from another one by a multiple of four or multiple of 4 plus one, it doesn&#x27;t have the false dependency problem. Turing, as tested on the GTX 1660 Ti, doesn&#x27;t have a problem either.
  &lt;/p&gt;
  &lt;h1 class=&quot;header-anchor-post&quot;&gt;
   Better Nonblocking Loads
  &lt;/h1&gt;
  &lt;p&gt;
   Besides removing false cross-wave delays, AMD also improved memory request handling within a wave. Much like in-order CPU cores, like Arm&#x27;s Cortex A510, GPUs can execute independent instructions while waiting on memory access. A thread only stalls when it tries to use the memory access&#x27;s result. GPUs have done this for decades, though the implementation details differ. Intel and Nvidia&#x27;s GPUs use a software managed scoreboard. AMD used pending request counters from GCN onward.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!zQvp!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff5e25433-5766-49eb-b0e5-307e66907161_677x554.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!zQvp!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff5e25433-5766-49eb-b0e5-307e66907161_677x554.png 424w, https://substackcdn.com/image/fetch/$s_!zQvp!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff5e25433-5766-49eb-b0e5-307e66907161_677x554.png 848w, https://substackcdn.com/image/fetch/$s_!zQvp!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff5e25433-5766-49eb-b0e5-307e66907161_677x554.png 1272w, https://substackcdn.com/image/fetch/$s_!zQvp!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff5e25433-5766-49eb-b0e5-307e66907161_677x554.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/f5e25433-5766-49eb-b0e5-307e66907161_677x554.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:554,&quot;width&quot;:677,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:60920,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/159664006?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff5e25433-5766-49eb-b0e5-307e66907161_677x554.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;554&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!zQvp!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff5e25433-5766-49eb-b0e5-307e66907161_677x554.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!zQvp!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff5e25433-5766-49eb-b0e5-307e66907161_677x554.png 424w, https://substackcdn.com/image/fetch/$s_!zQvp!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff5e25433-5766-49eb-b0e5-307e66907161_677x554.png 848w, https://substackcdn.com/image/fetch/$s_!zQvp!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff5e25433-5766-49eb-b0e5-307e66907161_677x554.png 1272w, https://substackcdn.com/image/fetch/$s_!zQvp!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff5e25433-5766-49eb-b0e5-307e66907161_677x554.png 1456w&quot; width=&quot;677&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   &lt;span&gt;
    RDNA 4 uses the same scheme but splits out the
   &lt;/span&gt;
   &lt;code&gt;
    vmcnt
   &lt;/code&gt;
   &lt;span&gt;
    category into several counters. A thread can interleave global memory, texture sampling, and raytracing intersection test requests, and wait on them separately. That gives the compiler more flexibility to move work ahead of a wait for memory access completion. Another interpretation of AMD&#x27;s slide is that the each counter corresponds to a separate queue, each of which has out-of-order behavior across waves (but may have in-order behavior within a wave).
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!GRWz!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F286f48de-b6b1-49ae-89af-13b71be3bb2f_1151x469.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!GRWz!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F286f48de-b6b1-49ae-89af-13b71be3bb2f_1151x469.png 424w, https://substackcdn.com/image/fetch/$s_!GRWz!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F286f48de-b6b1-49ae-89af-13b71be3bb2f_1151x469.png 848w, https://substackcdn.com/image/fetch/$s_!GRWz!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F286f48de-b6b1-49ae-89af-13b71be3bb2f_1151x469.png 1272w, https://substackcdn.com/image/fetch/$s_!GRWz!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F286f48de-b6b1-49ae-89af-13b71be3bb2f_1151x469.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/286f48de-b6b1-49ae-89af-13b71be3bb2f_1151x469.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:469,&quot;width&quot;:1151,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:50191,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/159664006?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F286f48de-b6b1-49ae-89af-13b71be3bb2f_1151x469.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;469&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!GRWz!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F286f48de-b6b1-49ae-89af-13b71be3bb2f_1151x469.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!GRWz!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F286f48de-b6b1-49ae-89af-13b71be3bb2f_1151x469.png 424w, https://substackcdn.com/image/fetch/$s_!GRWz!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F286f48de-b6b1-49ae-89af-13b71be3bb2f_1151x469.png 848w, https://substackcdn.com/image/fetch/$s_!GRWz!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F286f48de-b6b1-49ae-89af-13b71be3bb2f_1151x469.png 1272w, https://substackcdn.com/image/fetch/$s_!GRWz!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F286f48de-b6b1-49ae-89af-13b71be3bb2f_1151x469.png 1456w&quot; width=&quot;1151&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
    &lt;figcaption class=&quot;image-caption&quot;&gt;
     Example of RDNA 4 assembly from 3DMark&#x27;s raytracing feature test, showing a basic block separately waiting on global memory loads and texture sampling requests issued by other basic blocks
    &lt;/figcaption&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   &lt;span&gt;
    Similarly,
   &lt;/span&gt;
   &lt;code&gt;
    lgkmcnt
   &lt;/code&gt;
   &lt;span&gt;
    gets separated into
   &lt;/span&gt;
   &lt;code&gt;
    kmcnt
   &lt;/code&gt;
   &lt;span&gt;
    for scalar memory loads and
   &lt;/span&gt;
   &lt;code&gt;
    dscnt
   &lt;/code&gt;
   &lt;span&gt;
    for LDS accesses. Scalar memory loads are out-of-order, which means the compiler must wait for all scalar memory loads to complete (
   &lt;/span&gt;
   &lt;code&gt;
    kmcnt=0
   &lt;/code&gt;
   &lt;span&gt;
    or
   &lt;/span&gt;
   &lt;code&gt;
    lgmkcnt=0
   &lt;/code&gt;
   &lt;span&gt;
    ) before using results from any pending scalar memory load. On RDNA 4, the compiler can interleave scalar memory and LDS accesses without having to wait for
   &lt;/span&gt;
   &lt;code&gt;
    lgkmcnt=0
   &lt;/code&gt;
   &lt;span&gt;
    .
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   Intel and Nvidia&#x27;s GPUs use software managed scoreboards. A scoreboard entry can be set or and waited on by any instruction, regardless of memory access type. Therefore RDNA 4&#x27;s optimization isn&#x27;t applicable to those other GPU architectures. A cost to Intel/Nvidia&#x27;s approach is that utilizing a big memory request queue would require a correspondingly large scoreboard. AMD can extend a counter by one bit and double the number of queue entries a wave can use.
  &lt;/p&gt;
  &lt;h1 class=&quot;header-anchor-post&quot;&gt;
   Final Words
  &lt;/h1&gt;
  &lt;p&gt;
   RDNA 4&#x27;s memory subsystem enhancements are exciting and improve performance across a variety of workloads compared to RDNA 3. AMD specifically calls out benefits in raytracing workloads, where traversal and result handling may occur simultaneously on the same WGP. Traversal involves pointer chasing, while result handling might involve more cache friendly data lookups and texture sampling. Breaking cross-wave memory dependencies would prevent different memory access patterns in those tasks from delaying each other.
  &lt;/p&gt;
  &lt;p&gt;
   Likely this wasn&#x27;t an issue with rasterization because waves assigned to a WGP probably work on pixels in close proximity. Those waves may sample the same textures, and even take samples in close proximity to each other within the same texture. If one wave misses in cache, the others likely do too.
  &lt;/p&gt;
  &lt;p&gt;
   &lt;span&gt;
    Breaking up
   &lt;/span&gt;
   &lt;code&gt;
    vmcnt
   &lt;/code&gt;
   &lt;span&gt;
    and
   &lt;/span&gt;
   &lt;code&gt;
    lgmkcnt
   &lt;/code&gt;
   &lt;span&gt;
    probably helps raytracing too. Raytracing shaders make BVH intersection and LDS stack management requests during traversal. Then they might sample textures or access global memory buffers during result handling. Giving the compiler flexibility to interleave those request types and still wait on a specific request is a good thing.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!I-Kg!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fef664cd8-175d-4819-9870-42967d928aef_8280x5512.jpeg&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!I-Kg!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fef664cd8-175d-4819-9870-42967d928aef_8280x5512.jpeg 424w, https://substackcdn.com/image/fetch/$s_!I-Kg!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fef664cd8-175d-4819-9870-42967d928aef_8280x5512.jpeg 848w, https://substackcdn.com/image/fetch/$s_!I-Kg!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fef664cd8-175d-4819-9870-42967d928aef_8280x5512.jpeg 1272w, https://substackcdn.com/image/fetch/$s_!I-Kg!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fef664cd8-175d-4819-9870-42967d928aef_8280x5512.jpeg 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/ef664cd8-175d-4819-9870-42967d928aef_8280x5512.jpeg&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:969,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:8099343,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/jpeg&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/159664006?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fef664cd8-175d-4819-9870-42967d928aef_8280x5512.jpeg&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;969&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!I-Kg!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fef664cd8-175d-4819-9870-42967d928aef_8280x5512.jpeg&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!I-Kg!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fef664cd8-175d-4819-9870-42967d928aef_8280x5512.jpeg 424w, https://substackcdn.com/image/fetch/$s_!I-Kg!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fef664cd8-175d-4819-9870-42967d928aef_8280x5512.jpeg 848w, https://substackcdn.com/image/fetch/$s_!I-Kg!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fef664cd8-175d-4819-9870-42967d928aef_8280x5512.jpeg 1272w, https://substackcdn.com/image/fetch/$s_!I-Kg!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fef664cd8-175d-4819-9870-42967d928aef_8280x5512.jpeg 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
    &lt;figcaption class=&quot;image-caption&quot;&gt;
     Radeon logo on the RX 9070 graciously provided by AMD for review
    &lt;/figcaption&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   But RDNA 4&#x27;s scheme for handling memory dependencies isn&#x27;t fundamentally different from that of GCN many years ago. While the implementation details differ, RDNA 4, GCN, and Intel and Nvidia&#x27;s GPUs can all absorb cache misses without immediately stalling a thread. Each GPU maker has improved their ability to do so, whether it&#x27;s with more scoreboard tokens or more counters. RDNA 4 indeed can do Cortex A510 style nonblocking loads, but it&#x27;s far from a new feature in the world of GPUs.
  &lt;/p&gt;
  &lt;p&gt;
   Resolving false cross-wave dependencies isn&#x27;t new either. Nvidia had &quot;out-of-order&quot; cross-wave memory access handling in Turing, and presumably their newer architectures too. Intel had the same at least as far back as Gen 9 (Skylake) graphics. Therefore RDNA 4&#x27;s &quot;out-of-order&quot; memory subsystem enhancements are best seen as generational tweaks, rather than new game changing techniques.
  &lt;/p&gt;
  &lt;p&gt;
   Still, AMD&#x27;s engineers deserve credit for making them happen. RDNA 4’s  arguably makes the most significant change to AMD’s GPU memory subsystem since RDNA launched in 2019. I&#x27;m glad to see the company continue to improve their GPU architecture and make it better suited to emerging workloads like raytracing.
  &lt;/p&gt;
 &lt;/div&gt;
&lt;/div&gt;

</description>
</item>
<item>
<title> An Interview with Oxide&#x27;s Bryan Cantrill </title>
<link>https://chipsandcheese.com/p/an-interview-with-oxides-bryan-cantrill</link>
<pubDate>Sat, 05 Jul 2025 22:19:05 -0000</pubDate>
<description>
&lt;div class=&quot;available-content&quot;&gt;
 &lt;div class=&quot;body markup&quot; dir=&quot;auto&quot;&gt;
  &lt;p&gt;
   Hello you fine Internet folks,
  &lt;/p&gt;
  &lt;p&gt;
   &lt;span&gt;
    Today we have an interview with Bryan Cantrill from
   &lt;/span&gt;
   &lt;a href=&quot;https://oxide.computer/&quot; rel=&quot;&quot;&gt;
    Oxide Computer Company
   &lt;/a&gt;
   &lt;span&gt;
    .
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   Cloud computing has been a tour de force in the computing industry, with many businesses and even governments moving over to cloud services for their computing infrastructure. This gives these companies and governments near complete isolation from any hardware issues that may crop up due to the sheer size of many cloud providers, which allows them to automatically migrate VMs to other systems while the hardware issue is being resolved. But not everything can or even should be moved to the cloud, for various reasons such as compliance reasons, cost, etc. This means that some folks may have to stick with on-premises compute, but the cloud model of automatic migration in the case of hardware failure is still relevant and this is where Oxide fits in.
  &lt;/p&gt;
  &lt;p&gt;
   What Oxide is building is effectively an on-premises cloud. To start with, Oxide’s philosophy is to treat a rack of servers in the same way as a hyperscaler (AWS, GCP, Azure, etc) does. So, instead of directly accessing a single node in a server and running your workload, you start up a VM in the Oxide control panel just like in AWS or Azure. This allows for automatic fail-over of VMs in the event of a hardware failure. Now, in order to facilitate this cloud-like behavior, Oxide is building their own racks, which resemble a rack that you may be able to find in a hyperscaler’s datacenter. I had the chance to interview their CTO, Bryan Cantrill, while I was in the Bay Area this past week to ask about their hardware and what they are doing.
  &lt;/p&gt;
  &lt;p&gt;
   Hope y&#x27;all enjoy!
  &lt;/p&gt;
  &lt;div class=&quot;youtube-wrap&quot; data-attrs=&#x27;{&quot;videoId&quot;:&quot;5-nOIlrUqMM&quot;,&quot;startTime&quot;:null,&quot;endTime&quot;:null}&#x27; data-component-name=&quot;Youtube2ToDOM&quot; id=&quot;youtube2-5-nOIlrUqMM&quot;&gt;
   &lt;div class=&quot;youtube-inner&quot;&gt;
   &lt;/div&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Transcript below has been edited for conciseness and readability.
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    GEORGE:
   &lt;/strong&gt;
   &lt;span&gt;
    Hello you fine internet folks! Today, we&#x27;re here at Oxide Computer Company, and I have with me, Bryan.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    BRYAN:
   &lt;/strong&gt;
   &lt;span&gt;
    Heya!
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    GEORGE:
   &lt;/strong&gt;
   &lt;span&gt;
    Who are you, and what do you do at Oxide?
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    BRYAN:
   &lt;/strong&gt;
   &lt;span&gt;
    Hi, I&#x27;m Bryan Cantrill, I&#x27;m the CTO at Oxide Computer Company, we&#x27;re here at our office in Emeryville- our office and lab, kind of our playhouse here in Emeryville.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   We&#x27;re a computer company! We&#x27;re a modern computer company, we are a rack-scale computer company.
  &lt;/p&gt;
  &lt;p&gt;
   So, this is the Oxide rack behind you, and what we have done- our observation was, if you look at those folks deploying compute at scale- Amazon, Google... hyperscalers right? They&#x27;ve all built their own computers. And we were (I along with my cofounder) were at a public cloud company, Joyent, that was purchased by Samsung-
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    GEORGE:
   &lt;/strong&gt;
   &lt;span&gt;
    Interesting!
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    BRYAN:
   &lt;/strong&gt;
   &lt;span&gt;
    It was interesting! And, we were... after Samsung bought the company, they were really trying to deploy at Samsung-scale. And we were deployed on commodity gear; we were deployed on Dell, Supermicro, some HP, some Arista... and uh...
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    GEORGE:
   &lt;/strong&gt;
   &lt;span&gt;
    Trying to match all that stuff can be very difficult.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    BRYAN:
   &lt;/strong&gt;
   &lt;span&gt;
    When we hit scale, everything broke.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    GEORGE:
   &lt;/strong&gt;
   &lt;span&gt;
    I can imagine.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    BRYAN:
   &lt;/strong&gt;
   &lt;span&gt;
    And, to be fair, everything broke in hardware and software, but the difference is, with the software, we could actually go fix it. And we fixed a bunch of our software systems, but then the problems you&#x27;re left with are those problems, that are at the hardware/software boundary. And... it was pretty frustrating, and you look at like, &quot;how did these other folks do it?&quot; And you realize, they&#x27;ve done their own machines.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    GEORGE:
   &lt;/strong&gt;
   &lt;span&gt;
    So, what makes... (if you wanna show to the audience) one of these?
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    BRYAN:
   &lt;/strong&gt;
   &lt;span&gt;
    Right! So this is an Oxide sled, and this doesn&#x27;t look like a normal server computer, right?
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    GEORGE:
   &lt;/strong&gt;
   &lt;span&gt;
    No, no it doesn&#x27;t. It looks like a blade.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    BRYAN:
   &lt;/strong&gt;
   &lt;span&gt;
    It looks like a blade, right. And actually, if you look at the back... it even looks more like a blade. Lemme take off the Kapton tape there... It blind mates in the power first of all, we - like everybody running at scale - we run a DC bus bar, up and down the rack. So you&#x27;ve got an actual power shelf, that contains [bridge] rectifiers, those rectifiers then take you from AC to DC, you run DC on the bus bar,
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    GEORGE:
   &lt;/strong&gt;
   &lt;span&gt;
    DC 48v?
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    BRYAN:
   &lt;/strong&gt;
   &lt;span&gt;
    Uh, yeah, 54v. That is the way that everybody at scale runs, with a DC bus bar.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   ... you can&#x27;t buy a DC bus bar based machine, DC bus bar-based rack, from Dell, HP, Supermicro! And they&#x27;ll tell you nobody wants it.
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    GEORGE:
   &lt;/strong&gt;
   &lt;span&gt;
    [Sounds of incredulity] Hmmm...
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    BRYAN:
   &lt;/strong&gt;
   &lt;span&gt;
    Right, exactly!
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    GEORGE:
   &lt;/strong&gt;
   &lt;span&gt;
    The fact that this exists tells me otherwise!
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    BRYAN:
   &lt;/strong&gt;
   &lt;span&gt;
    Exactly, it definitely does, and one of the things I&#x27;ve appreciated... we&#x27;ve kind of accreted the server architectures that we have.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   This traditional [server] architecture has accreted over time, and until we took a clean sheet of paper, you really don&#x27;t appreciate just how many things are broken with it! One of the things you commented on, is the noise; it&#x27;s so much quieter.
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    GEORGE:
   &lt;/strong&gt;
   &lt;span&gt;
    Yeah, and, it&#x27;s off-camera right here, but there&#x27;s one rack running right now over to my right side... you can hear it, but it&#x27;s not a tinny noise. It&#x27;s a very... almost sort of wind-blowing noise. Which is exactly what it is.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    BRYAN:
   &lt;/strong&gt;
   &lt;span&gt;
    Right, and you know what&#x27;s funny? We didn&#x27;t design this thing to be acoustically pleasant, ...
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    GEORGE:
   &lt;/strong&gt;
   &lt;span&gt;
    It just turned out like that?
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    BRYAN:
   &lt;/strong&gt;
   &lt;span&gt;
    It just turned out like that. And one of the things you&#x27;ll appreciate is, when you look at the acoustic unpleasantness in a traditional server... yes, you&#x27;ve got a bunch that&#x27;s coming from those small fans at the back; a bunch of it is
   &lt;/span&gt;
   &lt;em&gt;
    also
   &lt;/em&gt;
   &lt;span&gt;
    coming from those fans on the power supplies. Because you&#x27;ve got those AC power supplies...
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    GEORGE:
   &lt;/strong&gt;
   &lt;span&gt;
    And it&#x27;s all like, 40mm fans.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    BRYAN:
   &lt;/strong&gt;
   &lt;span&gt;
    Those are *tiny* fans, and, those AC power supplies, you take them apart... they&#x27;re crammed. So there&#x27;s a high static pressure that [the fans] have to overcome; those fans are workin&#x27; hard! And it&#x27;s hot. And of course, that fan is a thing that blows on AC power supplies, so you have two of them. So now we&#x27;ve got two AC power supplies, in every one of these servers, all these power cords... and it&#x27;s just like, the whole thing is a mess.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   And... that&#x27;s just the beginning; the DC bus bar is to me just the beginning.
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    GEORGE:
   &lt;/strong&gt;
   &lt;span&gt;
    So, speaking of... well, you say basic- the way a computer is booted, is you usually start with what&#x27;s known as a Basic Input Output System, the BIOS,
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    BRYAN:
   &lt;/strong&gt;
   &lt;span&gt;
    The BIOS... yeah.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    GEORGE:
   &lt;/strong&gt;
   &lt;span&gt;
    Now, in the early 2000s, this was replaced by UEFI,
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    BRYAN:
   &lt;/strong&gt;
   &lt;span&gt;
    UEFI, yes, Itanium&#x27;s gift to the world!
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    GEORGE:
   &lt;/strong&gt;
   &lt;span&gt;
    Yeah, and while that works perfectly well for your average laptop or desktop, when you get to this scale,
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    BRYAN:
   &lt;/strong&gt;
   &lt;span&gt;
    It doesn&#x27;t make sense.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    GEORGE:
   &lt;/strong&gt;
   &lt;span&gt;
    Why is that?
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    BRYAN:
   &lt;/strong&gt;
   &lt;span&gt;
    Because it&#x27;s giving you this kind of optionality you actually don&#x27;t want. When you have something of this scale - and we have co-designed our host operating system with our hardware - you don&#x27;t need that optionality, of booting kind of... I don&#x27;t need to boot DOS on this thing!
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    GEORGE:
   &lt;/strong&gt;
   &lt;span&gt;
    [Laughing] You don&#x27;t want DOS on these machines?!
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    BRYAN:
   &lt;/strong&gt;
   &lt;span&gt;
    Okay, that would be kind of entertaining, but... we actually don&#x27;t need any of that. But we have preserved all of this kind of ancient optionality in the BIOS. A big problem that we have with the BIOS, is that the BIOS has to boot the system in order to boot the system.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   So one of the things the BIOS has to do... it needs to find like, how do I boot this thing? I need to actually do I/O, to pull a boot image off of somewhere. I/O, as we know, everything&#x27;s complicated... you can&#x27;t just like &quot;do I/O&quot;, like, we actually have to bring up PCIE engines, you have to bring up all the CPUs... so you&#x27;re doing all this work to boot the system, and then you find the image you want to boot, and now you have to be like, &quot;okay, now we have to pretend like we were never here&quot;.
  &lt;/p&gt;
  &lt;p&gt;
   &lt;span&gt;
    So it then tries to- we call it &quot;setting the machine backward&quot;, where it makes the machine *
   &lt;/span&gt;
   &lt;em&gt;
    look like
   &lt;/em&gt;
   &lt;span&gt;
    * it has not been booted, when it executes that first operating system instruction. But in reality an *
   &lt;/span&gt;
   &lt;em&gt;
    entire city
   &lt;/em&gt;
   &lt;span&gt;
    * has been constructed, and ploughed under; and the operating system can actually see the artifacts of that over time. There&#x27;s something called System Management Mode, SMM…
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    GEORGE:
   &lt;/strong&gt;
   &lt;span&gt;
    [Laughing] Ahhh yes, what some people refer to as &quot;ring -2&quot; if I remember correctly?
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    BRYAN:
   &lt;/strong&gt;
   &lt;span&gt;
    That&#x27;s right, ring -2, and that kind of platform initialization layer, can stuff whatever it wants in SMM.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    GEORGE:
   &lt;/strong&gt;
   &lt;span&gt;
    I still find it hilarious - I think it was HP? - tried putting like a day-calendar in the SMM, which is like... why are you doing this?! [Laughing]
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    BRYAN:
   &lt;/strong&gt;
   &lt;span&gt;
    They&#x27;re doing it, because they wanted to add value to their hardware, without controlling the system software.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   So the way to do that, is to jam that software into the system software they do control, which is SMM, but from the perspective of actually running this thing as a server, that&#x27;s just a problem for me. I don&#x27;t want to have ring -2. So for us, SMM is empty. Because the other thing is... why do you end up in SMM? For any reason! If you look at the architecture manual, it can go into SMM for any reason, can stay there for any length of time... it&#x27;s unspecified, that you have to wait.
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    GEORGE:
   &lt;/strong&gt;
   &lt;span&gt;
    So, how do you solve this?
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    BRYAN:
   &lt;/strong&gt;
   &lt;span&gt;
    So for us, we do have something in SMM mode: if you ever hit SMM mode, we panic the system. Because, under no condition should we enter SMM. So if we entered SMM mode, we bring the system down and take a crash dump.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   That would be pretty wild, if we ever saw that happen, right? Because it would mean that... but we have not seen that happen, and we wanted to do that to make sure, if something were to errantly enter System Management Mode.
  &lt;/p&gt;
  &lt;p&gt;
   But we didn&#x27;t use System Management Mode at all, we also didn&#x27;t want to have a BIOS at all.
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    GEORGE:
   &lt;/strong&gt;
   &lt;span&gt;
    Yep, so how are you getting around that?
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    BRYAN:
   &lt;/strong&gt;
   &lt;span&gt;
    Yeah, so that was tough, and in fact, this is something that we didn&#x27;t really appreciate at the time... AMD didn&#x27;t think we could pull this off, apparently Google tried this and failed. And if Google has tried something and failed it must be impossible for humanity?!
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    GEORGE:
   &lt;/strong&gt;
   &lt;span&gt;
    [Laughing] Well, oftentimes what they do is succeed and then claim that they failed, and then just, cancel the product.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    BRYAN:
   &lt;/strong&gt;
   &lt;span&gt;
    [Laughing] That&#x27;s right, and it was tough, and it required us to work very closely with AMD. I think that AMD didn&#x27;t really believe that we could pull it off,
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    GEORGE:
   &lt;/strong&gt;
   &lt;span&gt;
    It&#x27;s... I wouldn&#x27;t even say it&#x27;s not a trivial- it&#x27;s a very complicated problem.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    BRYAN:
   &lt;/strong&gt;
   &lt;span&gt;
    It is, because you are doing that *lowest* layer of platform initialization.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    GEORGE:
   &lt;/strong&gt;
   &lt;span&gt;
    And that platform initialization, people forget, is like, [AMD] memory training, bringing up the PCIE,
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    BRYAN:
   &lt;/strong&gt;
   &lt;span&gt;
    That&#x27;s right.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    GEORGE:
   &lt;/strong&gt;
   &lt;span&gt;
    And, remember, what&#x27;s bringing up the system? Well, oftentimes, like if you try and access a BMC, that BMC is on a PCIE bus, it has to be brought up and initialized, so there&#x27;s a lot of complex problems with the BMC,
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    BRYAN:
   &lt;/strong&gt;
   &lt;span&gt;
    Speaking of the BMC, we also threw that into the sea!
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   So the BMC - Baseboard Management Controller - the computer-within-the-computer... we felt that the BMC had grown far too large, far too complicated. BMC should not be on PCIE, from our perspective. What you actually want is environmentals; you want power control, it needs to be on its own network, ... and that&#x27;s basically it. Its job is really to hand the host CPU its cup of coffee.
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    GEORGE:
   &lt;/strong&gt;
   &lt;span&gt;
    I wish I had someone that hands me my cup of coffee!
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    BRYAN:
   &lt;/strong&gt;
   &lt;span&gt;
    So we eliminated the BMC, and we replaced it with what we call the Service Processor, the SP, kind of going back to an order model... so if you look at this compute sled here, and it may be hard to see in there, that&#x27;s our Service Processor.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   So this a ST Microelectronics part, and this is a part that is kinda funny because it doesn&#x27;t need a heatsink, right? This is a 400 MHz part! Which is faster than machines were when I was coming up; like faster than the first workstation that I had at Sun Microsystems, by a long shot.
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    GEORGE:
   &lt;/strong&gt;
   &lt;span&gt;
    It&#x27;s what, 80x faster than the original x86? [Ed: Original 8086 was 5 MHz, 400 MHz is exactly 80x faster - good memory and quick arithmetic!]
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    BRYAN:
   &lt;/strong&gt;
   &lt;span&gt;
    That&#x27;s right. So it&#x27;s like, why are we taking this kind of BMC and running this kind of multi-user operating system on it, when we actually have plenty of compute power there. We did our own operating system, we took a clean sheet of paper there as well. I think we were looking around for kind of, best-of-breed, but we weren&#x27;t finding anything that we liked exactly.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   One of the things that we were not finding is operating systems have this kind of multi-user heritage, where, they know how to load programs... which makes sense, absolutely. The idea that an operating system can load a program that it has never seen before makes it valuable, makes it usable!
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    GEORGE:
   &lt;/strong&gt;
   &lt;span&gt;
    I mean if you think about it, everytime you power a system off, and you reboot the OS; essentially the OS goes, I&#x27;m brand new, and then you go to let&#x27;s say Steam for example... it doesn&#x27;t know what Steam is.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    BRYAN:
   &lt;/strong&gt;
   &lt;span&gt;
    Right, yes, exactly.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    GEORGE:
   &lt;/strong&gt;
   &lt;span&gt;
    So the OS has to figure out the program, and boot it.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    BRYAN:
   &lt;/strong&gt;
   &lt;span&gt;
    So even in microcontroller-based operating systems, they still had this idea of program loading. We wanted programs, but we don&#x27;t want to load foreign programs on this; we want - all the of things that are in this, we want it to be aware of, when it actually boots.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   So Hubris is our operating system-
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    GEORGE:
   &lt;/strong&gt;
   &lt;span&gt;
    I love the names Hubris, and then-
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    BRYAN:
   &lt;/strong&gt;
   &lt;span&gt;
    Humility is for the debugger. So Cliff Biffle, the engineer who pioneered Hubris - this is of course one of the Deadly Sins of Programmers - the idea being a nod to, oh my god you&#x27;re doing your own operating system, the hubris of doing your own operating system! And then of course the debugger for that is Humility.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   What&#x27;s been interesting, is that that kind of model - and Cliff has a great talk at OSFC, my colleague Matt Keeter also did a terrific talk on some of the debugging infrastructure we&#x27;ve built on this thing - that model has allowed us to keep Hubris as a very tight image. So Hubris knows about all the tasks that it&#x27;s going to run, when it actually boots; that image has every task in it. It does not load foreign programs, which is what you want in this kind of firmware.
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    GEORGE:
   &lt;/strong&gt;
   &lt;span&gt;
    Yeah, you don&#x27;t want someone to be able to- even if you had physical access, ... could I, change that?
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    BRYAN:
   &lt;/strong&gt;
   &lt;span&gt;
    Great question, so if you had physical access, you could load a new image on here. But, then there&#x27;s a Root of Trust on here, that Root of Trust would know that that image - unless you were Oxide doing it - it would know that image has actually not been signed by Oxide. So we actually test the image.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    GEORGE:
   &lt;/strong&gt;
   &lt;span&gt;
    Now, can you... so let&#x27;s say I get access somehow to a just single node, I only have time to mess with a single node. You have a single node in a big rack, could you, re-... essentially, download a new system image for that microcontroller?
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    BRYAN:
   &lt;/strong&gt;
   &lt;span&gt;
    You could create your own image, but it would know this is not an Oxide image.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    GEORGE:
   &lt;/strong&gt;
   &lt;span&gt;
    Nono I mean, can it then pull an image, a known good image, off a different sled?
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    BRYAN:
   &lt;/strong&gt;
   &lt;span&gt;
    Ohhh, yeah, well no, you need to have enough to actually get over our Service Processor network, so you&#x27;d have to qualify just how crippled this image is. If you put a brick on here, it&#x27;s going to be a problem...
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    GEORGE:
   &lt;/strong&gt;
   &lt;span&gt;
    [Laughs]
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    BRYAN:
   &lt;/strong&gt;
   &lt;span&gt;
    As a result, we&#x27;re as a practical matter very careful about that, we&#x27;ve got, there are A and B sides to the microcontroller, so if you do put a bad image on it can rollback to the other one, and so on. This thing is really designed- it is fit to purpose, for booting and operating a computer. Unlike a BMC, which is really designed to make a server look like a desktop.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    GEORGE:
   &lt;/strong&gt;
   &lt;span&gt;
    Yep. I think, well, we&#x27;re running quite long here, but... one last question- always my last question, what&#x27;s your favorite type of cheese?
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    BRYAN:
   &lt;/strong&gt;
   &lt;span&gt;
    Ooooh... that&#x27;s a good question you know. I... um, God I mean I love a good sharp cheddar.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    GEORGE:
   &lt;/strong&gt;
   &lt;span&gt;
    I agree with you on that one.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    BRYAN:
   &lt;/strong&gt;
   &lt;span&gt;
    Actually, I also really like Swiss, not just Swiss cheese but Swiss cheeses, so a good Emmentaler, something like that, but my kids are less into that. I guess I&#x27;m pretty traditional in that regard.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    GEORGE:
   &lt;/strong&gt;
   &lt;span&gt;
    I 100% agree. Well thank you so much, Bryan, for this, thank you for watching! Like, hit subscribe, do all that, comment... it really does help the algorithm, and we must appease the algo gods.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   So, thank you so much!
  &lt;/p&gt;
  &lt;p&gt;
   &lt;strong&gt;
    BRYAN:
   &lt;/strong&gt;
   &lt;span&gt;
    Thank you!
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   &lt;span&gt;
    If you like the content then consider heading over to the
   &lt;/span&gt;
   &lt;a href=&quot;https://www.patreon.com/ChipsandCheese&quot; rel=&quot;&quot;&gt;
    Patreon
   &lt;/a&gt;
   &lt;span&gt;
    or
   &lt;/span&gt;
   &lt;a href=&quot;https://www.paypal.com/donate/?hosted_button_id=4EMPH66SBGVSQ&quot; rel=&quot;&quot;&gt;
    PayPal
   &lt;/a&gt;
   &lt;span&gt;
    if you want to toss a few bucks to Chips and Cheese. Also consider joining the
   &lt;/span&gt;
   &lt;a href=&quot;https://discord.gg/TwVnRhxgY2&quot; rel=&quot;&quot;&gt;
    Discord
   &lt;/a&gt;
   &lt;span&gt;
    .
   &lt;/span&gt;
  &lt;/p&gt;
 &lt;/div&gt;
&lt;/div&gt;

</description>
</item>
<item>
<title> Inside Nvidia&#x27;s GeForce 6000 Series </title>
<link>https://chipsandcheese.com/p/inside-nvidias-geforce-6000-series</link>
<pubDate>Sat, 05 Jul 2025 22:19:01 -0000</pubDate>
<description>
&lt;div class=&quot;available-content&quot;&gt;
 &lt;div class=&quot;body markup&quot; dir=&quot;auto&quot;&gt;
  &lt;p&gt;
   2025 has kicked off with a flurry of GPU activity. Intel&#x27;s Arc B580 revealed that it&#x27;s still possible to make a mid-range GPU with more than 8 GB of VRAM. AMD&#x27;s RDNA 4 marked the continuation of a longstanding AMD practice where they reach for the top-end, before deciding it wasn&#x27;t worth it after all. Nvidia too has a new generation to celebrate 2025, and their 5000 series launch has come and gone without cards on shelves. But bigger numbers are better, so it&#x27;s time to talk about the GeForce 6 series.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!gxr7!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0bb7f0da-fed7-4786-aaff-67eccf393dda_491x438.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!gxr7!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0bb7f0da-fed7-4786-aaff-67eccf393dda_491x438.png 424w, https://substackcdn.com/image/fetch/$s_!gxr7!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0bb7f0da-fed7-4786-aaff-67eccf393dda_491x438.png 848w, https://substackcdn.com/image/fetch/$s_!gxr7!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0bb7f0da-fed7-4786-aaff-67eccf393dda_491x438.png 1272w, https://substackcdn.com/image/fetch/$s_!gxr7!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0bb7f0da-fed7-4786-aaff-67eccf393dda_491x438.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/0bb7f0da-fed7-4786-aaff-67eccf393dda_491x438.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:438,&quot;width&quot;:491,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:43538,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:false,&quot;topImage&quot;:true,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/160328320?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0bb7f0da-fed7-4786-aaff-67eccf393dda_491x438.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; fetchpriority=&quot;high&quot; height=&quot;438&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!gxr7!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0bb7f0da-fed7-4786-aaff-67eccf393dda_491x438.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!gxr7!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0bb7f0da-fed7-4786-aaff-67eccf393dda_491x438.png 424w, https://substackcdn.com/image/fetch/$s_!gxr7!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0bb7f0da-fed7-4786-aaff-67eccf393dda_491x438.png 848w, https://substackcdn.com/image/fetch/$s_!gxr7!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0bb7f0da-fed7-4786-aaff-67eccf393dda_491x438.png 1272w, https://substackcdn.com/image/fetch/$s_!gxr7!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0bb7f0da-fed7-4786-aaff-67eccf393dda_491x438.png 1456w&quot; width=&quot;491&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Gamers demand higher quality graphics with each generation. No one knows this better than Nvidia, so GeForce 6000 series cards are built to deliver near-cinematic quality at framerates high enough to support interactive gameplay. GeForce 6000 GPUs, or the GeForce 6 series for short, are built with the highly parallel nature of graphics rendering in mind. At the same time, they take a great leap forward in terms of programmability, opening up exciting new possibilities for complex in-game effects.
  &lt;/p&gt;
  &lt;h1 class=&quot;header-anchor-post&quot;&gt;
   Overview
  &lt;/h1&gt;
  &lt;p&gt;
   Graphics rendering involves transforming vertex coordinates from 3D space to 2D screen space before calculating the final pixel colors, a process known as rasterization. Both stages are inherently parallel tasks, and map well to hardware with large arrays of execution units. Accordingly, a GeForce 6 series GPU is a massively parallel machine. It has a strong complement of fixed-function graphics hardware, but the real power of the GPU lies in a collection of vertex and pixel shader cores. These programmable components execute shader programs provided by the game instead of carrying out preset functions. They also serve as basic building blocks, letting Nvidia scale to different power, price, and performance targets. The highest end GeForce 6000 series chip, NV40, implements 6 vertex shader and 16 pixel shader cores.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!pkY9!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3c15ea5c-50a0-4202-a95b-27af006e720a_945x737.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!pkY9!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3c15ea5c-50a0-4202-a95b-27af006e720a_945x737.png 424w, https://substackcdn.com/image/fetch/$s_!pkY9!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3c15ea5c-50a0-4202-a95b-27af006e720a_945x737.png 848w, https://substackcdn.com/image/fetch/$s_!pkY9!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3c15ea5c-50a0-4202-a95b-27af006e720a_945x737.png 1272w, https://substackcdn.com/image/fetch/$s_!pkY9!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3c15ea5c-50a0-4202-a95b-27af006e720a_945x737.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/3c15ea5c-50a0-4202-a95b-27af006e720a_945x737.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:737,&quot;width&quot;:945,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:74876,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:false,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/160328320?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3c15ea5c-50a0-4202-a95b-27af006e720a_945x737.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;737&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!pkY9!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3c15ea5c-50a0-4202-a95b-27af006e720a_945x737.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!pkY9!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3c15ea5c-50a0-4202-a95b-27af006e720a_945x737.png 424w, https://substackcdn.com/image/fetch/$s_!pkY9!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3c15ea5c-50a0-4202-a95b-27af006e720a_945x737.png 848w, https://substackcdn.com/image/fetch/$s_!pkY9!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3c15ea5c-50a0-4202-a95b-27af006e720a_945x737.png 1272w, https://substackcdn.com/image/fetch/$s_!pkY9!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3c15ea5c-50a0-4202-a95b-27af006e720a_945x737.png 1456w&quot; width=&quot;945&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
    &lt;figcaption class=&quot;image-caption&quot;&gt;
     From Nvidia’s IEEE paper
    &lt;/figcaption&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   A highly parallel machine needs a high bandwidth memory subsystem to keep it fed. GeForce 6 series products can feature up to a 256-bit GDDR3 DRAM setup, giving it significantly more memory bus width than typical desktop CPUs. The GPU features a L2 texture cache shared across all pixel and vertex shader cores, which enables short-term reuse of fetched texture data. Nvidia did not disclose cache sizes at this time, but they aim for a 90% hitrate with many misses in flight, rather than the 99% hitrate one often sees with CPU caches. The GPU communicates with the host system via the popular AGP interface, but can also support the upcoming PCI Express standard.
  &lt;/p&gt;
  &lt;h2 class=&quot;header-anchor-post&quot;&gt;
   Vertex Shader Core
  &lt;/h2&gt;
  &lt;p&gt;
   Vertex shader programs transform coordinates from 3D to 2D screen space. It may sound like a trivial task that involves little more than a camera matrix multiplication and perspective division. But programmable vertex shaders open up new tricks. For example, a vertex shader can sample a texture and use it as a displacement map. Besides supporting texture accesses, GeForce 6000&#x27;s vertex shader cores support branches, loops, and function calls. Much of this capability was previously unthinkable on anything outside a real CPU, demonstrating the exciting nature of GPU evolution.
  &lt;/p&gt;
  &lt;p&gt;
   Vertex shader execution starts with instruction fetch from a 512-entry instruction RAM. Nvidia uses 128-bit vertex instructions from the driver format, which are translated into a 123-bit internal format. Thus the instruction RAM has approximately 8 KB of capacity. DirectX 9&#x27;s vertex shader 3.0 standard mandates a minimum of 512 instruction slots, and Nvidia&#x27;s vertex shader core ISA is closely aligned to DirectX 9&#x27;s HLSL instructions. Thanks to instruction limits, shader programs are immune to performance losses from instruction cache misses, which CPU programs can often suffer. Furthermore, accessing the instruction RAM doesn&#x27;t involve tag comparisons like a cache would, saving power.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!Cgn3!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fdcdc518f-73d4-4046-9aea-aaf0ccf0b196_1285x107.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!Cgn3!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fdcdc518f-73d4-4046-9aea-aaf0ccf0b196_1285x107.png 424w, https://substackcdn.com/image/fetch/$s_!Cgn3!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fdcdc518f-73d4-4046-9aea-aaf0ccf0b196_1285x107.png 848w, https://substackcdn.com/image/fetch/$s_!Cgn3!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fdcdc518f-73d4-4046-9aea-aaf0ccf0b196_1285x107.png 1272w, https://substackcdn.com/image/fetch/$s_!Cgn3!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fdcdc518f-73d4-4046-9aea-aaf0ccf0b196_1285x107.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-large&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/dcdc518f-73d4-4046-9aea-aaf0ccf0b196_1285x107.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:false,&quot;imageSize&quot;:&quot;large&quot;,&quot;height&quot;:107,&quot;width&quot;:1285,&quot;resizeWidth&quot;:1200,&quot;bytes&quot;:8532,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/160328320?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fdcdc518f-73d4-4046-9aea-aaf0ccf0b196_1285x107.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;99.92217898832685&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!Cgn3!,w_2400,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fdcdc518f-73d4-4046-9aea-aaf0ccf0b196_1285x107.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!Cgn3!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fdcdc518f-73d4-4046-9aea-aaf0ccf0b196_1285x107.png 424w, https://substackcdn.com/image/fetch/$s_!Cgn3!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fdcdc518f-73d4-4046-9aea-aaf0ccf0b196_1285x107.png 848w, https://substackcdn.com/image/fetch/$s_!Cgn3!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fdcdc518f-73d4-4046-9aea-aaf0ccf0b196_1285x107.png 1272w, https://substackcdn.com/image/fetch/$s_!Cgn3!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fdcdc518f-73d4-4046-9aea-aaf0ccf0b196_1285x107.png 1456w&quot; width=&quot;1200&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
      &lt;div&gt;
      &lt;/div&gt;
     &lt;/div&gt;
    &lt;/a&gt;
    &lt;figcaption class=&quot;image-caption&quot;&gt;
     GeForce 6000 Vertex Shader instruction layout, inferred from Mesa code
    &lt;/figcaption&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   DirectX 9 vertex shader HLSL instructions broadly fall into scalar and vector categories. Scalar instructions include special operations like inverse square roots. Vector instructions generally involve basic operations like multiply-add, and operate on 128-bit vectors of four 32-bit values. GeForce 6000&#x27;s vertex shader pipeline is highly optimized for this arrangement, and features separate vector and scalar pipelines. Each ISA instruction specifies both a scalar and vector operation, letting the vertex shader core exploit parallelism in two dimensions within one instruction stream. Vectors specified by the DirectX 9 shader program provide vector-level parallelism. Any scalar+vector dual issue opportunities found by Nvidia&#x27;s compiler provide additional parallelism.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!KTWv!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5fb12e20-5c7f-49fc-809a-9acdb970ca6f_378x412.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!KTWv!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5fb12e20-5c7f-49fc-809a-9acdb970ca6f_378x412.png 424w, https://substackcdn.com/image/fetch/$s_!KTWv!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5fb12e20-5c7f-49fc-809a-9acdb970ca6f_378x412.png 848w, https://substackcdn.com/image/fetch/$s_!KTWv!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5fb12e20-5c7f-49fc-809a-9acdb970ca6f_378x412.png 1272w, https://substackcdn.com/image/fetch/$s_!KTWv!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5fb12e20-5c7f-49fc-809a-9acdb970ca6f_378x412.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/5fb12e20-5c7f-49fc-809a-9acdb970ca6f_378x412.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:412,&quot;width&quot;:378,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:12782,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/160328320?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5fb12e20-5c7f-49fc-809a-9acdb970ca6f_378x412.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;412&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!KTWv!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5fb12e20-5c7f-49fc-809a-9acdb970ca6f_378x412.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!KTWv!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5fb12e20-5c7f-49fc-809a-9acdb970ca6f_378x412.png 424w, https://substackcdn.com/image/fetch/$s_!KTWv!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5fb12e20-5c7f-49fc-809a-9acdb970ca6f_378x412.png 848w, https://substackcdn.com/image/fetch/$s_!KTWv!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5fb12e20-5c7f-49fc-809a-9acdb970ca6f_378x412.png 1272w, https://substackcdn.com/image/fetch/$s_!KTWv!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5fb12e20-5c7f-49fc-809a-9acdb970ca6f_378x412.png 1456w&quot; width=&quot;378&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   A third source of parallelism comes from multithreading, and serves to hide latency. The vector operation slot can accept texture sampling instructions. Memory accesses from a vertex shader should still be relatively uncommon, so vertex shader cores don&#x27;t have a L1 texture cache tied to their texture fetch unit. Nvidia expects a shader program will need 20-30 instructions to hide texture fetch latency, which can be hard to achieve from a single thread. Therefore, vertex shader cores can each track up to three threads and switch between them to hide latency.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!a_ju!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7efb5f8a-fc44-4e09-aa86-9bc510a858f6_873x672.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!a_ju!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7efb5f8a-fc44-4e09-aa86-9bc510a858f6_873x672.png 424w, https://substackcdn.com/image/fetch/$s_!a_ju!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7efb5f8a-fc44-4e09-aa86-9bc510a858f6_873x672.png 848w, https://substackcdn.com/image/fetch/$s_!a_ju!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7efb5f8a-fc44-4e09-aa86-9bc510a858f6_873x672.png 1272w, https://substackcdn.com/image/fetch/$s_!a_ju!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7efb5f8a-fc44-4e09-aa86-9bc510a858f6_873x672.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/7efb5f8a-fc44-4e09-aa86-9bc510a858f6_873x672.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:672,&quot;width&quot;:873,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:110285,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/160328320?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7efb5f8a-fc44-4e09-aa86-9bc510a858f6_873x672.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;672&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!a_ju!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7efb5f8a-fc44-4e09-aa86-9bc510a858f6_873x672.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!a_ju!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7efb5f8a-fc44-4e09-aa86-9bc510a858f6_873x672.png 424w, https://substackcdn.com/image/fetch/$s_!a_ju!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7efb5f8a-fc44-4e09-aa86-9bc510a858f6_873x672.png 848w, https://substackcdn.com/image/fetch/$s_!a_ju!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7efb5f8a-fc44-4e09-aa86-9bc510a858f6_873x672.png 1272w, https://substackcdn.com/image/fetch/$s_!a_ju!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7efb5f8a-fc44-4e09-aa86-9bc510a858f6_873x672.png 1456w&quot; width=&quot;873&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   &lt;span&gt;
    Instruction inputs can come from registers or constant RAM. Both consist of 128-bit vector entries to match vector execution width. Register files are split into input, output, and temporary registers. The input and output registers each have 16 entries, and are read-only or write-only respectively from the shader program&#x27;s point of view. The temporary register file supports both reads and writes, and has 32 entries. DirectX 9&#x27;s
   &lt;/span&gt;
   &lt;a href=&quot;https://learn.microsoft.com/en-us/windows/win32/direct3dhlsl/dx9-graphics-reference-asm-vs-registers-vs-3-0&quot; rel=&quot;&quot;&gt;
    vertex shader 3.0
   &lt;/a&gt;
   &lt;span&gt;
    specification lets a shader program address up to 32 registers, but Nvidia might share the register file between multiple threads. If so, a vertex shader program should use no more than 10 temporary registers to achieve maximum occupancy.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;h2 class=&quot;header-anchor-post&quot;&gt;
   Pixel Shader Core
  &lt;/h2&gt;
  &lt;p&gt;
   Pixel shaders, or fragment shaders, do much of the heavy lifting because rendering a scene typically involves processing far more pixels than vertices. Accordingly, a GeForce 6000 GPU can have up to 16 pixel shader cores. The pixel shader cores themselves are highly programmable just like the vertex shader cores, with branching support among other goodies. However, pixel shader cores are built very differently to exploit increased parallelism typically present at the pixel level.
  &lt;/p&gt;
  &lt;p&gt;
   GeForce 6000&#x27;s pixel shaders use 128-bit instructions, though the encoding is substantially different from the one used in vertex shaders thanks to hardware differences. Nvidia has chosen to support up to 65536 pixel shader instructions, exceeding the DirectX 9 minimum specification of 512 instruction slots by a wide margin. Using all instruction slots would consume 1 MB of storage, so pixel shader cores might use an instruction cache.
  &lt;/p&gt;
  &lt;div class=&quot;pullquote&quot;&gt;
   &lt;p&gt;
    The fragment processor has two fp32 shader units per pipeline, and fragments are routed through both shader units and the branch processor before recirculating through the entire pipeline to execute the next series of instructions
   &lt;/p&gt;
   &lt;p&gt;
    From The Geforce 6 Series GPU Architecture, Emmet Kilgariff and Ramdima Fernando
   &lt;/p&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Where Nvidia&#x27;s vertex shader core operates much like a CPU with 3-way SMT to hide latency, the pixel shader core uses a SIMD execution model across threads. That parallelism, often referred to as SIMT (Single Instruction Multiple Thread), applies on top of the SIMD you get within a thread from using multi-component vectors. Rather than tracking three separate threads, Nvidia groups many pixel shader invocations into a vector and effectively loops through the &quot;threads&quot; in hardware. This approach lets Nvidia keep thousands of &quot;threads&quot; in flight at low cost, because threads in the same vector must execute the same instruction and cannot take an independent execution path from other threads. Only the data being processed is different.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!xWu4!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F00889588-bae8-42e2-9aee-c229a62096a7_1042x799.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!xWu4!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F00889588-bae8-42e2-9aee-c229a62096a7_1042x799.png 424w, https://substackcdn.com/image/fetch/$s_!xWu4!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F00889588-bae8-42e2-9aee-c229a62096a7_1042x799.png 848w, https://substackcdn.com/image/fetch/$s_!xWu4!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F00889588-bae8-42e2-9aee-c229a62096a7_1042x799.png 1272w, https://substackcdn.com/image/fetch/$s_!xWu4!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F00889588-bae8-42e2-9aee-c229a62096a7_1042x799.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/00889588-bae8-42e2-9aee-c229a62096a7_1042x799.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:799,&quot;width&quot;:1042,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:126675,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/160328320?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F00889588-bae8-42e2-9aee-c229a62096a7_1042x799.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;799&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!xWu4!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F00889588-bae8-42e2-9aee-c229a62096a7_1042x799.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!xWu4!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F00889588-bae8-42e2-9aee-c229a62096a7_1042x799.png 424w, https://substackcdn.com/image/fetch/$s_!xWu4!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F00889588-bae8-42e2-9aee-c229a62096a7_1042x799.png 848w, https://substackcdn.com/image/fetch/$s_!xWu4!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F00889588-bae8-42e2-9aee-c229a62096a7_1042x799.png 1272w, https://substackcdn.com/image/fetch/$s_!xWu4!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F00889588-bae8-42e2-9aee-c229a62096a7_1042x799.png 1456w&quot; width=&quot;1042&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Programmers must pay attention to divergence penalties with this SIMT threading model. If different threads within a vector take different directions on a conditional branch, the pixel shader core will execute both sides of the branch with non-active threads masked off. That contrasts with the vertex shader core&#x27;s MIMD execution model, which allows penalty free branching even if branch directions diverge across threads running in the same core. Nvidia suggests keeping branches coherent across regions of over 1000 pixels, or approximately 256 2x2 pixel quads, hinting at very long vector lengths.
  &lt;/p&gt;
  &lt;p&gt;
   Keeping that much work in flight is critical to hiding latency, but places pressure on internal chip storage. DirectX 9 lets pixel shaders address 32 temporary registers, which continue to be 128-bits wide. Keeping 256 threads in flight would require 128 KB of register file capacity per pixel shader core, which will not be achieved in GPUs for several years. GeForce 6000 uses smaller register files of unknown size. Nvidia says pixel shader programs can get the maximum number of threads in flight if they use four or fewer 128-bit registers. As ballpark estimate, 256 threads with four registers per thread would require 16 KB of register file capacity.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!lgRi!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fefdf52e4-8e19-4665-9612-c1c4068a75e0_948x710.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!lgRi!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fefdf52e4-8e19-4665-9612-c1c4068a75e0_948x710.png 424w, https://substackcdn.com/image/fetch/$s_!lgRi!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fefdf52e4-8e19-4665-9612-c1c4068a75e0_948x710.png 848w, https://substackcdn.com/image/fetch/$s_!lgRi!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fefdf52e4-8e19-4665-9612-c1c4068a75e0_948x710.png 1272w, https://substackcdn.com/image/fetch/$s_!lgRi!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fefdf52e4-8e19-4665-9612-c1c4068a75e0_948x710.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/efdf52e4-8e19-4665-9612-c1c4068a75e0_948x710.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:710,&quot;width&quot;:948,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:99174,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/160328320?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fefdf52e4-8e19-4665-9612-c1c4068a75e0_948x710.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;710&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!lgRi!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fefdf52e4-8e19-4665-9612-c1c4068a75e0_948x710.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!lgRi!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fefdf52e4-8e19-4665-9612-c1c4068a75e0_948x710.png 424w, https://substackcdn.com/image/fetch/$s_!lgRi!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fefdf52e4-8e19-4665-9612-c1c4068a75e0_948x710.png 848w, https://substackcdn.com/image/fetch/$s_!lgRi!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fefdf52e4-8e19-4665-9612-c1c4068a75e0_948x710.png 1272w, https://substackcdn.com/image/fetch/$s_!lgRi!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fefdf52e4-8e19-4665-9612-c1c4068a75e0_948x710.png 1456w&quot; width=&quot;948&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   The pixel shader core&#x27;s two 128-bit vector units are placed one after another in different pipeline stages. Both can execute four FP32 operations per cycle, though only the lower one can do multiply-add. The upper one can handle special functions and texture address calculation. Texture operations are issued between the two execution unit stages. Peak FP32 throughput is 12 operations per cycle. That can be achieved for example by issuing a vector FP32 multiply in the upper stage and a FP32 multiply-add in the lower one.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!pnRj!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8ea225b0-59aa-41bb-a0f9-e708d75c6fa7_1285x115.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!pnRj!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8ea225b0-59aa-41bb-a0f9-e708d75c6fa7_1285x115.png 424w, https://substackcdn.com/image/fetch/$s_!pnRj!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8ea225b0-59aa-41bb-a0f9-e708d75c6fa7_1285x115.png 848w, https://substackcdn.com/image/fetch/$s_!pnRj!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8ea225b0-59aa-41bb-a0f9-e708d75c6fa7_1285x115.png 1272w, https://substackcdn.com/image/fetch/$s_!pnRj!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8ea225b0-59aa-41bb-a0f9-e708d75c6fa7_1285x115.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-large&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/8ea225b0-59aa-41bb-a0f9-e708d75c6fa7_1285x115.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:false,&quot;imageSize&quot;:&quot;large&quot;,&quot;height&quot;:115,&quot;width&quot;:1285,&quot;resizeWidth&quot;:1200,&quot;bytes&quot;:6922,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/160328320?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8ea225b0-59aa-41bb-a0f9-e708d75c6fa7_1285x115.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;107.39299610894942&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!pnRj!,w_2400,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8ea225b0-59aa-41bb-a0f9-e708d75c6fa7_1285x115.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!pnRj!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8ea225b0-59aa-41bb-a0f9-e708d75c6fa7_1285x115.png 424w, https://substackcdn.com/image/fetch/$s_!pnRj!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8ea225b0-59aa-41bb-a0f9-e708d75c6fa7_1285x115.png 848w, https://substackcdn.com/image/fetch/$s_!pnRj!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8ea225b0-59aa-41bb-a0f9-e708d75c6fa7_1285x115.png 1272w, https://substackcdn.com/image/fetch/$s_!pnRj!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8ea225b0-59aa-41bb-a0f9-e708d75c6fa7_1285x115.png 1456w&quot; width=&quot;1200&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
      &lt;div&gt;
      &lt;/div&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   From a shader program&#x27;s perspective, the upper and lower vector units together can complete two vector operations per cycle. Compared to the vertex shader cores, the pixel shader&#x27;s sequential &quot;dual issue&quot; arrangement lets the upper unit forward its results to the lower one. Thus two dependent instructions can &quot;dual issue&quot;. Besides interleaving instructions for the two vector units, Nvidia&#x27;s compiler can pack operations that work on different subsets of vector elements into a single instruction, which improves vector unit utilization within a thread. FP16 execution can improve throughput even further. Full 32-bit precision is often not necessary for graphics rendering, especially when it comes to pixel colors. Both vector execution units in the pixel shader core can execute FP16 operations at double rate. Using FP16 also halves register file usage for those values, which in turn can also improve occupancy and therefore latency hiding.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!M_SC!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F486532d7-534d-423d-a7f7-d366d7ee3760_328x482.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!M_SC!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F486532d7-534d-423d-a7f7-d366d7ee3760_328x482.png 424w, https://substackcdn.com/image/fetch/$s_!M_SC!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F486532d7-534d-423d-a7f7-d366d7ee3760_328x482.png 848w, https://substackcdn.com/image/fetch/$s_!M_SC!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F486532d7-534d-423d-a7f7-d366d7ee3760_328x482.png 1272w, https://substackcdn.com/image/fetch/$s_!M_SC!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F486532d7-534d-423d-a7f7-d366d7ee3760_328x482.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/486532d7-534d-423d-a7f7-d366d7ee3760_328x482.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:false,&quot;imageSize&quot;:&quot;normal&quot;,&quot;height&quot;:482,&quot;width&quot;:328,&quot;resizeWidth&quot;:328,&quot;bytes&quot;:6147,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/160328320?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F486532d7-534d-423d-a7f7-d366d7ee3760_328x482.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;482&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!M_SC!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F486532d7-534d-423d-a7f7-d366d7ee3760_328x482.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!M_SC!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F486532d7-534d-423d-a7f7-d366d7ee3760_328x482.png 424w, https://substackcdn.com/image/fetch/$s_!M_SC!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F486532d7-534d-423d-a7f7-d366d7ee3760_328x482.png 848w, https://substackcdn.com/image/fetch/$s_!M_SC!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F486532d7-534d-423d-a7f7-d366d7ee3760_328x482.png 1272w, https://substackcdn.com/image/fetch/$s_!M_SC!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F486532d7-534d-423d-a7f7-d366d7ee3760_328x482.png 1456w&quot; width=&quot;328&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
    &lt;figcaption class=&quot;image-caption&quot;&gt;
     Input registers not drawn, but all shader programs take input registers and write their results to output registers
    &lt;/figcaption&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Texture sampling is an important part of pixel shading, so pixel shader cores get an optimized texture sampling path compared to the vertex shader cores: each core has a L1 texture cache, backed by a chip-wide L2 texture cache.
  &lt;/p&gt;
  &lt;h1 class=&quot;header-anchor-post&quot;&gt;
   Going Beyond Pixel Shading
  &lt;/h1&gt;
  &lt;p&gt;
   Pixel shader programs normally output pixel colors, but colors are really just numbers. The bulk of GeForce 6000&#x27;s massive parallel compute power is concentrated in its array of pixel shaders, and having lots of GFLOPs is great for non-pixel things too. Furthermore, the flexibility of the pixel processing pipelines can let creative programmers do just about anything.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!bhQF!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe94819ae-3dea-4f0c-bec7-25706bfcef77_958x720.jpeg&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!bhQF!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe94819ae-3dea-4f0c-bec7-25706bfcef77_958x720.jpeg 424w, https://substackcdn.com/image/fetch/$s_!bhQF!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe94819ae-3dea-4f0c-bec7-25706bfcef77_958x720.jpeg 848w, https://substackcdn.com/image/fetch/$s_!bhQF!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe94819ae-3dea-4f0c-bec7-25706bfcef77_958x720.jpeg 1272w, https://substackcdn.com/image/fetch/$s_!bhQF!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe94819ae-3dea-4f0c-bec7-25706bfcef77_958x720.jpeg 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/e94819ae-3dea-4f0c-bec7-25706bfcef77_958x720.jpeg&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:720,&quot;width&quot;:958,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:77349,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/jpeg&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/160328320?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe94819ae-3dea-4f0c-bec7-25706bfcef77_958x720.jpeg&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;720&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!bhQF!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe94819ae-3dea-4f0c-bec7-25706bfcef77_958x720.jpeg&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!bhQF!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe94819ae-3dea-4f0c-bec7-25706bfcef77_958x720.jpeg 424w, https://substackcdn.com/image/fetch/$s_!bhQF!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe94819ae-3dea-4f0c-bec7-25706bfcef77_958x720.jpeg 848w, https://substackcdn.com/image/fetch/$s_!bhQF!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe94819ae-3dea-4f0c-bec7-25706bfcef77_958x720.jpeg 1272w, https://substackcdn.com/image/fetch/$s_!bhQF!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe94819ae-3dea-4f0c-bec7-25706bfcef77_958x720.jpeg 1456w&quot; width=&quot;958&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   For example, ray tracing is a fundamentally different approach to graphics rendering (compared to rasterization), that involves tracing light rays through a scene. Ray tracing was largely confined to offline applications because of its compute power requirements. However, GeForce 6&#x27;s programmable pixel shaders are up to the task of real-time rendering, at least for simple scenes.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!OEdZ!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7c81e130-f63d-4c86-8623-b74751d5a32d_954x716.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!OEdZ!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7c81e130-f63d-4c86-8623-b74751d5a32d_954x716.png 424w, https://substackcdn.com/image/fetch/$s_!OEdZ!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7c81e130-f63d-4c86-8623-b74751d5a32d_954x716.png 848w, https://substackcdn.com/image/fetch/$s_!OEdZ!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7c81e130-f63d-4c86-8623-b74751d5a32d_954x716.png 1272w, https://substackcdn.com/image/fetch/$s_!OEdZ!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7c81e130-f63d-4c86-8623-b74751d5a32d_954x716.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/7c81e130-f63d-4c86-8623-b74751d5a32d_954x716.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:716,&quot;width&quot;:954,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:93297,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/160328320?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7c81e130-f63d-4c86-8623-b74751d5a32d_954x716.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;716&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!OEdZ!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7c81e130-f63d-4c86-8623-b74751d5a32d_954x716.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!OEdZ!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7c81e130-f63d-4c86-8623-b74751d5a32d_954x716.png 424w, https://substackcdn.com/image/fetch/$s_!OEdZ!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7c81e130-f63d-4c86-8623-b74751d5a32d_954x716.png 848w, https://substackcdn.com/image/fetch/$s_!OEdZ!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7c81e130-f63d-4c86-8623-b74751d5a32d_954x716.png 1272w, https://substackcdn.com/image/fetch/$s_!OEdZ!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7c81e130-f63d-4c86-8623-b74751d5a32d_954x716.png 1456w&quot; width=&quot;954&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
    &lt;figcaption class=&quot;image-caption&quot;&gt;
     From Stanford&#x27;s presentation on the Brook API
    &lt;/figcaption&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   The possibilities go beyond different graphics rendering techniques. The power of programmable shaders has spurred the development of new GPU programming APIs not directly aimed at graphics. Stanford&#x27;s Brook API targets general purpose compute on GPUs. Its programming model is tightly tied to the way GPUs are optimized for parallel work. Getting up to speed on such a model can take some getting used to, especially as most programmers have been taught using a serial execution model. But researchers and other developers doing highly parallel and highly regular data processing should take note of these APIs.
  &lt;/p&gt;
  &lt;h2 class=&quot;header-anchor-post&quot;&gt;
   Difficulties Remain
  &lt;/h2&gt;
  &lt;p&gt;
   Significant barriers still stand in the way of running any parallel task on a GPU: shader programs access memory through textures bound to it; textures have limited size compared to CPU-side memory allocations; floating-point precision is often lacking compared to a full-spec IEEE 754 implementation; shaders can only execute for a short length of time without stalling the display; textures can&#x27;t be modified during shader execution, etc.
  &lt;/p&gt;
  &lt;p&gt;
   Developers also have to move data between CPU and GPU memory spaces to provide the GPU with data and get the results. The latter can be problematic because GPUs are optimized for presenting pixel shader output as a frame on-screen, before quickly overwriting it with a subsequent frame. Copying data back from the GPU can run into host interface limitations.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!JcpS!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2eab54c4-d3be-42e6-a467-8749b83a6d26_1076x819.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!JcpS!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2eab54c4-d3be-42e6-a467-8749b83a6d26_1076x819.png 424w, https://substackcdn.com/image/fetch/$s_!JcpS!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2eab54c4-d3be-42e6-a467-8749b83a6d26_1076x819.png 848w, https://substackcdn.com/image/fetch/$s_!JcpS!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2eab54c4-d3be-42e6-a467-8749b83a6d26_1076x819.png 1272w, https://substackcdn.com/image/fetch/$s_!JcpS!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2eab54c4-d3be-42e6-a467-8749b83a6d26_1076x819.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/2eab54c4-d3be-42e6-a467-8749b83a6d26_1076x819.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:819,&quot;width&quot;:1076,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:155873,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/160328320?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2eab54c4-d3be-42e6-a467-8749b83a6d26_1076x819.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;819&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!JcpS!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2eab54c4-d3be-42e6-a467-8749b83a6d26_1076x819.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!JcpS!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2eab54c4-d3be-42e6-a467-8749b83a6d26_1076x819.png 424w, https://substackcdn.com/image/fetch/$s_!JcpS!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2eab54c4-d3be-42e6-a467-8749b83a6d26_1076x819.png 848w, https://substackcdn.com/image/fetch/$s_!JcpS!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2eab54c4-d3be-42e6-a467-8749b83a6d26_1076x819.png 1272w, https://substackcdn.com/image/fetch/$s_!JcpS!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2eab54c4-d3be-42e6-a467-8749b83a6d26_1076x819.png 1456w&quot; width=&quot;1076&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Nvidia is no doubt aware of these limitations, and is working to address this. GeForce 6 will support the incoming PCI Express standard alongside AGP. PCI Express&#x27;s increased bandwidth moves the GPU one step closer to being an accessible parallel accelerator.
  &lt;/p&gt;
  &lt;h1 class=&quot;header-anchor-post&quot;&gt;
   Final Words
  &lt;/h1&gt;
  &lt;p&gt;
   GeForce 6&#x27;s pixel and vertex shader pipelines are more flexible than ever, and shows Nvidia is taking programmable shaders seriously. Many of the capabilities introduced in GeForce 6 may seem excessive for current gaming workloads. It&#x27;s hard to imagine anyone writing a shader hundreds of instructions long with loops, calls and branches mixed in. What GeForce 6&#x27;s capabilities show is that Nvidia is competing on features beyond basic graphics rendering. It&#x27;s part of a larger trend arising from the move away from fixed-function hardware, and has exciting implications for GPUs. Perhaps soon, we won&#x27;t be calling these cards GPUs anymore, considering they can do much more than render graphics.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!tXuS!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F742ee423-2a17-49b1-8d44-e778f0bbed13_525x327.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!tXuS!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F742ee423-2a17-49b1-8d44-e778f0bbed13_525x327.png 424w, https://substackcdn.com/image/fetch/$s_!tXuS!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F742ee423-2a17-49b1-8d44-e778f0bbed13_525x327.png 848w, https://substackcdn.com/image/fetch/$s_!tXuS!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F742ee423-2a17-49b1-8d44-e778f0bbed13_525x327.png 1272w, https://substackcdn.com/image/fetch/$s_!tXuS!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F742ee423-2a17-49b1-8d44-e778f0bbed13_525x327.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/742ee423-2a17-49b1-8d44-e778f0bbed13_525x327.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:327,&quot;width&quot;:525,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:11809,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/160328320?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F742ee423-2a17-49b1-8d44-e778f0bbed13_525x327.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;327&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!tXuS!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F742ee423-2a17-49b1-8d44-e778f0bbed13_525x327.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!tXuS!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F742ee423-2a17-49b1-8d44-e778f0bbed13_525x327.png 424w, https://substackcdn.com/image/fetch/$s_!tXuS!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F742ee423-2a17-49b1-8d44-e778f0bbed13_525x327.png 848w, https://substackcdn.com/image/fetch/$s_!tXuS!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F742ee423-2a17-49b1-8d44-e778f0bbed13_525x327.png 1272w, https://substackcdn.com/image/fetch/$s_!tXuS!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F742ee423-2a17-49b1-8d44-e778f0bbed13_525x327.png 1456w&quot; width=&quot;525&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Despite its programmability, GeForce 6000 GPUs continue to focus strongly on graphics. Nvidia&#x27;s shader ISA remains closely tied to DirectX 9 specifications, ensuring shader programs in games run well on the hardware. And the hardware is quite powerful; a high-end GeForce 6000 chip has over 200 million transistors. That&#x27;s made possible by IBM&#x27;s advanced 130nm process. Providing all that processing power demands serious power delivery too, so high end cards use a pair of molex connectors. Molex connectors are a time-tested standard, with thick pins and wires that can reliably supply power to a variety of peripherals without melting.
  &lt;/p&gt;
  &lt;p&gt;
   In conclusion, GPUs are advancing at an incredible pace. 2005 is an exciting time to be alive. Graphics rendering technologies are moving in lock-step with the nation&#x27;s economy towards 2008, and undoubtedly everyone is looking forward to that bright future.
  &lt;/p&gt;
  &lt;p&gt;
   Wait, what year is it again? Oh, and happy April Fools!
  &lt;/p&gt;
  &lt;p&gt;
   &lt;span&gt;
    If you like the content then consider heading over to the
   &lt;/span&gt;
   &lt;a href=&quot;https://www.patreon.com/ChipsandCheese&quot; rel=&quot;&quot;&gt;
    Patreon
   &lt;/a&gt;
   &lt;span&gt;
    or
   &lt;/span&gt;
   &lt;a href=&quot;https://www.paypal.com/donate/?hosted_button_id=4EMPH66SBGVSQ&quot; rel=&quot;&quot;&gt;
    PayPal
   &lt;/a&gt;
   &lt;span&gt;
    if you want to toss a few bucks to Chips and Cheese. Also consider joining the
   &lt;/span&gt;
   &lt;a href=&quot;https://discord.gg/TwVnRhxgY2&quot; rel=&quot;&quot;&gt;
    Discord
   &lt;/a&gt;
   &lt;span&gt;
    .
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;h2 class=&quot;header-anchor-post&quot;&gt;
   References
  &lt;/h2&gt;
  &lt;ol&gt;
   &lt;li&gt;
    &lt;p&gt;
     Nvidia GeForce 6800 Hot Chips presentation
    &lt;/p&gt;
   &lt;/li&gt;
   &lt;li&gt;
    &lt;p&gt;
     Emmet Kilgariff and Ramdima Fernando, The GeForce 6 Series GPU Architecture
    &lt;/p&gt;
   &lt;/li&gt;
   &lt;li&gt;
    &lt;p&gt;
     John Montrym and Henry Moreton, The GeForce 6800
    &lt;/p&gt;
   &lt;/li&gt;
   &lt;li&gt;
    &lt;p&gt;
     Ashu Rege, Shader Model 3.0
    &lt;/p&gt;
   &lt;/li&gt;
   &lt;li&gt;
    &lt;p&gt;
     Matthias Wloka, GeForce 6 Series Performance
    &lt;/p&gt;
   &lt;/li&gt;
   &lt;li&gt;
    &lt;p&gt;
     Ian Buck et al, Brook for GPUs: Stream Computing on Graphics Hardware
    &lt;/p&gt;
   &lt;/li&gt;
  &lt;/ol&gt;
 &lt;/div&gt;
&lt;/div&gt;

</description>
</item>
<item>
<title> Dynamic Register Allocation on AMD&#x27;s RDNA 4 GPU Architecture </title>
<link>https://chipsandcheese.com/p/dynamic-register-allocation-on-amds</link>
<pubDate>Sat, 05 Jul 2025 22:18:58 -0000</pubDate>
<description>
&lt;div class=&quot;available-content&quot;&gt;
 &lt;div class=&quot;body markup&quot; dir=&quot;auto&quot;&gt;
  &lt;p&gt;
   Modern GPUs often make a difficult tradeoff between occupancy (active thread count) and register count available to each thread. Higher occupancy provides more thread level parallelism to hide latency with, just as more SMT threads help hide latency on a CPU. But while a CPU can use all of its SMT threads regardless of what code it&#x27;s running, the same doesn&#x27;t apply to GPUs. GPU ISAs offer a large number of very wide vector registers. Storing all registers for all thread slots would be impractical because register files must balance capacity with speed and die area usage.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!7mK3!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F39ad0e36-cde9-4af8-b104-5aeae0ae836e_824x545.webp&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!7mK3!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F39ad0e36-cde9-4af8-b104-5aeae0ae836e_824x545.webp 424w, https://substackcdn.com/image/fetch/$s_!7mK3!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F39ad0e36-cde9-4af8-b104-5aeae0ae836e_824x545.webp 848w, https://substackcdn.com/image/fetch/$s_!7mK3!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F39ad0e36-cde9-4af8-b104-5aeae0ae836e_824x545.webp 1272w, https://substackcdn.com/image/fetch/$s_!7mK3!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F39ad0e36-cde9-4af8-b104-5aeae0ae836e_824x545.webp 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/39ad0e36-cde9-4af8-b104-5aeae0ae836e_824x545.webp&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:545,&quot;width&quot;:824,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:17100,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/webp&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:false,&quot;topImage&quot;:true,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/160652329?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F39ad0e36-cde9-4af8-b104-5aeae0ae836e_824x545.webp&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; fetchpriority=&quot;high&quot; height=&quot;545&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!7mK3!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F39ad0e36-cde9-4af8-b104-5aeae0ae836e_824x545.webp&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!7mK3!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F39ad0e36-cde9-4af8-b104-5aeae0ae836e_824x545.webp 424w, https://substackcdn.com/image/fetch/$s_!7mK3!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F39ad0e36-cde9-4af8-b104-5aeae0ae836e_824x545.webp 848w, https://substackcdn.com/image/fetch/$s_!7mK3!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F39ad0e36-cde9-4af8-b104-5aeae0ae836e_824x545.webp 1272w, https://substackcdn.com/image/fetch/$s_!7mK3!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F39ad0e36-cde9-4af8-b104-5aeae0ae836e_824x545.webp 1456w&quot; width=&quot;824&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   For example, RDNA 4&#x27;s ISA lets instructions address up to 256 vector general purpose registers (VGPRs). Each register is 1024 bits wide in wave32 mode, and each RDNA 4 SIMD has 16 thread slots. The SIMD would need a 512 KB register file to hold 256 registers for all 16 threads. In practice register requirements vary across different GPU workloads. RDNA 4, like many other GPUs, uses a smaller register file and allocates depending on what threads require. Code that needs a lot of registers can do so at the cost of less thread-level parallelism, while code that uses fewer registers can run more active threads and be less sensitive to latency. RDNA 4 desktop GPUs have a 192 KB register file per SIMD, so a GPU kernel can use all thread slots (achieve maximum occupancy) if it uses 96 or fewer vector registers.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!9VUY!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F702a8b22-ac95-4368-a706-3f4e3878e5a7_1026x498.webp&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!9VUY!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F702a8b22-ac95-4368-a706-3f4e3878e5a7_1026x498.webp 424w, https://substackcdn.com/image/fetch/$s_!9VUY!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F702a8b22-ac95-4368-a706-3f4e3878e5a7_1026x498.webp 848w, https://substackcdn.com/image/fetch/$s_!9VUY!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F702a8b22-ac95-4368-a706-3f4e3878e5a7_1026x498.webp 1272w, https://substackcdn.com/image/fetch/$s_!9VUY!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F702a8b22-ac95-4368-a706-3f4e3878e5a7_1026x498.webp 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/702a8b22-ac95-4368-a706-3f4e3878e5a7_1026x498.webp&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:498,&quot;width&quot;:1026,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:8620,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/webp&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:false,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/160652329?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F702a8b22-ac95-4368-a706-3f4e3878e5a7_1026x498.webp&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;498&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!9VUY!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F702a8b22-ac95-4368-a706-3f4e3878e5a7_1026x498.webp&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!9VUY!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F702a8b22-ac95-4368-a706-3f4e3878e5a7_1026x498.webp 424w, https://substackcdn.com/image/fetch/$s_!9VUY!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F702a8b22-ac95-4368-a706-3f4e3878e5a7_1026x498.webp 848w, https://substackcdn.com/image/fetch/$s_!9VUY!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F702a8b22-ac95-4368-a706-3f4e3878e5a7_1026x498.webp 1272w, https://substackcdn.com/image/fetch/$s_!9VUY!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F702a8b22-ac95-4368-a706-3f4e3878e5a7_1026x498.webp 1456w&quot; width=&quot;1026&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   A bigger register file obviously improves the occupancy and register usage tradeoff situation. RDNA increased SIMD register file capacity to 128 KB, up from 64 KB on GCN. RDNA 3 introduced a 192 KB register file configuration for high end GPUs, where die area is likely less of a concern. But that strategy isn’t efficient for raytracing.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!2Hqz!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F656c63e2-c55c-4c92-af1e-8f9d8bbf7a51_2163x1440.webp&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!2Hqz!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F656c63e2-c55c-4c92-af1e-8f9d8bbf7a51_2163x1440.webp 424w, https://substackcdn.com/image/fetch/$s_!2Hqz!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F656c63e2-c55c-4c92-af1e-8f9d8bbf7a51_2163x1440.webp 848w, https://substackcdn.com/image/fetch/$s_!2Hqz!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F656c63e2-c55c-4c92-af1e-8f9d8bbf7a51_2163x1440.webp 1272w, https://substackcdn.com/image/fetch/$s_!2Hqz!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F656c63e2-c55c-4c92-af1e-8f9d8bbf7a51_2163x1440.webp 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/656c63e2-c55c-4c92-af1e-8f9d8bbf7a51_2163x1440.webp&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:969,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:1253978,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/webp&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:false,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/160652329?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F656c63e2-c55c-4c92-af1e-8f9d8bbf7a51_2163x1440.webp&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;969&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!2Hqz!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F656c63e2-c55c-4c92-af1e-8f9d8bbf7a51_2163x1440.webp&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!2Hqz!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F656c63e2-c55c-4c92-af1e-8f9d8bbf7a51_2163x1440.webp 424w, https://substackcdn.com/image/fetch/$s_!2Hqz!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F656c63e2-c55c-4c92-af1e-8f9d8bbf7a51_2163x1440.webp 848w, https://substackcdn.com/image/fetch/$s_!2Hqz!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F656c63e2-c55c-4c92-af1e-8f9d8bbf7a51_2163x1440.webp 1272w, https://substackcdn.com/image/fetch/$s_!2Hqz!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F656c63e2-c55c-4c92-af1e-8f9d8bbf7a51_2163x1440.webp 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   AMD notes that ray traversal and hit/miss handling have different VGPR requirements. AMD uses an inline raytracing model where all raytracing stages run within the same thread. A raytracing shader’s VGPR allocation has to be set to the maximum that any stage requires, because a thread’s register allocation remains static throughout its lifetime. Even if code that needs a lot of registers only accounts for a small part of execution time, that high VGPR allocation will limit active thread count for the duration of the workload. Raytracing is particularly latency sensitive, and AMD would like to run as many threads (rays) in parallel as possible to help absorb latency.
  &lt;/p&gt;
  &lt;h2 class=&quot;header-anchor-post&quot;&gt;
   Dynamic Register Allocation
  &lt;/h2&gt;
  &lt;p&gt;
   &lt;span&gt;
    Therefore RDNA 4 introduces a new dynamic VGPR allocation mode. In this mode, a thread starts with a minimum VGPR allocation and changes it throughout it’s lifetime. Rather than specify how many VGPRs a shader will use, the driver tells GPU to launch it in dynamic VGPR mode. A chip-wide
   &lt;/span&gt;
   &lt;code&gt;
    SQ_DYN_VGPR
   &lt;/code&gt;
   &lt;span&gt;
    register directly sets active thread count per SIMD, or occupancy, rather than having that inferred from shader VGPR usage.
   &lt;/span&gt;
   &lt;code&gt;
    SQ_DYN_VGPR
   &lt;/code&gt;
   &lt;span&gt;
    also controls other dynamic VGPR mode parameters, like VGPR allocation block size and deadlock avoidance mode.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!6vPT!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8314d90c-5b1d-463f-9b3c-c854e48373f0_337x280.webp&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!6vPT!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8314d90c-5b1d-463f-9b3c-c854e48373f0_337x280.webp 424w, https://substackcdn.com/image/fetch/$s_!6vPT!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8314d90c-5b1d-463f-9b3c-c854e48373f0_337x280.webp 848w, https://substackcdn.com/image/fetch/$s_!6vPT!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8314d90c-5b1d-463f-9b3c-c854e48373f0_337x280.webp 1272w, https://substackcdn.com/image/fetch/$s_!6vPT!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8314d90c-5b1d-463f-9b3c-c854e48373f0_337x280.webp 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/8314d90c-5b1d-463f-9b3c-c854e48373f0_337x280.webp&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:280,&quot;width&quot;:337,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:4692,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/webp&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/160652329?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8314d90c-5b1d-463f-9b3c-c854e48373f0_337x280.webp&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;280&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!6vPT!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8314d90c-5b1d-463f-9b3c-c854e48373f0_337x280.webp&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!6vPT!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8314d90c-5b1d-463f-9b3c-c854e48373f0_337x280.webp 424w, https://substackcdn.com/image/fetch/$s_!6vPT!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8314d90c-5b1d-463f-9b3c-c854e48373f0_337x280.webp 848w, https://substackcdn.com/image/fetch/$s_!6vPT!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8314d90c-5b1d-463f-9b3c-c854e48373f0_337x280.webp 1272w, https://substackcdn.com/image/fetch/$s_!6vPT!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8314d90c-5b1d-463f-9b3c-c854e48373f0_337x280.webp 1456w&quot; width=&quot;337&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
    &lt;figcaption class=&quot;image-caption&quot;&gt;
     As defined in Linux kernel code. I couldn’t find references/usages in either Linux or LLVM, so I’m guessing what each field does
    &lt;/figcaption&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   &lt;span&gt;
    Each enabled thread slot gets a single reserved VGPR block, and a newly launched thread starts with just that VGPR block active. When the thread needs more registers, it requests a new VGPR count using a
   &lt;/span&gt;
   &lt;code&gt;
    s_alloc_vgpr
   &lt;/code&gt;
   &lt;span&gt;
    instruction.
   &lt;/span&gt;
   &lt;code&gt;
    s_alloc_vgpr
   &lt;/code&gt;
   &lt;span&gt;
    attempts to allocate more registers if called with a value higher than the current allocation, or frees registers if called with a lower value. Changing VGPR allocation affects the upper end of the usable VGPR range, just like with non-dynamic VGPR allocation. Hardware hands out VGPRs in blocks of 16 or 32, depending on how the driver sets up
   &lt;/span&gt;
   &lt;code&gt;
    SQ_DYN_VGPR
   &lt;/code&gt;
   &lt;span&gt;
    . A thread can allocate up to eight blocks, so the driver must select the larger block size and give up some allocation granularity if a thread needs to use more than 128 VGPRs.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   &lt;span&gt;
    Allocation requests don’t always succeed.
   &lt;/span&gt;
   &lt;code&gt;
    s_alloc_vgpr
   &lt;/code&gt;
   &lt;span&gt;
    sets the Scalar Condition Code (SCC) to indicate success, or clears it on failure. SCC is analogous to a flag register on CPUs, and is used for branching and add-with-carry. Shader code has to check SCC to determine if an allocation request succeeded. If an allocation request fails, a shader could in theory try to find other useful work to do while periodically retrying the allocation. But doing so would be quite complex, so in practice a shader will busy-wait until allocation succeeds.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!KeN8!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3e369252-8055-4b9f-afb3-af9ba65b16d0_1365x726.webp&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!KeN8!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3e369252-8055-4b9f-afb3-af9ba65b16d0_1365x726.webp 424w, https://substackcdn.com/image/fetch/$s_!KeN8!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3e369252-8055-4b9f-afb3-af9ba65b16d0_1365x726.webp 848w, https://substackcdn.com/image/fetch/$s_!KeN8!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3e369252-8055-4b9f-afb3-af9ba65b16d0_1365x726.webp 1272w, https://substackcdn.com/image/fetch/$s_!KeN8!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3e369252-8055-4b9f-afb3-af9ba65b16d0_1365x726.webp 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/3e369252-8055-4b9f-afb3-af9ba65b16d0_1365x726.webp&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:726,&quot;width&quot;:1365,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:29748,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/webp&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/160652329?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3e369252-8055-4b9f-afb3-af9ba65b16d0_1365x726.webp&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;726&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!KeN8!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3e369252-8055-4b9f-afb3-af9ba65b16d0_1365x726.webp&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!KeN8!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3e369252-8055-4b9f-afb3-af9ba65b16d0_1365x726.webp 424w, https://substackcdn.com/image/fetch/$s_!KeN8!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3e369252-8055-4b9f-afb3-af9ba65b16d0_1365x726.webp 848w, https://substackcdn.com/image/fetch/$s_!KeN8!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3e369252-8055-4b9f-afb3-af9ba65b16d0_1365x726.webp 1272w, https://substackcdn.com/image/fetch/$s_!KeN8!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3e369252-8055-4b9f-afb3-af9ba65b16d0_1365x726.webp 1456w&quot; width=&quot;1365&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
    &lt;figcaption class=&quot;image-caption&quot;&gt;
     Example of dynamic register allocation used in the DirectX procedural geometry example
    &lt;/figcaption&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Therefore dynamic VGPR mode turns the occupancy question on its head. A SIMD can have as many active threads as the driver feels like, regardless of register allocation. But theoretical occupancy doesn’t tell the whole story. Threads can still get blocked waiting on VGPR allocation. A SIMD could have all thread slots filled, but some of those threads could be busy-waiting on VGPR allocation rather than making useful progress.
  &lt;/p&gt;
  &lt;h3 class=&quot;header-anchor-post&quot;&gt;
   Deadlock Avoidance
  &lt;/h3&gt;
  &lt;p&gt;
   Busy-waiting can become more than a performance inconvenience. Dynamic VGPR allocation can lead to deadlock. AMD knows this, and describes how that can happen in RDNA 4’s ISA manual.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!jM5V!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa68b488d-2f6e-4362-bbd9-5a46bbff3236_855x141.webp&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!jM5V!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa68b488d-2f6e-4362-bbd9-5a46bbff3236_855x141.webp 424w, https://substackcdn.com/image/fetch/$s_!jM5V!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa68b488d-2f6e-4362-bbd9-5a46bbff3236_855x141.webp 848w, https://substackcdn.com/image/fetch/$s_!jM5V!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa68b488d-2f6e-4362-bbd9-5a46bbff3236_855x141.webp 1272w, https://substackcdn.com/image/fetch/$s_!jM5V!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa68b488d-2f6e-4362-bbd9-5a46bbff3236_855x141.webp 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/a68b488d-2f6e-4362-bbd9-5a46bbff3236_855x141.webp&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:141,&quot;width&quot;:855,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:18458,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/webp&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/160652329?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa68b488d-2f6e-4362-bbd9-5a46bbff3236_855x141.webp&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;141&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!jM5V!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa68b488d-2f6e-4362-bbd9-5a46bbff3236_855x141.webp&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!jM5V!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa68b488d-2f6e-4362-bbd9-5a46bbff3236_855x141.webp 424w, https://substackcdn.com/image/fetch/$s_!jM5V!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa68b488d-2f6e-4362-bbd9-5a46bbff3236_855x141.webp 848w, https://substackcdn.com/image/fetch/$s_!jM5V!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa68b488d-2f6e-4362-bbd9-5a46bbff3236_855x141.webp 1272w, https://substackcdn.com/image/fetch/$s_!jM5V!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa68b488d-2f6e-4362-bbd9-5a46bbff3236_855x141.webp 1456w&quot; width=&quot;855&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
      &lt;div&gt;
      &lt;/div&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   I think a deadlock case can be more general than what AMD describes. If every thread in a SIMD needs to allocate more registers, but hardware doesn’t have enough free registers to satisfy any request, every thread will get stuck forever. That’s a deadlock, even if there are technically registers available.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!QwyM!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8bcbba48-90cc-48ef-a7c7-505eca11b196_810x439.webp&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!QwyM!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8bcbba48-90cc-48ef-a7c7-505eca11b196_810x439.webp 424w, https://substackcdn.com/image/fetch/$s_!QwyM!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8bcbba48-90cc-48ef-a7c7-505eca11b196_810x439.webp 848w, https://substackcdn.com/image/fetch/$s_!QwyM!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8bcbba48-90cc-48ef-a7c7-505eca11b196_810x439.webp 1272w, https://substackcdn.com/image/fetch/$s_!QwyM!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8bcbba48-90cc-48ef-a7c7-505eca11b196_810x439.webp 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/8bcbba48-90cc-48ef-a7c7-505eca11b196_810x439.webp&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:439,&quot;width&quot;:810,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:6376,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/webp&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/160652329?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8bcbba48-90cc-48ef-a7c7-505eca11b196_810x439.webp&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;439&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!QwyM!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8bcbba48-90cc-48ef-a7c7-505eca11b196_810x439.webp&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!QwyM!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8bcbba48-90cc-48ef-a7c7-505eca11b196_810x439.webp 424w, https://substackcdn.com/image/fetch/$s_!QwyM!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8bcbba48-90cc-48ef-a7c7-505eca11b196_810x439.webp 848w, https://substackcdn.com/image/fetch/$s_!QwyM!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8bcbba48-90cc-48ef-a7c7-505eca11b196_810x439.webp 1272w, https://substackcdn.com/image/fetch/$s_!QwyM!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8bcbba48-90cc-48ef-a7c7-505eca11b196_810x439.webp 1456w&quot; width=&quot;810&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   AMD mitigates some deadlock scenarios with a deadlock avoidance mode. The ISA manual is light on details, only saying it reserves just enough VGPRs for one thread to reach maximum VGPR allocation at all times. Each thread can allocate up to eight VGPR blocks, and one block comes reserved with the thread slot, so deadlock avoidance mode would reserve 7 VGPR blocks. I believe deadlock avoidance mode works by only allowing one thread to allocate registers from the reserved pool at a time. In short:
  &lt;/p&gt;
  &lt;ol&gt;
   &lt;li&gt;
    &lt;p&gt;
     Base case: No reserved registers allocated. Any request can proceed
    &lt;/p&gt;
   &lt;/li&gt;
   &lt;li&gt;
    &lt;p&gt;
     From (1), any combination of allocation requests from all threads will allow at least one thread (say thread A) to succeed
    &lt;/p&gt;
   &lt;/li&gt;
   &lt;li&gt;
    &lt;p&gt;
     From (2), no other thread can allocate from the reserved pool, allowing thread A to increase its register allocation to the maximum should it need to.
    &lt;/p&gt;
   &lt;/li&gt;
   &lt;li&gt;
    &lt;p&gt;
     Eventually A will leave its high register usage code section, or terminate completely, and thus free up registers for other threads to do the same.
    &lt;/p&gt;
   &lt;/li&gt;
  &lt;/ol&gt;
  &lt;p&gt;
   Needless to say, that situation isn’t great for performance because it can serialize useful work across threads. But getting to the finish line slowly is better than not getting there at all.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!hy5y!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F023a40ca-920e-4308-96dc-b4d78e7f60f5_552x334.webp&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!hy5y!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F023a40ca-920e-4308-96dc-b4d78e7f60f5_552x334.webp 424w, https://substackcdn.com/image/fetch/$s_!hy5y!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F023a40ca-920e-4308-96dc-b4d78e7f60f5_552x334.webp 848w, https://substackcdn.com/image/fetch/$s_!hy5y!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F023a40ca-920e-4308-96dc-b4d78e7f60f5_552x334.webp 1272w, https://substackcdn.com/image/fetch/$s_!hy5y!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F023a40ca-920e-4308-96dc-b4d78e7f60f5_552x334.webp 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/023a40ca-920e-4308-96dc-b4d78e7f60f5_552x334.webp&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:334,&quot;width&quot;:552,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:6912,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/webp&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/160652329?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F023a40ca-920e-4308-96dc-b4d78e7f60f5_552x334.webp&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;334&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!hy5y!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F023a40ca-920e-4308-96dc-b4d78e7f60f5_552x334.webp&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!hy5y!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F023a40ca-920e-4308-96dc-b4d78e7f60f5_552x334.webp 424w, https://substackcdn.com/image/fetch/$s_!hy5y!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F023a40ca-920e-4308-96dc-b4d78e7f60f5_552x334.webp 848w, https://substackcdn.com/image/fetch/$s_!hy5y!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F023a40ca-920e-4308-96dc-b4d78e7f60f5_552x334.webp 1272w, https://substackcdn.com/image/fetch/$s_!hy5y!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F023a40ca-920e-4308-96dc-b4d78e7f60f5_552x334.webp 1456w&quot; width=&quot;552&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Deadlock avoidance mode isn’t foolproof. If the programmer manages to meet three conditions:
  &lt;/p&gt;
  &lt;ol&gt;
   &lt;li&gt;
    &lt;p&gt;
     Two threads need to allocate registers
    &lt;/p&gt;
   &lt;/li&gt;
   &lt;li&gt;
    &lt;p&gt;
     The high register usage sections of both threads depend on each other, for example in a producer consumer model
    &lt;/p&gt;
   &lt;/li&gt;
   &lt;li&gt;
    &lt;p&gt;
     No other thread can give up their registers until the two threads above make progress
    &lt;/p&gt;
   &lt;/li&gt;
  &lt;/ol&gt;
  &lt;p&gt;
   Then they can run into a deadlock even with deadlock avoidance mode enabled. Programmers should probably avoid cross-thread dependencies in dynamic VGPR mode, unless they’re confident threads only wait on each other in low VGPR usage sections.
  &lt;/p&gt;
  &lt;h3 class=&quot;header-anchor-post&quot;&gt;
   Dynamic VGPR Mode Limitations
  &lt;/h3&gt;
  &lt;p&gt;
   As with many new features, dynamic VGPR mode isn’t a one-size-fits-all solution. It’s narrowly targeted to start, and can only be used with wave32 compute shaders. Graphics shaders like pixel and vertex shaders can only use the regular non-dynamic launch mode. The same goes for wave64 shaders of any type.
  &lt;/p&gt;
  &lt;p&gt;
   A workgroup of threads launched in dynamic VGPR mode will “take over” the equivalent of a GPU core. That would be a Workgroup Processor (WGP) in WGP mode, or a Compute Unit (CU) in CU mode. Thus dynamic and non-dynamic threads can’t coexist on the same GPU core.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!nAyy!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa5a1bb28-cde0-43c1-b1f0-0858498cb05e_325x240.webp&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!nAyy!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa5a1bb28-cde0-43c1-b1f0-0858498cb05e_325x240.webp 424w, https://substackcdn.com/image/fetch/$s_!nAyy!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa5a1bb28-cde0-43c1-b1f0-0858498cb05e_325x240.webp 848w, https://substackcdn.com/image/fetch/$s_!nAyy!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa5a1bb28-cde0-43c1-b1f0-0858498cb05e_325x240.webp 1272w, https://substackcdn.com/image/fetch/$s_!nAyy!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa5a1bb28-cde0-43c1-b1f0-0858498cb05e_325x240.webp 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/a5a1bb28-cde0-43c1-b1f0-0858498cb05e_325x240.webp&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:240,&quot;width&quot;:325,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:6238,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/webp&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/160652329?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa5a1bb28-cde0-43c1-b1f0-0858498cb05e_325x240.webp&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;240&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!nAyy!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa5a1bb28-cde0-43c1-b1f0-0858498cb05e_325x240.webp&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!nAyy!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa5a1bb28-cde0-43c1-b1f0-0858498cb05e_325x240.webp 424w, https://substackcdn.com/image/fetch/$s_!nAyy!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa5a1bb28-cde0-43c1-b1f0-0858498cb05e_325x240.webp 848w, https://substackcdn.com/image/fetch/$s_!nAyy!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa5a1bb28-cde0-43c1-b1f0-0858498cb05e_325x240.webp 1272w, https://substackcdn.com/image/fetch/$s_!nAyy!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa5a1bb28-cde0-43c1-b1f0-0858498cb05e_325x240.webp 1456w&quot; width=&quot;325&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
      &lt;div&gt;
      &lt;/div&gt;
     &lt;/div&gt;
    &lt;/a&gt;
    &lt;figcaption class=&quot;image-caption&quot;&gt;
     Registers used to specify various compute program launch parameters
    &lt;/figcaption&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   &lt;span&gt;
    Dynamic VGPR mode may be less efficient at using register file capacity. Each enabled thread slot gets a reserved VGPR block, regardless of whether a thread is actually running in that slot. A workload that doesn’t have enough parallelism to fill all enabled thread slots would waste those reserved registers. Deadlock avoidance mode would set aside more registers that could have been easily allocated in non-dynamic mode. Drivers can reduce reserved register count by disabling deadlock avoidance mode or reducing thread slot count. Both of those options come with obvious downsides. In wave32 mode, non-dynamic register mode can allocate up to 256 registers in 24 entry blocks
   &lt;/span&gt;
   &lt;sup&gt;
    a
   &lt;/sup&gt;
   &lt;span&gt;
    on current RDNA 4 GPUs. That offers finer granularity than the 32 entry blocks needed to give a thread 256 registers in dynamic VGPR mode.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;h2 class=&quot;header-anchor-post&quot;&gt;
   Nvidia’s Dynamic Register Allocation
  &lt;/h2&gt;
  &lt;p&gt;
   &lt;span&gt;
    AMD isn’t the only GPU maker that lets a thread adjust register allocation mid-execution. Nvidia introduced a
   &lt;/span&gt;
   &lt;code&gt;
    setmaxnreg
   &lt;/code&gt;
   &lt;span&gt;
    PTX instruction in Hopper, and that’s carried forward to Blackwell consumer GPUs.
   &lt;/span&gt;
   &lt;code&gt;
    setmaxnreg
   &lt;/code&gt;
   &lt;span&gt;
    superficially acts like AMD’s
   &lt;/span&gt;
   &lt;code&gt;
    s_alloc_vgpr
   &lt;/code&gt;
   &lt;span&gt;
    , letting the calling thread request a different register allocation. However Nvidia’s dynamic register allocation works very differently from AMD’s, and is probably better called register reassignment. Nvidia for their part never gave this mechanism a name.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   &lt;span&gt;
    Nvidia doesn’t use a separate launch mode. Kernels always launch the regular way, with a specified register allocation that also determines how many threads they can run concurrently. For example a compute shader that uses 96 registers on Blackwell will only be able to run 5 concurrent threads in each SM sub-partition. After threads launch, they can call
   &lt;/span&gt;
   &lt;code&gt;
    setmaxnreg
   &lt;/code&gt;
   &lt;span&gt;
    to shift registers between threads in the same workgroup. Unlike
   &lt;/span&gt;
   &lt;code&gt;
    s_alloc_vgpr
   &lt;/code&gt;
   &lt;span&gt;
    ,
   &lt;/span&gt;
   &lt;code&gt;
    setmaxnreg
   &lt;/code&gt;
   &lt;span&gt;
    ‘s register pool is whatever the workgroup started out with. If every thread calls
   &lt;/span&gt;
   &lt;code&gt;
    setmaxnreg
   &lt;/code&gt;
   &lt;span&gt;
    and requested register count across threads is greater than what the workgroup started with, they will deadlock regardless of how much free space the register file may have.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!ZE_W!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F59c69e9a-d8ed-4e8e-ad9b-c8331939f2ad_724x274.webp&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!ZE_W!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F59c69e9a-d8ed-4e8e-ad9b-c8331939f2ad_724x274.webp 424w, https://substackcdn.com/image/fetch/$s_!ZE_W!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F59c69e9a-d8ed-4e8e-ad9b-c8331939f2ad_724x274.webp 848w, https://substackcdn.com/image/fetch/$s_!ZE_W!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F59c69e9a-d8ed-4e8e-ad9b-c8331939f2ad_724x274.webp 1272w, https://substackcdn.com/image/fetch/$s_!ZE_W!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F59c69e9a-d8ed-4e8e-ad9b-c8331939f2ad_724x274.webp 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/59c69e9a-d8ed-4e8e-ad9b-c8331939f2ad_724x274.webp&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:274,&quot;width&quot;:724,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:5532,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/webp&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/160652329?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F59c69e9a-d8ed-4e8e-ad9b-c8331939f2ad_724x274.webp&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;274&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!ZE_W!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F59c69e9a-d8ed-4e8e-ad9b-c8331939f2ad_724x274.webp&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!ZE_W!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F59c69e9a-d8ed-4e8e-ad9b-c8331939f2ad_724x274.webp 424w, https://substackcdn.com/image/fetch/$s_!ZE_W!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F59c69e9a-d8ed-4e8e-ad9b-c8331939f2ad_724x274.webp 848w, https://substackcdn.com/image/fetch/$s_!ZE_W!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F59c69e9a-d8ed-4e8e-ad9b-c8331939f2ad_724x274.webp 1272w, https://substackcdn.com/image/fetch/$s_!ZE_W!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F59c69e9a-d8ed-4e8e-ad9b-c8331939f2ad_724x274.webp 1456w&quot; width=&quot;724&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   &lt;span&gt;
    As an aside,
   &lt;/span&gt;
   &lt;code&gt;
    setmaxnreg
   &lt;/code&gt;
   &lt;span&gt;
    is a PTX instruction. PTX in an intermediate level programming language for Nvidia GPUs with an assembly-like syntax. It isn’t assembly, which Nvidia calls SASS. However PTX is meant to give more control over emitted instructions than a C-like high level language. Therefore PTX instructions often have similarities with SASS instructions, and can offer hints about the underlying ISA.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!dlhx!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F42e6374a-f9cc-4617-af23-729cb6be2bbd_1062x382.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!dlhx!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F42e6374a-f9cc-4617-af23-729cb6be2bbd_1062x382.png 424w, https://substackcdn.com/image/fetch/$s_!dlhx!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F42e6374a-f9cc-4617-af23-729cb6be2bbd_1062x382.png 848w, https://substackcdn.com/image/fetch/$s_!dlhx!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F42e6374a-f9cc-4617-af23-729cb6be2bbd_1062x382.png 1272w, https://substackcdn.com/image/fetch/$s_!dlhx!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F42e6374a-f9cc-4617-af23-729cb6be2bbd_1062x382.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/42e6374a-f9cc-4617-af23-729cb6be2bbd_1062x382.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:382,&quot;width&quot;:1062,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:60623,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/160652329?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F42e6374a-f9cc-4617-af23-729cb6be2bbd_1062x382.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;382&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!dlhx!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F42e6374a-f9cc-4617-af23-729cb6be2bbd_1062x382.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!dlhx!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F42e6374a-f9cc-4617-af23-729cb6be2bbd_1062x382.png 424w, https://substackcdn.com/image/fetch/$s_!dlhx!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F42e6374a-f9cc-4617-af23-729cb6be2bbd_1062x382.png 848w, https://substackcdn.com/image/fetch/$s_!dlhx!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F42e6374a-f9cc-4617-af23-729cb6be2bbd_1062x382.png 1272w, https://substackcdn.com/image/fetch/$s_!dlhx!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F42e6374a-f9cc-4617-af23-729cb6be2bbd_1062x382.png 1456w&quot; width=&quot;1062&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   &lt;span&gt;
    The semantics around
   &lt;/span&gt;
   &lt;code&gt;
    setmaxnreg
   &lt;/code&gt;
   &lt;span&gt;
    suggest Nvidia’s mechanism is geared towards tightly orchestrated register swapping between threads. It’s not like AMD’s free-flowing dynamic allocation behavior where different threads can be out-of-phase with each other, so to speak. Nvidia’s “warpgroup” likely refers to threads sharing the same SM sub-partition, and thus the same register file.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;blockquote&gt;
   &lt;p&gt;
    &lt;span&gt;
     The same
    &lt;/span&gt;
    &lt;code&gt;
     setmaxnreg
    &lt;/code&gt;
    &lt;span&gt;
     instruction must be executed by all warps in a warpgroup. After executing a
    &lt;/span&gt;
    &lt;code&gt;
     setmaxnreg
    &lt;/code&gt;
    &lt;span&gt;
     instruction, all warps in the warpgroup must synchronize explicitly before executing subsequent setmaxnreg instructions. If a
    &lt;/span&gt;
    &lt;code&gt;
     setmaxnreg
    &lt;/code&gt;
    &lt;span&gt;
     instruction is not executed by all warps in the warpgroup, then the behavior is undefined
    &lt;/span&gt;
   &lt;/p&gt;
   &lt;p&gt;
    &lt;a href=&quot;https://docs.nvidia.com/cuda/parallel-thread-execution/index.html#miscellaneous-instructions-setmaxnreg&quot; rel=&quot;&quot;&gt;
     Miscallenous Instructions, Parallel Thread Execution ISA Version 8.7
    &lt;/a&gt;
   &lt;/p&gt;
  &lt;/blockquote&gt;
  &lt;p&gt;
   &lt;span&gt;
    A determined developer could emulate AMD’s initial dynamic VGPR state on Nvidia by with a workgroup that allocates all register file capacity in a SM, then immediately has every thread trim its allocation down to the minimum. But after that, synchronization requirements on Nvidia would make it difficult to emulate AMD’s independent allocation behavior.
   &lt;/span&gt;
   &lt;code&gt;
    setmaxnreg
   &lt;/code&gt;
   &lt;span&gt;
    ‘s scalar-only input makes it harder to look up a desired allocation value from memory. Of course difficult doesn’t mean impossible. A register input can be emulated with a sufficient application of conditional branches, but let’s not think about that too much.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!QNam!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fdbab9e37-ba96-4cfb-b7e8-17571e981aec_2163x1440.webp&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!QNam!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fdbab9e37-ba96-4cfb-b7e8-17571e981aec_2163x1440.webp 424w, https://substackcdn.com/image/fetch/$s_!QNam!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fdbab9e37-ba96-4cfb-b7e8-17571e981aec_2163x1440.webp 848w, https://substackcdn.com/image/fetch/$s_!QNam!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fdbab9e37-ba96-4cfb-b7e8-17571e981aec_2163x1440.webp 1272w, https://substackcdn.com/image/fetch/$s_!QNam!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fdbab9e37-ba96-4cfb-b7e8-17571e981aec_2163x1440.webp 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/dbab9e37-ba96-4cfb-b7e8-17571e981aec_2163x1440.webp&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:969,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:825958,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/webp&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/160652329?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fdbab9e37-ba96-4cfb-b7e8-17571e981aec_2163x1440.webp&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;969&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!QNam!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fdbab9e37-ba96-4cfb-b7e8-17571e981aec_2163x1440.webp&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!QNam!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fdbab9e37-ba96-4cfb-b7e8-17571e981aec_2163x1440.webp 424w, https://substackcdn.com/image/fetch/$s_!QNam!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fdbab9e37-ba96-4cfb-b7e8-17571e981aec_2163x1440.webp 848w, https://substackcdn.com/image/fetch/$s_!QNam!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fdbab9e37-ba96-4cfb-b7e8-17571e981aec_2163x1440.webp 1272w, https://substackcdn.com/image/fetch/$s_!QNam!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fdbab9e37-ba96-4cfb-b7e8-17571e981aec_2163x1440.webp 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
    &lt;figcaption class=&quot;image-caption&quot;&gt;
     Not Hopper or Blackwell, but have a Nvidia related image to spice things up. I’m sick of seeing AI generated images everywhere, so I’m going to start taking more pictures with my DSLR and post them
    &lt;/figcaption&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   In exchange for less flexibility, Nvidia should have no problem mixing “dynamic” and regular threads on the same SM. Nvidia can also adjust register allocation with finer granularity than AMD. The latter can be especially important because Nvidia has smaller 64 KB register files, and waste from “slack” register file usage can be even more painful.
  &lt;/p&gt;
  &lt;p&gt;
   Nvidia’s register reassignment mechanism isn’t well suited for AMD’s raytracing use case. However, Nvidia’s raytracing design likely doesn’t need it. Nvidia hardware uses a DXR 1.0 raytracing model. If it works like Intel, raytracing stages execute as separate thread launches on the SMs. Regular vector register allocation that happens at each thread launch would already solve the problem AMD faces with all-in-one raytracing shaders.
  &lt;/p&gt;
  &lt;h2 class=&quot;header-anchor-post&quot;&gt;
   And Intel?
  &lt;/h2&gt;
  &lt;p&gt;
   Intel’s documentation explicitly states that raytracing stages execute as separate thread launches. But even if they didn’t, Intel would benefit less from dynamic register allocation than AMD. Intel GPUs used fixed register allocation until very recently. Each thread gets 128 registers whether it needs them or not. More recent GPUs like Battlemage add a “large GRF” mode that cuts occupancy in half to give each thread 256 registers. There’s no option in between.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!6rRR!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Faec9a9ca-4273-4bbb-8ddb-00d2dc91d8e4_2163x1440.webp&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!6rRR!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Faec9a9ca-4273-4bbb-8ddb-00d2dc91d8e4_2163x1440.webp 424w, https://substackcdn.com/image/fetch/$s_!6rRR!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Faec9a9ca-4273-4bbb-8ddb-00d2dc91d8e4_2163x1440.webp 848w, https://substackcdn.com/image/fetch/$s_!6rRR!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Faec9a9ca-4273-4bbb-8ddb-00d2dc91d8e4_2163x1440.webp 1272w, https://substackcdn.com/image/fetch/$s_!6rRR!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Faec9a9ca-4273-4bbb-8ddb-00d2dc91d8e4_2163x1440.webp 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/aec9a9ca-4273-4bbb-8ddb-00d2dc91d8e4_2163x1440.webp&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:969,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:153496,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/webp&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/160652329?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Faec9a9ca-4273-4bbb-8ddb-00d2dc91d8e4_2163x1440.webp&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;969&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!6rRR!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Faec9a9ca-4273-4bbb-8ddb-00d2dc91d8e4_2163x1440.webp&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!6rRR!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Faec9a9ca-4273-4bbb-8ddb-00d2dc91d8e4_2163x1440.webp 424w, https://substackcdn.com/image/fetch/$s_!6rRR!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Faec9a9ca-4273-4bbb-8ddb-00d2dc91d8e4_2163x1440.webp 848w, https://substackcdn.com/image/fetch/$s_!6rRR!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Faec9a9ca-4273-4bbb-8ddb-00d2dc91d8e4_2163x1440.webp 1272w, https://substackcdn.com/image/fetch/$s_!6rRR!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Faec9a9ca-4273-4bbb-8ddb-00d2dc91d8e4_2163x1440.webp 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
    &lt;figcaption class=&quot;image-caption&quot;&gt;
     Intel’s Arc B580
    &lt;/figcaption&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Therefore Intel can maintain full occupancy with a higher per-thread register count than either AMD or Nvidia. Dynamic VGPR allocation is only useful if it helps increase occupancy in the first place – that is, the GPU can’t achieve full occupancy with non-dynamic VGPR allocation. If Intel were to dynamically allocate registers, the very coarse register allocation granularity may result in a more threads getting blocked than on AMD.
  &lt;/p&gt;
  &lt;h2 class=&quot;header-anchor-post&quot;&gt;
   Final Words
  &lt;/h2&gt;
  &lt;p&gt;
   AMD’s dynamic VGPR allocation mode is an exciting new feature. It addresses a drawback with AMD’s inline raytracing technique, letting AMD keep more threads in flight without increasing register file capacity. That in turn makes RDNA 4 less latency sensitive in raytracing workloads, likely with minimal power and area cost. Raytracing shaders that use more than 96 VGPRs are attractive targets for the dynamic VGPR feature.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!euxD!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F92ba099a-d6c3-4b1f-98b8-7a5dd1e43cb5_1920x1040.webp&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!euxD!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F92ba099a-d6c3-4b1f-98b8-7a5dd1e43cb5_1920x1040.webp 424w, https://substackcdn.com/image/fetch/$s_!euxD!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F92ba099a-d6c3-4b1f-98b8-7a5dd1e43cb5_1920x1040.webp 848w, https://substackcdn.com/image/fetch/$s_!euxD!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F92ba099a-d6c3-4b1f-98b8-7a5dd1e43cb5_1920x1040.webp 1272w, https://substackcdn.com/image/fetch/$s_!euxD!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F92ba099a-d6c3-4b1f-98b8-7a5dd1e43cb5_1920x1040.webp 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/92ba099a-d6c3-4b1f-98b8-7a5dd1e43cb5_1920x1040.webp&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:789,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:95692,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/webp&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/160652329?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F92ba099a-d6c3-4b1f-98b8-7a5dd1e43cb5_1920x1040.webp&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;789&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!euxD!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F92ba099a-d6c3-4b1f-98b8-7a5dd1e43cb5_1920x1040.webp&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!euxD!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F92ba099a-d6c3-4b1f-98b8-7a5dd1e43cb5_1920x1040.webp 424w, https://substackcdn.com/image/fetch/$s_!euxD!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F92ba099a-d6c3-4b1f-98b8-7a5dd1e43cb5_1920x1040.webp 848w, https://substackcdn.com/image/fetch/$s_!euxD!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F92ba099a-d6c3-4b1f-98b8-7a5dd1e43cb5_1920x1040.webp 1272w, https://substackcdn.com/image/fetch/$s_!euxD!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F92ba099a-d6c3-4b1f-98b8-7a5dd1e43cb5_1920x1040.webp 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
    &lt;figcaption class=&quot;image-caption&quot;&gt;
     Profiling Quake 2 RTX under Radeon Graphics Profiler. AMD chose to use fully inlined raytracing shaders, and no dynamic VGPR allocation, despite the shader being limited to 9 threads (out of 16 slots) due to VGPR usage.
    &lt;/figcaption&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Raytracing shaders on AMD can either inline all raytracing stages, or use an “indirect” mode where different stages are executed in separate function calls. So far, I’ve only seen AMD use dynamic VGPR allocation in indirect mode. Raytracing stages all take place within the same thread in both modes, but perhaps function call sites provide a convenient place to adjust VGPR allocation. After all, a function has clearly defined entry and exit points. AMD often prefers to inline raytracing stages to avoid function call overhead. I have not seen dynamic VGPR mode used when raytracing stages are inlined, even when raytracing shader occupancy is VGPR limited.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!wCr5!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd5e20d08-8e9b-417c-8622-f0ab5860bb52_2000x492.webp&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!wCr5!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd5e20d08-8e9b-417c-8622-f0ab5860bb52_2000x492.webp 424w, https://substackcdn.com/image/fetch/$s_!wCr5!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd5e20d08-8e9b-417c-8622-f0ab5860bb52_2000x492.webp 848w, https://substackcdn.com/image/fetch/$s_!wCr5!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd5e20d08-8e9b-417c-8622-f0ab5860bb52_2000x492.webp 1272w, https://substackcdn.com/image/fetch/$s_!wCr5!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd5e20d08-8e9b-417c-8622-f0ab5860bb52_2000x492.webp 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/d5e20d08-8e9b-417c-8622-f0ab5860bb52_2000x492.webp&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:358,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:40152,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/webp&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/160652329?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd5e20d08-8e9b-417c-8622-f0ab5860bb52_2000x492.webp&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;358&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!wCr5!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd5e20d08-8e9b-417c-8622-f0ab5860bb52_2000x492.webp&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!wCr5!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd5e20d08-8e9b-417c-8622-f0ab5860bb52_2000x492.webp 424w, https://substackcdn.com/image/fetch/$s_!wCr5!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd5e20d08-8e9b-417c-8622-f0ab5860bb52_2000x492.webp 848w, https://substackcdn.com/image/fetch/$s_!wCr5!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd5e20d08-8e9b-417c-8622-f0ab5860bb52_2000x492.webp 1272w, https://substackcdn.com/image/fetch/$s_!wCr5!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd5e20d08-8e9b-417c-8622-f0ab5860bb52_2000x492.webp 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
      &lt;div&gt;
      &lt;/div&gt;
     &lt;/div&gt;
    &lt;/a&gt;
    &lt;figcaption class=&quot;image-caption&quot;&gt;
     The RX 9070 provided by AMD
    &lt;/figcaption&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   &lt;span&gt;
    Certainly
   &lt;/span&gt;
   &lt;code&gt;
    s_alloc_vgpr
   &lt;/code&gt;
   &lt;span&gt;
    isn’t limited to function call sites, so I wonder if future AMD drivers will be more trigger-happy with dynamic VGPR mode. Conversely, AMD uses dynamic VGPR allocation in indirect mode even when non-dynamic allocation could have achieved full occupancy. Doing so shouldn’t hurt performance, but it does suggest driver decisions aren’t so fine grained at the moment.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!Ld4v!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd581fedf-9944-4276-b294-03fdde3e6d2f_933x873.webp&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!Ld4v!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd581fedf-9944-4276-b294-03fdde3e6d2f_933x873.webp 424w, https://substackcdn.com/image/fetch/$s_!Ld4v!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd581fedf-9944-4276-b294-03fdde3e6d2f_933x873.webp 848w, https://substackcdn.com/image/fetch/$s_!Ld4v!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd581fedf-9944-4276-b294-03fdde3e6d2f_933x873.webp 1272w, https://substackcdn.com/image/fetch/$s_!Ld4v!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd581fedf-9944-4276-b294-03fdde3e6d2f_933x873.webp 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/d581fedf-9944-4276-b294-03fdde3e6d2f_933x873.webp&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:873,&quot;width&quot;:933,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:27596,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/webp&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/160652329?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd581fedf-9944-4276-b294-03fdde3e6d2f_933x873.webp&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;873&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!Ld4v!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd581fedf-9944-4276-b294-03fdde3e6d2f_933x873.webp&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!Ld4v!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd581fedf-9944-4276-b294-03fdde3e6d2f_933x873.webp 424w, https://substackcdn.com/image/fetch/$s_!Ld4v!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd581fedf-9944-4276-b294-03fdde3e6d2f_933x873.webp 848w, https://substackcdn.com/image/fetch/$s_!Ld4v!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd581fedf-9944-4276-b294-03fdde3e6d2f_933x873.webp 1272w, https://substackcdn.com/image/fetch/$s_!Ld4v!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd581fedf-9944-4276-b294-03fdde3e6d2f_933x873.webp 1456w&quot; width=&quot;933&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
    &lt;figcaption class=&quot;image-caption&quot;&gt;
     Setting “Disable raytracing shader inlining” using AMD’s tools makes the driver use raytracing shaders with function calls, which also use dynamic register allocation. Done here to illustrate effect on occupancy
    &lt;/figcaption&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   &lt;span&gt;
    Generic compute workloads could benefit from dynamic VGPR mode too, assuming AMD does work to expose the feature through various toolchains.
   &lt;/span&gt;
   &lt;a href=&quot;https://github.com/NVIDIA/cutlass/issues/2007&quot; rel=&quot;&quot;&gt;
    Some
   &lt;/a&gt;
   &lt;span&gt;
    of Nvidia’s GPGPU libraries take advantage of
   &lt;/span&gt;
   &lt;code&gt;
    setmaxnreg
   &lt;/code&gt;
   &lt;span&gt;
    , so there’s probably compute applications for AMD’s dynamic VGPR feature too.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   &lt;span&gt;
    At a higher level, features like dynamic VGPR allocation paint a picture where AMD’s GPU efforts are progressing at a brisk pace. It doesn’t feel like an easy feature to implement. Thread register allocation could be non-contiguous in the physical register file, complicating register addressing under the hood. Features like deadlock avoidance would demand additional work. With regards to raytracing, dynamic VGPR allocation shows there’s plenty of progress to be made within AMD’s single-shader raytracing model. Along with
   &lt;/span&gt;
   &lt;a href=&quot;https://chipsandcheese.com/p/rdna-4s-out-of-order-memory-accesses&quot; rel=&quot;&quot;&gt;
    breaking false cross-wave memory dependencies
   &lt;/a&gt;
   &lt;span&gt;
    , AMD seems determined to keep stamping out performance limiters with each generation.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   &lt;span&gt;
    If you like the content then consider heading over to the
   &lt;/span&gt;
   &lt;a href=&quot;https://www.patreon.com/ChipsandCheese&quot; rel=&quot;&quot;&gt;
    Patreon
   &lt;/a&gt;
   &lt;span&gt;
    or
   &lt;/span&gt;
   &lt;a href=&quot;https://www.paypal.com/donate/?hosted_button_id=4EMPH66SBGVSQ&quot; rel=&quot;&quot;&gt;
    PayPal
   &lt;/a&gt;
   &lt;span&gt;
    if you want to toss a few bucks to Chips and Cheese. Also consider joining the
   &lt;/span&gt;
   &lt;a href=&quot;https://discord.gg/TwVnRhxgY2&quot; rel=&quot;&quot;&gt;
    Discord
   &lt;/a&gt;
   &lt;span&gt;
    .
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;h2 class=&quot;header-anchor-post&quot;&gt;
   References
  &lt;/h2&gt;
  &lt;ol&gt;
   &lt;li&gt;
    &lt;p&gt;
     &lt;a href=&quot;https://www.amd.com/content/dam/amd/en/documents/radeon-tech-docs/instruction-set-architectures/rdna4-instruction-set-architecture.pdf&quot; rel=&quot;&quot;&gt;
      “RDNA 4” Instruction Set Architecture Reference Guide
     &lt;/a&gt;
    &lt;/p&gt;
   &lt;/li&gt;
   &lt;li&gt;
    &lt;p&gt;
     &lt;a href=&quot;https://docs.nvidia.com/cuda/parallel-thread-execution/#miscellaneous-instructions-setmaxnreg&quot; rel=&quot;&quot;&gt;
      Nvidia setmaxreg
     &lt;/a&gt;
    &lt;/p&gt;
   &lt;/li&gt;
  &lt;/ol&gt;
  &lt;h2 class=&quot;header-anchor-post&quot;&gt;
   Footnotes
  &lt;/h2&gt;
  &lt;p&gt;
   a. RDNA 4’s ISA manual indicates the 24 register allocation granularity only applies to devices with 1536 VGPRs per SIMD, or 192 KB register files. Other RDNA 4 devices allocate VGPRs in blocks of 16 registers, and likely have a 128 KB register file. RDNA 3 used smaller 128 KB register files in lower end devices, reserving 192 KB register files for the highest end SKUs. As RDNA 4 SKUs with non-192 KB register files do not exist at the time of writing, there is no need to discuss them in the article proper. However, such devices may launch in the future and it’s something to be aware of.
  &lt;/p&gt;
 &lt;/div&gt;
&lt;/div&gt;

</description>
</item>
<item>
<title> RDNA 4’s Raytracing Improvements </title>
<link>https://chipsandcheese.com/p/rdna-4s-raytracing-improvements</link>
<pubDate>Sat, 05 Jul 2025 22:18:54 -0000</pubDate>
<description>
&lt;div class=&quot;available-content&quot;&gt;
 &lt;div class=&quot;body markup&quot; dir=&quot;auto&quot;&gt;
  &lt;p&gt;
   Raytraced effects have gained increasing adoption in AAA titles, adding an extra graphics quality tier beyond traditional “ultra” settings. AMD has continuously advanced their raytracing implementation in response. Often, this involved fitting the GPU’s general architecture to the characteristics of raytracing workloads. On RDNA 4, examples include “out-of-order” memory access and dynamic register allocation. Both are targeted at raytracing, but other applications can benefit too, though perhaps not to the same degree.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!I-V9!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F424f041f-c090-4902-8a23-03c495989925_2000x1331.webp&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!I-V9!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F424f041f-c090-4902-8a23-03c495989925_2000x1331.webp 424w, https://substackcdn.com/image/fetch/$s_!I-V9!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F424f041f-c090-4902-8a23-03c495989925_2000x1331.webp 848w, https://substackcdn.com/image/fetch/$s_!I-V9!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F424f041f-c090-4902-8a23-03c495989925_2000x1331.webp 1272w, https://substackcdn.com/image/fetch/$s_!I-V9!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F424f041f-c090-4902-8a23-03c495989925_2000x1331.webp 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/424f041f-c090-4902-8a23-03c495989925_2000x1331.webp&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:969,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:42936,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/webp&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:false,&quot;topImage&quot;:true,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/161324659?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F424f041f-c090-4902-8a23-03c495989925_2000x1331.webp&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; fetchpriority=&quot;high&quot; height=&quot;969&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!I-V9!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F424f041f-c090-4902-8a23-03c495989925_2000x1331.webp&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!I-V9!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F424f041f-c090-4902-8a23-03c495989925_2000x1331.webp 424w, https://substackcdn.com/image/fetch/$s_!I-V9!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F424f041f-c090-4902-8a23-03c495989925_2000x1331.webp 848w, https://substackcdn.com/image/fetch/$s_!I-V9!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F424f041f-c090-4902-8a23-03c495989925_2000x1331.webp 1272w, https://substackcdn.com/image/fetch/$s_!I-V9!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F424f041f-c090-4902-8a23-03c495989925_2000x1331.webp 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
    &lt;figcaption class=&quot;image-caption&quot;&gt;
     RX 9070 Hellhound, with focus on the minimal LED lighting
    &lt;/figcaption&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!iC7a!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5030c0dc-646b-49a5-b522-08777c714796_1220x945.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!iC7a!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5030c0dc-646b-49a5-b522-08777c714796_1220x945.png 424w, https://substackcdn.com/image/fetch/$s_!iC7a!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5030c0dc-646b-49a5-b522-08777c714796_1220x945.png 848w, https://substackcdn.com/image/fetch/$s_!iC7a!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5030c0dc-646b-49a5-b522-08777c714796_1220x945.png 1272w, https://substackcdn.com/image/fetch/$s_!iC7a!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5030c0dc-646b-49a5-b522-08777c714796_1220x945.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/5030c0dc-646b-49a5-b522-08777c714796_1220x945.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:945,&quot;width&quot;:1220,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:115396,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:false,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/161324659?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5030c0dc-646b-49a5-b522-08777c714796_1220x945.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;945&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!iC7a!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5030c0dc-646b-49a5-b522-08777c714796_1220x945.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!iC7a!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5030c0dc-646b-49a5-b522-08777c714796_1220x945.png 424w, https://substackcdn.com/image/fetch/$s_!iC7a!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5030c0dc-646b-49a5-b522-08777c714796_1220x945.png 848w, https://substackcdn.com/image/fetch/$s_!iC7a!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5030c0dc-646b-49a5-b522-08777c714796_1220x945.png 1272w, https://substackcdn.com/image/fetch/$s_!iC7a!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5030c0dc-646b-49a5-b522-08777c714796_1220x945.png 1456w&quot; width=&quot;1220&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Compared to RDNA 3, RDNA 4’s RT IP 3.1 gets doubled intersection testing, oriented bounding boxes, primitive compression, and other goodies. Fixed function hardware is tightly tied to predefined data structures, and AMD has unsurprisingly updated those data structures to utilize those updated features.
  &lt;/p&gt;
  &lt;h2 class=&quot;header-anchor-post&quot;&gt;
   Doubled Intersection Engines, Wider BVH
  &lt;/h2&gt;
  &lt;p&gt;
   RDNA 4’s doubled intersection test throughput internally comes from putting two Intersection Engines in each Ray Accelerator. RDNA 2 and RDNA 3 Ray Accelerators presumably had a single Intersection Engine, capable of four box tests or one triangle test per cycle. RDNA 4’s two intersection engines together can do eight box tests or two triangle tests per cycle. A wider BVH is critical to utilizing that extra throughput.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!hitY!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3b3a2c29-3a1a-4182-940a-7be7e00fcfdd_1997x1120.webp&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!hitY!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3b3a2c29-3a1a-4182-940a-7be7e00fcfdd_1997x1120.webp 424w, https://substackcdn.com/image/fetch/$s_!hitY!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3b3a2c29-3a1a-4182-940a-7be7e00fcfdd_1997x1120.webp 848w, https://substackcdn.com/image/fetch/$s_!hitY!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3b3a2c29-3a1a-4182-940a-7be7e00fcfdd_1997x1120.webp 1272w, https://substackcdn.com/image/fetch/$s_!hitY!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3b3a2c29-3a1a-4182-940a-7be7e00fcfdd_1997x1120.webp 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/3b3a2c29-3a1a-4182-940a-7be7e00fcfdd_1997x1120.webp&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:817,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:94480,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/webp&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:false,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/161324659?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3b3a2c29-3a1a-4182-940a-7be7e00fcfdd_1997x1120.webp&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;817&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!hitY!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3b3a2c29-3a1a-4182-940a-7be7e00fcfdd_1997x1120.webp&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!hitY!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3b3a2c29-3a1a-4182-940a-7be7e00fcfdd_1997x1120.webp 424w, https://substackcdn.com/image/fetch/$s_!hitY!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3b3a2c29-3a1a-4182-940a-7be7e00fcfdd_1997x1120.webp 848w, https://substackcdn.com/image/fetch/$s_!hitY!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3b3a2c29-3a1a-4182-940a-7be7e00fcfdd_1997x1120.webp 1272w, https://substackcdn.com/image/fetch/$s_!hitY!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3b3a2c29-3a1a-4182-940a-7be7e00fcfdd_1997x1120.webp 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Raytracing uses a Bounding Volume Hierarchy (BVH) that recursively subdivides scene geometry. Each node represents a 3D box-shaped space, and links to sub-boxes. Intersection tests determine which link (child) to follow, until traversal reaches the bottom of the tree where the node contains triangle data instead of links to sub-boxes. Each traversal step therefore scopes down the intersection search to a smaller box. More intersection test throughput can speed up this traversal process.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!TMu-!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4f1c8a9b-e1b5-47db-975f-ef518a3587c1_917x342.webp&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!TMu-!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4f1c8a9b-e1b5-47db-975f-ef518a3587c1_917x342.webp 424w, https://substackcdn.com/image/fetch/$s_!TMu-!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4f1c8a9b-e1b5-47db-975f-ef518a3587c1_917x342.webp 848w, https://substackcdn.com/image/fetch/$s_!TMu-!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4f1c8a9b-e1b5-47db-975f-ef518a3587c1_917x342.webp 1272w, https://substackcdn.com/image/fetch/$s_!TMu-!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4f1c8a9b-e1b5-47db-975f-ef518a3587c1_917x342.webp 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/4f1c8a9b-e1b5-47db-975f-ef518a3587c1_917x342.webp&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:342,&quot;width&quot;:917,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:7812,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/webp&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:false,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/161324659?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4f1c8a9b-e1b5-47db-975f-ef518a3587c1_917x342.webp&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;342&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!TMu-!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4f1c8a9b-e1b5-47db-975f-ef518a3587c1_917x342.webp&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!TMu-!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4f1c8a9b-e1b5-47db-975f-ef518a3587c1_917x342.webp 424w, https://substackcdn.com/image/fetch/$s_!TMu-!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4f1c8a9b-e1b5-47db-975f-ef518a3587c1_917x342.webp 848w, https://substackcdn.com/image/fetch/$s_!TMu-!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4f1c8a9b-e1b5-47db-975f-ef518a3587c1_917x342.webp 1272w, https://substackcdn.com/image/fetch/$s_!TMu-!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4f1c8a9b-e1b5-47db-975f-ef518a3587c1_917x342.webp 1456w&quot; width=&quot;917&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   But speeding up traversal isn’t as simple as doubling up intersection test throughput. Each traversal step is a pointer chasing operation, which incurs memory latency. GPUs have high cache and DRAM latency compared to a CPU, but excel at parallel compute. RDNA 4 moves to 8-wide box nodes, up from 4-wide ones in RDNA 2 and 3. A wider box node presents more parallel work at each step. More importantly, it allows a “fatter” tree that requires fewer traversal steps to reach the bottom. Thus the 8-wide BVH shifts emphasis from latency to throughput, avoiding a key GPU weakness.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!v873!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F60d1b658-234b-4a4f-8a1b-6bb7106bcc92_652x343.webp&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!v873!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F60d1b658-234b-4a4f-8a1b-6bb7106bcc92_652x343.webp 424w, https://substackcdn.com/image/fetch/$s_!v873!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F60d1b658-234b-4a4f-8a1b-6bb7106bcc92_652x343.webp 848w, https://substackcdn.com/image/fetch/$s_!v873!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F60d1b658-234b-4a4f-8a1b-6bb7106bcc92_652x343.webp 1272w, https://substackcdn.com/image/fetch/$s_!v873!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F60d1b658-234b-4a4f-8a1b-6bb7106bcc92_652x343.webp 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/60d1b658-234b-4a4f-8a1b-6bb7106bcc92_652x343.webp&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:343,&quot;width&quot;:652,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:6984,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/webp&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/161324659?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F60d1b658-234b-4a4f-8a1b-6bb7106bcc92_652x343.webp&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;343&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!v873!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F60d1b658-234b-4a4f-8a1b-6bb7106bcc92_652x343.webp&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!v873!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F60d1b658-234b-4a4f-8a1b-6bb7106bcc92_652x343.webp 424w, https://substackcdn.com/image/fetch/$s_!v873!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F60d1b658-234b-4a4f-8a1b-6bb7106bcc92_652x343.webp 848w, https://substackcdn.com/image/fetch/$s_!v873!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F60d1b658-234b-4a4f-8a1b-6bb7106bcc92_652x343.webp 1272w, https://substackcdn.com/image/fetch/$s_!v873!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F60d1b658-234b-4a4f-8a1b-6bb7106bcc92_652x343.webp 1456w&quot; width=&quot;652&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   &lt;span&gt;
    Since RDNA 2, AMD has used a conservative raytracing strategy where a shader program controls the raytracing process from ray generation to result shading. During BVH traversal, a raytracing shader accesses RDNA 4’s Ray Accelerator with a new
   &lt;/span&gt;
   &lt;code&gt;
    IMAGE_BVH8_INTERSECT_RAY
   &lt;/code&gt;
   &lt;span&gt;
    instruction. This instruction takes a ray and a pointer to a 8-wide BVH node, and uses both Intersection Engines together. Output from both Intersection Engines head to a sorting unit, which can either sort the two 4-wide halves separately or sort across all eight results with a “wide sort” option. To speed up traversal, AMD had hardware traversal stack management in the LDS since RDNA 3. LDS stack management gets updated in RDNA 4 with a new
   &lt;/span&gt;
   &lt;code&gt;
    DS_BVH_STACK_PUSH8_POP1_RTN_B32
   &lt;/code&gt;
   &lt;span&gt;
    instruction
   &lt;/span&gt;
   &lt;sup&gt;
    1
   &lt;/sup&gt;
   &lt;span&gt;
    .
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!_YJr!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc1ab8a05-3730-4e38-ab2b-5ae012e48d82_1184x479.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!_YJr!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc1ab8a05-3730-4e38-ab2b-5ae012e48d82_1184x479.png 424w, https://substackcdn.com/image/fetch/$s_!_YJr!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc1ab8a05-3730-4e38-ab2b-5ae012e48d82_1184x479.png 848w, https://substackcdn.com/image/fetch/$s_!_YJr!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc1ab8a05-3730-4e38-ab2b-5ae012e48d82_1184x479.png 1272w, https://substackcdn.com/image/fetch/$s_!_YJr!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc1ab8a05-3730-4e38-ab2b-5ae012e48d82_1184x479.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/c1ab8a05-3730-4e38-ab2b-5ae012e48d82_1184x479.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:479,&quot;width&quot;:1184,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:89683,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/161324659?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc1ab8a05-3730-4e38-ab2b-5ae012e48d82_1184x479.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;479&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!_YJr!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc1ab8a05-3730-4e38-ab2b-5ae012e48d82_1184x479.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!_YJr!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc1ab8a05-3730-4e38-ab2b-5ae012e48d82_1184x479.png 424w, https://substackcdn.com/image/fetch/$s_!_YJr!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc1ab8a05-3730-4e38-ab2b-5ae012e48d82_1184x479.png 848w, https://substackcdn.com/image/fetch/$s_!_YJr!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc1ab8a05-3730-4e38-ab2b-5ae012e48d82_1184x479.png 1272w, https://substackcdn.com/image/fetch/$s_!_YJr!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc1ab8a05-3730-4e38-ab2b-5ae012e48d82_1184x479.png 1456w&quot; width=&quot;1184&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   &lt;span&gt;
    An 8-wide BVH isn’t the only way to use RDNA 4’s doubled intersection test throughput. RDNA 4 adds an
   &lt;/span&gt;
   &lt;code&gt;
    IMAGE_BVH_DUAL_INTERSECT_RAY
   &lt;/code&gt;
   &lt;span&gt;
    instruction, which takes a pair of 4-wide nodes and also uses both Intersection Engines. Like the BVH8 instruction,
   &lt;/span&gt;
   &lt;code&gt;
    IMAGE_BVH_DUAL_INTERSECT_RAY
   &lt;/code&gt;
   &lt;span&gt;
    produces two pairs of 4 intersection test results and can intermix the eight results with a “wide sort” option. The traversal side likewise gets a
   &lt;/span&gt;
   &lt;code&gt;
    DS_BVH_STACK_PUSH8_POP2_RTN_B64
   &lt;/code&gt;
   &lt;span&gt;
    instruction. AMD doesn’t describe the “BVH4x2” traversal algorithm, but it’s not hard to imagine what is considering what the two instructions above do. A ray can intersect multiple bounding boxes, creating multiple traversal paths. BVH4x2 almost certainly takes two of those paths in parallel, with two paths popped from the LDS and tested in the Ray Accelerator with each traversal step.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;
   So far I’ve only seen AMD generate 8-wide BVH-es for RDNA 4. That includes DirectX 12’s procedural geometry example, 3DMark tests, Cyberpunk 2077, Elden Ring, GTA V Enhanced Edition, and Quake 2 RTX. BVH4x2 traversal is less efficient than using a 8-wide BVH, because it requires more memory accesses and generates more LDS traffic. Furthermore, BVH4x2 relies in having at least two valid traversal paths to fully feed the Ray Accelerator, and how often that’s true may vary wildly depending on the ray in question. I’m not sure why AMD added a way to utilize both Intersection Engines with a 4-wide BVH.
  &lt;/p&gt;
  &lt;h2 class=&quot;header-anchor-post&quot;&gt;
   Oriented Bounding Boxes
  &lt;/h2&gt;
  &lt;p&gt;
   BVH-es traditionally use axis aligned bounding boxes (AABBs), meaning a box’s boundaries are aligned with the 3D world’s x, y, and z axes. Axis aligned boxes simplify intersection tests. However, game geometry is often not axis aligned. In those cases, an axis aligned box may end up much larger than the geometry it’s trying to contain, creating a lot of empty space. Rays that intersect the empty space end up taking useless traversal steps into the box before further intersection tests realize the path was useless.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!RuPw!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0c6c2aa0-cfb0-4818-a920-986bd7513645_2404x820.webp&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!RuPw!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0c6c2aa0-cfb0-4818-a920-986bd7513645_2404x820.webp 424w, https://substackcdn.com/image/fetch/$s_!RuPw!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0c6c2aa0-cfb0-4818-a920-986bd7513645_2404x820.webp 848w, https://substackcdn.com/image/fetch/$s_!RuPw!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0c6c2aa0-cfb0-4818-a920-986bd7513645_2404x820.webp 1272w, https://substackcdn.com/image/fetch/$s_!RuPw!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0c6c2aa0-cfb0-4818-a920-986bd7513645_2404x820.webp 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/0c6c2aa0-cfb0-4818-a920-986bd7513645_2404x820.webp&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:497,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:168664,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/webp&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/161324659?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0c6c2aa0-cfb0-4818-a920-986bd7513645_2404x820.webp&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;497&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!RuPw!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0c6c2aa0-cfb0-4818-a920-986bd7513645_2404x820.webp&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!RuPw!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0c6c2aa0-cfb0-4818-a920-986bd7513645_2404x820.webp 424w, https://substackcdn.com/image/fetch/$s_!RuPw!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0c6c2aa0-cfb0-4818-a920-986bd7513645_2404x820.webp 848w, https://substackcdn.com/image/fetch/$s_!RuPw!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0c6c2aa0-cfb0-4818-a920-986bd7513645_2404x820.webp 1272w, https://substackcdn.com/image/fetch/$s_!RuPw!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0c6c2aa0-cfb0-4818-a920-986bd7513645_2404x820.webp 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
    &lt;figcaption class=&quot;image-caption&quot;&gt;
     Chains hanging from Elden Ring’s Debate Parlor ceiling (RDNA 4 on the left and RDNA 2 on the right). RDNA 4 OBBs fit geometry better than axis-aligned boxes on RDNA 2. Screenshots are from Radeon Raytracing Analyzer with matched traversal counts
    &lt;/figcaption&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   &lt;span&gt;
    RDNA 4 addresses this with Oriented Bounding Boxes (OBBs), where the bounding box is rotated to better approximate geometry within it. Storing a 3×3 3D rotation matrix for each box would dramatically increase memory usage. RDNA 4 therefore strikes a compromise. Each box node only specifies one OBB rotation for all of its children. For further storage savings, the OBB matrix is not stored in the node at all. Instead, the node stores an OBB matrix index, which is looked up in a table of 104 predefined matrices. In code, the matrix is stored as 9 packed 6-bit indices, which refer to entries in a second level lookup table with 26 unique FP32 values
   &lt;/span&gt;
   &lt;sup&gt;
    3
   &lt;/sup&gt;
   &lt;span&gt;
    .
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!1GP_!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6d90be5e-34c3-4fcb-9920-8540fe1e17e8_1644x917.webp&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!1GP_!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6d90be5e-34c3-4fcb-9920-8540fe1e17e8_1644x917.webp 424w, https://substackcdn.com/image/fetch/$s_!1GP_!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6d90be5e-34c3-4fcb-9920-8540fe1e17e8_1644x917.webp 848w, https://substackcdn.com/image/fetch/$s_!1GP_!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6d90be5e-34c3-4fcb-9920-8540fe1e17e8_1644x917.webp 1272w, https://substackcdn.com/image/fetch/$s_!1GP_!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6d90be5e-34c3-4fcb-9920-8540fe1e17e8_1644x917.webp 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/6d90be5e-34c3-4fcb-9920-8540fe1e17e8_1644x917.webp&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:812,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:110082,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/webp&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/161324659?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6d90be5e-34c3-4fcb-9920-8540fe1e17e8_1644x917.webp&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;812&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!1GP_!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6d90be5e-34c3-4fcb-9920-8540fe1e17e8_1644x917.webp&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!1GP_!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6d90be5e-34c3-4fcb-9920-8540fe1e17e8_1644x917.webp 424w, https://substackcdn.com/image/fetch/$s_!1GP_!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6d90be5e-34c3-4fcb-9920-8540fe1e17e8_1644x917.webp 848w, https://substackcdn.com/image/fetch/$s_!1GP_!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6d90be5e-34c3-4fcb-9920-8540fe1e17e8_1644x917.webp 1272w, https://substackcdn.com/image/fetch/$s_!1GP_!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6d90be5e-34c3-4fcb-9920-8540fe1e17e8_1644x917.webp 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   AMD’s OBB strategy therefore takes a best-effort approach to reduce useless box intersections with minimal storage cost. It’s not trying to generate perfectly optimal bounding box rotations every time. Thanks to this strategy, 8-wide box nodes remain reasonably sized at 128 bytes, and continue to match RDNA’s cacheline length. While the lookup table specified in code doesn’t necessarily show the exact hardware implementation, a simplistic calculation indicates the lookup table would use about 800 bytes of storage. That would make it small enough to fit in a small ROM within the Ray Accelerator.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!Vg-V!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F725e9985-bd7b-491e-97ba-44adcd6f9a18_2450x1040.webp&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!Vg-V!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F725e9985-bd7b-491e-97ba-44adcd6f9a18_2450x1040.webp 424w, https://substackcdn.com/image/fetch/$s_!Vg-V!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F725e9985-bd7b-491e-97ba-44adcd6f9a18_2450x1040.webp 848w, https://substackcdn.com/image/fetch/$s_!Vg-V!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F725e9985-bd7b-491e-97ba-44adcd6f9a18_2450x1040.webp 1272w, https://substackcdn.com/image/fetch/$s_!Vg-V!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F725e9985-bd7b-491e-97ba-44adcd6f9a18_2450x1040.webp 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/725e9985-bd7b-491e-97ba-44adcd6f9a18_2450x1040.webp&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:618,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:220974,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/webp&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/161324659?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F725e9985-bd7b-491e-97ba-44adcd6f9a18_2450x1040.webp&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;618&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!Vg-V!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F725e9985-bd7b-491e-97ba-44adcd6f9a18_2450x1040.webp&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!Vg-V!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F725e9985-bd7b-491e-97ba-44adcd6f9a18_2450x1040.webp 424w, https://substackcdn.com/image/fetch/$s_!Vg-V!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F725e9985-bd7b-491e-97ba-44adcd6f9a18_2450x1040.webp 848w, https://substackcdn.com/image/fetch/$s_!Vg-V!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F725e9985-bd7b-491e-97ba-44adcd6f9a18_2450x1040.webp 1272w, https://substackcdn.com/image/fetch/$s_!Vg-V!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F725e9985-bd7b-491e-97ba-44adcd6f9a18_2450x1040.webp 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
    &lt;figcaption class=&quot;image-caption&quot;&gt;
     In Elden Ring, Y is the up axis, not Z
    &lt;/figcaption&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Compromises of course leave room for improvement. Chains hanging from the ceiling in Elden Ring’s Debate Parlor present an optimal case for RDNA 4’s OBBs, because one rotation can fit well across all of the chains on each side. The chandeliers are another story, with four support chains each have different rotations. AMD selects an OBB that matches chain rotation in the Y (up) axis, but not X/Z. As a result the OBBs for each chain leave significant empty space that could result in false intersections. It’s still better than RDNA 2’s aligned bounding boxes, but there’s clearly room for improvement as well.
  &lt;/p&gt;
  &lt;p&gt;
   Using one OBB rotation across the box is likely a necessary compromise. A simple way to handle OBB intersection testing is to rotate the incoming ray so that the box and ray become axis aligned (just with a different set of axes). RDNA 4 adds a ray transform block to the Ray Accelerator. AMD doesn’t explicitly say the transform block helps with OBBs. Instead, it’s used for transitions between top and bottom level acceleration structures (TLAS/BLAS). DirectX raytracing splits the BVH into two levels because a BLAS can be reused many times with different positions and rotations. That’s convenient for handling several copies of the same object, like the same chair type placed several times around a room.
  &lt;/p&gt;
  &lt;blockquote&gt;
   &lt;p&gt;
    …the addition of a dedicated ray transform block, and this is used to offload the transformation that occurs as you transition from the top level of the ray acceleration structure into the bottom level…
   &lt;/p&gt;
   &lt;p&gt;
    AMD Radeon Press Briefing Video
   &lt;/p&gt;
  &lt;/blockquote&gt;
  &lt;p&gt;
   A TLAS to BLAS transition would involve rotating the ray to allow axis-aligned intersection tests within the BLAS, a similar operation to rotating a ray for OBB tests. A key difference is that traversal steps involving OBBs may happen more often than TLAS to BLAS transitions. AMD’s Ray Accelerator aims to handle a box node every cycle. Transforming a ray would involve multiplying both the origin and direction vector by a 3×3 rotation matrix, which naively requires 36 FLOPs (Floating Point Operations) per transform. At 2.5 GHz that would be 5.04 ray transformation TFLOP/s across the RX 9070’s ray accelerators. Providing different ray rotations for all eight boxes in a box node would multiply that figure by eight.
  &lt;/p&gt;
  &lt;p&gt;
   &lt;span&gt;
    AMD could also implement OBB-related ray transforms within the Intersection Engines. RDNA 4 can use OBBs with RDNA 2/3 legacy 4-wide box nodes, slipping the OBB matrix ID into
   &lt;/span&gt;
   &lt;a href=&quot;https://github.com/GPUOpen-Drivers/gpurt/blob/f734985ebc31f471c376ed0cb217f43bdd40ee17/src/shadersClean/common/gfx10/BoxNode1_0.hlsli#L104&quot; rel=&quot;&quot;&gt;
    into previously unused padding bits
   &lt;/a&gt;
   &lt;span&gt;
    near the end of the 128B structure. BVH4x2 traversal may run into two nodes that specify different OBB rotations. That would require applying two ray transformations to fully feed both Intersection Engines. Even in that case, two ray transforms are far less expensive than eight, so AMD’s compromise makes sense.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;h2 class=&quot;header-anchor-post&quot;&gt;
   Primitive Node Compression
  &lt;/h2&gt;
  &lt;p&gt;
   Minimizing BVH footprint is critical. A smaller BVH reduces VRAM consumption, cuts bandwidth requirements, and makes more economical use of cache capacity. RDNA 2 and RDNA 3 took a basic step with compressed triangle pairs, where a 64 byte triangle node could store a pair of triangles that share a side. Intel also does this. RDNA 4 goes further by packing multiple triangle pairs into a new 128 byte compressed primitive node.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!oD89!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0c22e674-87a5-44cd-98bd-7143fee04a18_1904x792.webp&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!oD89!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0c22e674-87a5-44cd-98bd-7143fee04a18_1904x792.webp 424w, https://substackcdn.com/image/fetch/$s_!oD89!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0c22e674-87a5-44cd-98bd-7143fee04a18_1904x792.webp 848w, https://substackcdn.com/image/fetch/$s_!oD89!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0c22e674-87a5-44cd-98bd-7143fee04a18_1904x792.webp 1272w, https://substackcdn.com/image/fetch/$s_!oD89!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0c22e674-87a5-44cd-98bd-7143fee04a18_1904x792.webp 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/0c22e674-87a5-44cd-98bd-7143fee04a18_1904x792.webp&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:606,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:92918,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/webp&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/161324659?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0c22e674-87a5-44cd-98bd-7143fee04a18_1904x792.webp&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;606&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!oD89!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0c22e674-87a5-44cd-98bd-7143fee04a18_1904x792.webp&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!oD89!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0c22e674-87a5-44cd-98bd-7143fee04a18_1904x792.webp 424w, https://substackcdn.com/image/fetch/$s_!oD89!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0c22e674-87a5-44cd-98bd-7143fee04a18_1904x792.webp 848w, https://substackcdn.com/image/fetch/$s_!oD89!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0c22e674-87a5-44cd-98bd-7143fee04a18_1904x792.webp 1272w, https://substackcdn.com/image/fetch/$s_!oD89!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0c22e674-87a5-44cd-98bd-7143fee04a18_1904x792.webp 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
    &lt;figcaption class=&quot;image-caption&quot;&gt;
     Intel calls single triangles “degenerates”, and I’m using that term for convenience.
    &lt;/figcaption&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   &lt;span&gt;
    RDNA 4’s compressed primitive node only stores unique vertices across its triangle pairs. Further gains come from finding the minimum number of trailing zeroes across vertex coordinates’s bitwise FP32 representations, and dropping those trailing zeroes from storage
   &lt;/span&gt;
   &lt;sup&gt;
    5
   &lt;/sup&gt;
   &lt;span&gt;
    .
   &lt;/span&gt;
   &lt;a href=&quot;https://github.com/GPUOpen-Drivers/gpurt/blob/f734985ebc31f471c376ed0cb217f43bdd40ee17/src/shadersClean/common/gfx12/primitiveNode.hlsli#L1064&quot; rel=&quot;&quot;&gt;
    Code suggests
   &lt;/a&gt;
   &lt;span&gt;
    a RDNA 4 primitive node can describe up to eight triangle pairs or up to 16 unique vertices.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!GLd_!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F577401bc-7147-435f-a913-c1e0b3b9bd82_1634x238.webp&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!GLd_!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F577401bc-7147-435f-a913-c1e0b3b9bd82_1634x238.webp 424w, https://substackcdn.com/image/fetch/$s_!GLd_!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F577401bc-7147-435f-a913-c1e0b3b9bd82_1634x238.webp 848w, https://substackcdn.com/image/fetch/$s_!GLd_!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F577401bc-7147-435f-a913-c1e0b3b9bd82_1634x238.webp 1272w, https://substackcdn.com/image/fetch/$s_!GLd_!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F577401bc-7147-435f-a913-c1e0b3b9bd82_1634x238.webp 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/577401bc-7147-435f-a913-c1e0b3b9bd82_1634x238.webp&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:212,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:6134,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/webp&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/161324659?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F577401bc-7147-435f-a913-c1e0b3b9bd82_1634x238.webp&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;212&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!GLd_!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F577401bc-7147-435f-a913-c1e0b3b9bd82_1634x238.webp&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!GLd_!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F577401bc-7147-435f-a913-c1e0b3b9bd82_1634x238.webp 424w, https://substackcdn.com/image/fetch/$s_!GLd_!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F577401bc-7147-435f-a913-c1e0b3b9bd82_1634x238.webp 848w, https://substackcdn.com/image/fetch/$s_!GLd_!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F577401bc-7147-435f-a913-c1e0b3b9bd82_1634x238.webp 1272w, https://substackcdn.com/image/fetch/$s_!GLd_!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F577401bc-7147-435f-a913-c1e0b3b9bd82_1634x238.webp 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
      &lt;div&gt;
      &lt;/div&gt;
     &lt;/div&gt;
    &lt;/a&gt;
    &lt;figcaption class=&quot;image-caption&quot;&gt;
     Shared vertices marked from the example above. Sharing is caring and allows for better primitive node compression
    &lt;/figcaption&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   &lt;span&gt;
    In practice compression efficiency varies wildly depending on the nature of game geometry, but RDNA 4 often represents more than two triangle pairs in a 128 byte primitive node. While not mentioned in AMD’s presentation, RDNA 4 represents box extents with quantized 12-bit integers instead of FP32 values
   &lt;/span&gt;
   &lt;sup&gt;
    6
   &lt;/sup&gt;
   &lt;span&gt;
    . That lets RDNA 4 keep its 8-wide box node at 128 bytes, just like RDNA 2/3’s 4-wide box nodes.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!whly!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9e661800-05ad-4029-98b6-067526355442_927x669.webp&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!whly!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9e661800-05ad-4029-98b6-067526355442_927x669.webp 424w, https://substackcdn.com/image/fetch/$s_!whly!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9e661800-05ad-4029-98b6-067526355442_927x669.webp 848w, https://substackcdn.com/image/fetch/$s_!whly!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9e661800-05ad-4029-98b6-067526355442_927x669.webp 1272w, https://substackcdn.com/image/fetch/$s_!whly!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9e661800-05ad-4029-98b6-067526355442_927x669.webp 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/9e661800-05ad-4029-98b6-067526355442_927x669.webp&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:669,&quot;width&quot;:927,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:7636,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/webp&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/161324659?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9e661800-05ad-4029-98b6-067526355442_927x669.webp&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;669&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!whly!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9e661800-05ad-4029-98b6-067526355442_927x669.webp&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!whly!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9e661800-05ad-4029-98b6-067526355442_927x669.webp 424w, https://substackcdn.com/image/fetch/$s_!whly!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9e661800-05ad-4029-98b6-067526355442_927x669.webp 848w, https://substackcdn.com/image/fetch/$s_!whly!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9e661800-05ad-4029-98b6-067526355442_927x669.webp 1272w, https://substackcdn.com/image/fetch/$s_!whly!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9e661800-05ad-4029-98b6-067526355442_927x669.webp 1456w&quot; width=&quot;927&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
    &lt;figcaption class=&quot;image-caption&quot;&gt;
     Not to scale across the two, but RDNA 2/3’s triangle node places elements at well defined offsets, which allows for cheaper hardware. RDNA 4 of course supports the RDNA 2/3 format too, since hardware retains support for the older IMAGE_BVH_INTERSECT_RAY instruction
    &lt;/figcaption&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Like OBBs, primitive compression increases hardware complexity. Compressed primitive nodes don’t require additional compute in the Ray Accelerator. However, they do force it to handle non-aligned, variable length data fields. An Intersection Engine would have to parse the 52-bit header before it knows the data section’s format. Then, leading zero compression would require shifting the packed values to reconstruct the original FP32 values. Reducing memory footprint often comes with extra hardware complexity. In a latency critical application like raytracing, placing a higher burden on hardware is probably worth it.
  &lt;/p&gt;
  &lt;h2 class=&quot;header-anchor-post&quot;&gt;
   BVH Optimizations in Practice
  &lt;/h2&gt;
  &lt;p&gt;
   In Elden Ring and 3DMark’s Port Royal benchmark, AMD’s Radeon Raytracing Analyzer indicates that RDNA 4 achieves a decent BVH size reduction. The same curiously doesn’t apply to Cyberpunk 2077. However, Cyberpunk 2077 has a more dynamic environment with unpredictable NPC counts and movement paths, so the margin of error is definitely higher.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!p44v!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe8601e30-a7e9-435e-b30f-cb5c2857571b_675x369.webp&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!p44v!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe8601e30-a7e9-435e-b30f-cb5c2857571b_675x369.webp 424w, https://substackcdn.com/image/fetch/$s_!p44v!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe8601e30-a7e9-435e-b30f-cb5c2857571b_675x369.webp 848w, https://substackcdn.com/image/fetch/$s_!p44v!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe8601e30-a7e9-435e-b30f-cb5c2857571b_675x369.webp 1272w, https://substackcdn.com/image/fetch/$s_!p44v!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe8601e30-a7e9-435e-b30f-cb5c2857571b_675x369.webp 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/e8601e30-a7e9-435e-b30f-cb5c2857571b_675x369.webp&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:369,&quot;width&quot;:675,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:3846,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/webp&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/161324659?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe8601e30-a7e9-435e-b30f-cb5c2857571b_675x369.webp&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;369&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!p44v!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe8601e30-a7e9-435e-b30f-cb5c2857571b_675x369.webp&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!p44v!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe8601e30-a7e9-435e-b30f-cb5c2857571b_675x369.webp 424w, https://substackcdn.com/image/fetch/$s_!p44v!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe8601e30-a7e9-435e-b30f-cb5c2857571b_675x369.webp 848w, https://substackcdn.com/image/fetch/$s_!p44v!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe8601e30-a7e9-435e-b30f-cb5c2857571b_675x369.webp 1272w, https://substackcdn.com/image/fetch/$s_!p44v!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe8601e30-a7e9-435e-b30f-cb5c2857571b_675x369.webp 1456w&quot; width=&quot;675&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   RDNA 4’s biggest wins come from reducing traversal step count. Lining up corresponding DispatchRays calls shows RDNA 4 goes through fewer traversal steps per ray. Cyberpunk 2077 is a particularly good case. RDNA 4 is still doing more intersection tests overall, because each traversal step requires eight intersection tests compared to four on RDNA 2, and traversal step count isn’t halved or lower. The additional work is well worth it though. GPUs aren’t latency optimized, so trading latency-bound pointer chasing steps for more parallel compute requirements is a good strategy. Gains in Elden Ring are minor by comparison, but any reduction is welcome considering high GPU cache latency.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!YFhl!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0beb8cb3-e135-4045-93d2-ec4bad5fbf70_756x448.webp&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!YFhl!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0beb8cb3-e135-4045-93d2-ec4bad5fbf70_756x448.webp 424w, https://substackcdn.com/image/fetch/$s_!YFhl!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0beb8cb3-e135-4045-93d2-ec4bad5fbf70_756x448.webp 848w, https://substackcdn.com/image/fetch/$s_!YFhl!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0beb8cb3-e135-4045-93d2-ec4bad5fbf70_756x448.webp 1272w, https://substackcdn.com/image/fetch/$s_!YFhl!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0beb8cb3-e135-4045-93d2-ec4bad5fbf70_756x448.webp 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/0beb8cb3-e135-4045-93d2-ec4bad5fbf70_756x448.webp&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:448,&quot;width&quot;:756,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:4622,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/webp&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/161324659?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0beb8cb3-e135-4045-93d2-ec4bad5fbf70_756x448.webp&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;448&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!YFhl!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0beb8cb3-e135-4045-93d2-ec4bad5fbf70_756x448.webp&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!YFhl!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0beb8cb3-e135-4045-93d2-ec4bad5fbf70_756x448.webp 424w, https://substackcdn.com/image/fetch/$s_!YFhl!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0beb8cb3-e135-4045-93d2-ec4bad5fbf70_756x448.webp 848w, https://substackcdn.com/image/fetch/$s_!YFhl!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0beb8cb3-e135-4045-93d2-ec4bad5fbf70_756x448.webp 1272w, https://substackcdn.com/image/fetch/$s_!YFhl!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0beb8cb3-e135-4045-93d2-ec4bad5fbf70_756x448.webp 1456w&quot; width=&quot;756&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   In a frame captured from 3DMark’s DXR feature test, which raytraces an entire scene with minimal rasterization, the Radeon RX 9070 sustained 111.76G and 19.61G box and triangle tests per second, respectively. For comparison the RDNA 2 based Radeon RX 6900XT did 38.8G and 10.76G box and triangle tests per second. Ballparking Ray Accelerator utilization is difficult due to variable clock speeds on both cards. But assuming 2.5 GHz gives 24% and 10.23% utilization figures for RDNA 4 and RDNA 2’s Ray Accelerators. RDNA 4 is therefore able to feed its bigger Ray Accelerator better than RDNA 2 could. AMD has done a lot since their first generation raytracing implementation, and the cumulative progress is impressive.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!keqP!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F65dca741-c724-407a-b1fb-c56d82b0229b_734x414.webp&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!keqP!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F65dca741-c724-407a-b1fb-c56d82b0229b_734x414.webp 424w, https://substackcdn.com/image/fetch/$s_!keqP!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F65dca741-c724-407a-b1fb-c56d82b0229b_734x414.webp 848w, https://substackcdn.com/image/fetch/$s_!keqP!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F65dca741-c724-407a-b1fb-c56d82b0229b_734x414.webp 1272w, https://substackcdn.com/image/fetch/$s_!keqP!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F65dca741-c724-407a-b1fb-c56d82b0229b_734x414.webp 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/65dca741-c724-407a-b1fb-c56d82b0229b_734x414.webp&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:414,&quot;width&quot;:734,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:2852,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/webp&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/161324659?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F65dca741-c724-407a-b1fb-c56d82b0229b_734x414.webp&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;414&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!keqP!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F65dca741-c724-407a-b1fb-c56d82b0229b_734x414.webp&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!keqP!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F65dca741-c724-407a-b1fb-c56d82b0229b_734x414.webp 424w, https://substackcdn.com/image/fetch/$s_!keqP!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F65dca741-c724-407a-b1fb-c56d82b0229b_734x414.webp 848w, https://substackcdn.com/image/fetch/$s_!keqP!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F65dca741-c724-407a-b1fb-c56d82b0229b_734x414.webp 1272w, https://substackcdn.com/image/fetch/$s_!keqP!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F65dca741-c724-407a-b1fb-c56d82b0229b_734x414.webp 1456w&quot; width=&quot;734&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;h2 class=&quot;header-anchor-post&quot;&gt;
   Final Words
  &lt;/h2&gt;
  &lt;p&gt;
   RDNA 2 introduced AMD’s first hardware raytracing implementation in the PC scene. It took a conservative approach to raytracing by accelerating intersection testing but little else. AMD has made steady progress since then, shaping GPU hardware and the raytracing workload to match each other. RDNA 4 continues to use RDNA 2’s high level raytracing strategy, with a compute thread managing the raytracing process all the way from ray generation to traversal to result handling. But over several generations, AMD’s engineers have piled on improvements that put RDNA 4 leagues ahead.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!hf0U!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5711deb4-5f61-4308-a782-08cb79fcfc5a_1644x915.webp&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!hf0U!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5711deb4-5f61-4308-a782-08cb79fcfc5a_1644x915.webp 424w, https://substackcdn.com/image/fetch/$s_!hf0U!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5711deb4-5f61-4308-a782-08cb79fcfc5a_1644x915.webp 848w, https://substackcdn.com/image/fetch/$s_!hf0U!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5711deb4-5f61-4308-a782-08cb79fcfc5a_1644x915.webp 1272w, https://substackcdn.com/image/fetch/$s_!hf0U!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5711deb4-5f61-4308-a782-08cb79fcfc5a_1644x915.webp 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/5711deb4-5f61-4308-a782-08cb79fcfc5a_1644x915.webp&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:810,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:74666,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/webp&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/161324659?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5711deb4-5f61-4308-a782-08cb79fcfc5a_1644x915.webp&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;810&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!hf0U!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5711deb4-5f61-4308-a782-08cb79fcfc5a_1644x915.webp&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!hf0U!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5711deb4-5f61-4308-a782-08cb79fcfc5a_1644x915.webp 424w, https://substackcdn.com/image/fetch/$s_!hf0U!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5711deb4-5f61-4308-a782-08cb79fcfc5a_1644x915.webp 848w, https://substackcdn.com/image/fetch/$s_!hf0U!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5711deb4-5f61-4308-a782-08cb79fcfc5a_1644x915.webp 1272w, https://substackcdn.com/image/fetch/$s_!hf0U!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5711deb4-5f61-4308-a782-08cb79fcfc5a_1644x915.webp 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   AMD’s tools like the Radeon Raytracing Analyzer and Radeon GPU Profiler provide a fascinating look into how those improvements work together under the hood. Open source code further paints a picture where AMD is working nonstop on their raytracing hardware. Unused (possibly Playstation related) RT IP 1.0 and 3.0 levels provide more snapshots into AMD’s hardware raytracing evolution.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!GZQx!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8a5fae8d-2458-4296-ac4d-bf4bc15edb0c_2220x816.webp&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!GZQx!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8a5fae8d-2458-4296-ac4d-bf4bc15edb0c_2220x816.webp 424w, https://substackcdn.com/image/fetch/$s_!GZQx!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8a5fae8d-2458-4296-ac4d-bf4bc15edb0c_2220x816.webp 848w, https://substackcdn.com/image/fetch/$s_!GZQx!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8a5fae8d-2458-4296-ac4d-bf4bc15edb0c_2220x816.webp 1272w, https://substackcdn.com/image/fetch/$s_!GZQx!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8a5fae8d-2458-4296-ac4d-bf4bc15edb0c_2220x816.webp 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/8a5fae8d-2458-4296-ac4d-bf4bc15edb0c_2220x816.webp&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:535,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:829872,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/webp&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/161324659?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8a5fae8d-2458-4296-ac4d-bf4bc15edb0c_2220x816.webp&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;535&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!GZQx!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8a5fae8d-2458-4296-ac4d-bf4bc15edb0c_2220x816.webp&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!GZQx!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8a5fae8d-2458-4296-ac4d-bf4bc15edb0c_2220x816.webp 424w, https://substackcdn.com/image/fetch/$s_!GZQx!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8a5fae8d-2458-4296-ac4d-bf4bc15edb0c_2220x816.webp 848w, https://substackcdn.com/image/fetch/$s_!GZQx!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8a5fae8d-2458-4296-ac4d-bf4bc15edb0c_2220x816.webp 1272w, https://substackcdn.com/image/fetch/$s_!GZQx!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8a5fae8d-2458-4296-ac4d-bf4bc15edb0c_2220x816.webp 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
    &lt;figcaption class=&quot;image-caption&quot;&gt;
     Debate Parlor in Elden Ring viewed through Radeon Raytracing Analyzer, with coloring to reflect traversal counts with matched color scales. RDNA 4 on the left, RDNA 2 on the right
    &lt;/figcaption&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Still, RDNA 4 has room for improvement. OBBs could be more flexible, and first level caches could be larger. Intel and Nvidia are obvious competitors too. Intel has revealed a lot about their raytracing implementation, and no raytracing discussion would be complete without keeping them in context. Intel’s Raytracing Accelerator (RTA) takes ownership of the traversal process and is tightly optimized for it, with a dedicated BVH cache and short stack kept in internal registers. It’s a larger hardware investment that doesn’t benefit general workloads, but does let Intel even more closely fit fixed function hardware to raytracing demands. Besides the obvious advantage from using dedicated caches/registers instead of RDNA 4’s general purpose caches and local data share, Intel can keep traversal off Xe Core thread slots, leaving them free for ray generation or result handling.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!ATPq!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F520d419f-7dda-4c1f-9d78-72b1cccca602_2000x1331.webp&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!ATPq!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F520d419f-7dda-4c1f-9d78-72b1cccca602_2000x1331.webp 424w, https://substackcdn.com/image/fetch/$s_!ATPq!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F520d419f-7dda-4c1f-9d78-72b1cccca602_2000x1331.webp 848w, https://substackcdn.com/image/fetch/$s_!ATPq!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F520d419f-7dda-4c1f-9d78-72b1cccca602_2000x1331.webp 1272w, https://substackcdn.com/image/fetch/$s_!ATPq!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F520d419f-7dda-4c1f-9d78-72b1cccca602_2000x1331.webp 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/520d419f-7dda-4c1f-9d78-72b1cccca602_2000x1331.webp&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:969,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:30604,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/webp&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/161324659?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F520d419f-7dda-4c1f-9d78-72b1cccca602_2000x1331.webp&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;969&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!ATPq!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F520d419f-7dda-4c1f-9d78-72b1cccca602_2000x1331.webp&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!ATPq!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F520d419f-7dda-4c1f-9d78-72b1cccca602_2000x1331.webp 424w, https://substackcdn.com/image/fetch/$s_!ATPq!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F520d419f-7dda-4c1f-9d78-72b1cccca602_2000x1331.webp 848w, https://substackcdn.com/image/fetch/$s_!ATPq!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F520d419f-7dda-4c1f-9d78-72b1cccca602_2000x1331.webp 1272w, https://substackcdn.com/image/fetch/$s_!ATPq!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F520d419f-7dda-4c1f-9d78-72b1cccca602_2000x1331.webp 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   AMD’s approach has advantages of its own. Avoiding thread launches between raytracing pipeline steps can reduce latency. And raytracing code running on the programmable shader pipelines naturally takes advantage of their ability to track massive thread-level parallelism. As RDNA 4 and Intel’s Battlemage have shown, there’s plenty of room to improve within both strategies. I’m excited to see how everything plays out as AMD, Intel, and Nvidia evolve their raytracing implementations.
  &lt;/p&gt;
  &lt;p&gt;
   &lt;span&gt;
    If you like the content then consider heading over to the
   &lt;/span&gt;
   &lt;a href=&quot;https://www.patreon.com/ChipsandCheese&quot; rel=&quot;&quot;&gt;
    Patreon
   &lt;/a&gt;
   &lt;span&gt;
    or
   &lt;/span&gt;
   &lt;a href=&quot;https://www.paypal.com/donate/?hosted_button_id=4EMPH66SBGVSQ&quot; rel=&quot;&quot;&gt;
    PayPal
   &lt;/a&gt;
   &lt;span&gt;
    if you want to toss a few bucks to Chips and Cheese. Also consider joining the
   &lt;/span&gt;
   &lt;a href=&quot;https://discord.gg/TwVnRhxgY2&quot; rel=&quot;&quot;&gt;
    Discord
   &lt;/a&gt;
   &lt;span&gt;
    .
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;h2 class=&quot;header-anchor-post&quot;&gt;
   References
  &lt;/h2&gt;
  &lt;ol&gt;
   &lt;li&gt;
    &lt;p&gt;
     &lt;a href=&quot;https://www.amd.com/content/dam/amd/en/documents/radeon-tech-docs/instruction-set-architectures/rdna4-instruction-set-architecture.pdf&quot; rel=&quot;&quot;&gt;
      “RDNA4” Instruction Set Architecture Reference Guide
     &lt;/a&gt;
    &lt;/p&gt;
   &lt;/li&gt;
   &lt;li&gt;
    &lt;p&gt;
     &lt;a href=&quot;https://github.com/GPUOpen-Drivers/gpurt/blob/f734985ebc31f471c376ed0cb217f43bdd40ee17/src/shadersClean/common/gfx12/primitiveNode.hlsli#L37&quot; rel=&quot;&quot;&gt;
      primitiveNode.hlsli
     &lt;/a&gt;
     &lt;span&gt;
      in AMD’s GPU Ray Tracing Library
     &lt;/span&gt;
    &lt;/p&gt;
   &lt;/li&gt;
   &lt;li&gt;
    &lt;p&gt;
     &lt;a href=&quot;https://github.com/GPUOpen-Drivers/gpurt/blob/f734985ebc31f471c376ed0cb217f43bdd40ee17/src/shaders/OrientedBoundingBoxes.hlsl#L106&quot; rel=&quot;&quot;&gt;
      OrientedBoundingBoxes.hlsl
     &lt;/a&gt;
     &lt;span&gt;
      and
     &lt;/span&gt;
     &lt;a href=&quot;https://github.com/GPUOpen-Drivers/gpurt/blob/dev/src/shaders/ObbCommon.hlsl&quot; rel=&quot;&quot;&gt;
      ObbCommon.hlsl
     &lt;/a&gt;
     &lt;span&gt;
      in AMD’s GPU Ray Tracing Library
     &lt;/span&gt;
    &lt;/p&gt;
   &lt;/li&gt;
   &lt;li&gt;
    &lt;p&gt;
     &lt;a href=&quot;https://github.com/GPUOpen-Drivers/gpurt/blob/dev/src/shaders/EncodeHwBvh3_1.hlsl&quot; rel=&quot;&quot;&gt;
      EncodeHwBVH3_1.hlsl
     &lt;/a&gt;
     &lt;span&gt;
      in AMD’s GPU Ray Tracing Library
     &lt;/span&gt;
    &lt;/p&gt;
   &lt;/li&gt;
   &lt;li&gt;
    &lt;p&gt;
     &lt;a href=&quot;https://github.com/GPUOpen-Drivers/gpurt/blob/dev/src/shaders/PrimitiveStructureEncoder3_1.hlsl&quot; rel=&quot;&quot;&gt;
      PrimitiveStructureEncoder3_1.hlsl
     &lt;/a&gt;
     &lt;span&gt;
      in AMD’s GPU Ray Tracing Library. Describes trailing zero compression, and ComputeCompressedRanges has each lane find its vertex in the LDS during BVH build, set corresponding bits in a bitmask, then count set bits to find the unique vertex count
     &lt;/span&gt;
    &lt;/p&gt;
   &lt;/li&gt;
   &lt;li&gt;
    &lt;p&gt;
     Multiple RT IP 3.1 BVH building functions call ComputeQuantizedBounds with numQuantBits=12, which then calls ComputeQuantizedMin/ComputeQuantizedMax, which appears to quantize to a 12-bit integer because the max value is (1 &amp;lt;&amp;lt; numQuantBits -1) * 1.0f. It’s the maximum integer value that’ll fit in the specified quantization bits multiplied by a FP value of 1 to provide the max quantized value as a float.
    &lt;/p&gt;
   &lt;/li&gt;
   &lt;li&gt;
    &lt;p&gt;
     &lt;a href=&quot;https://github.com/GPUOpen-Drivers/gpurt/blob/dev/src/shadersClean/common/gfx10/BoxNode1_0.hlsli&quot; rel=&quot;&quot;&gt;
      BoxNode1_0.hlsli
     &lt;/a&gt;
     &lt;span&gt;
      , defines a 4-wide box node for RT IP 1.0
     &lt;/span&gt;
    &lt;/p&gt;
   &lt;/li&gt;
  &lt;/ol&gt;
  &lt;p&gt;
  &lt;/p&gt;
  &lt;p&gt;
  &lt;/p&gt;
 &lt;/div&gt;
&lt;/div&gt;

</description>
</item>
<item>
<title> Zhaoxin’s KX-7000 </title>
<link>https://chipsandcheese.com/p/zhaoxins-kx-7000</link>
<pubDate>Sat, 05 Jul 2025 22:18:50 -0000</pubDate>
<description>
&lt;div class=&quot;available-content&quot;&gt;
 &lt;div class=&quot;body markup&quot; dir=&quot;auto&quot;&gt;
  &lt;p&gt;
   Zhaoxin is a Chinese x86 CPU designer. The KaiXian KX-7000 is Zhaoxin’s latest CPU, and features a new architecture dubbed “世纪大道”. 世纪大道 is a road in Shanghai called “Century Avenue”, following Zhaoxin’s practice of naming architectures after Shanghai landmarks. Zhaoxin is notable because it’s a joint venture between VIA Technologies and the Shanghai municipal government. It inherits VIA’s x86-64 license, and also enjoys powerful government backing. That’s a potent combination, because Zhaoxin’s cores are positioned to take advantage of the strong x86-64 software ecosystem.
  &lt;/p&gt;
  &lt;p&gt;
   x86-64 compatibility is just one part of the picture, because performance matters too. Zhaoxin’s previous LuJiaZui, implemented in the KX-6640MA, was clearly inadequate for handling modern applications. LuJiaZui was a 2-wide core with sub-3 GHz clock speeds and barely more reordering capacity than Intel’s Pentium II from 1997. Century Avenue takes aim at that performance problem.
  &lt;/p&gt;
  &lt;h2 class=&quot;header-anchor-post&quot;&gt;
   Core Overview
  &lt;/h2&gt;
  &lt;p&gt;
   Century Avenue is a 4-wide, AVX2 capable core with an out-of-order execution window on par with Intel CPUs from the early 2010s. Besides making the core wider and more latency-tolerant, Zhaoxin targets higher clock speeds. The KX-7000 runs at 3.2 GHz, significantly faster than the KX-6640MA’s 2.6 GHz. Zhaoxin’s site claims the KX-7000 can reach 3.5-3.7 GHz, but I never saw the chip clock above 3.2 GHz.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!Ifzg!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1ca621ad-3adf-431d-97a3-8d06f9e17319_1305x1115.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!Ifzg!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1ca621ad-3adf-431d-97a3-8d06f9e17319_1305x1115.png 424w, https://substackcdn.com/image/fetch/$s_!Ifzg!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1ca621ad-3adf-431d-97a3-8d06f9e17319_1305x1115.png 848w, https://substackcdn.com/image/fetch/$s_!Ifzg!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1ca621ad-3adf-431d-97a3-8d06f9e17319_1305x1115.png 1272w, https://substackcdn.com/image/fetch/$s_!Ifzg!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1ca621ad-3adf-431d-97a3-8d06f9e17319_1305x1115.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/1ca621ad-3adf-431d-97a3-8d06f9e17319_1305x1115.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:1115,&quot;width&quot;:1305,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:25606,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:false,&quot;topImage&quot;:true,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/162504120?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1ca621ad-3adf-431d-97a3-8d06f9e17319_1305x1115.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; fetchpriority=&quot;high&quot; height=&quot;1115&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!Ifzg!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1ca621ad-3adf-431d-97a3-8d06f9e17319_1305x1115.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!Ifzg!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1ca621ad-3adf-431d-97a3-8d06f9e17319_1305x1115.png 424w, https://substackcdn.com/image/fetch/$s_!Ifzg!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1ca621ad-3adf-431d-97a3-8d06f9e17319_1305x1115.png 848w, https://substackcdn.com/image/fetch/$s_!Ifzg!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1ca621ad-3adf-431d-97a3-8d06f9e17319_1305x1115.png 1272w, https://substackcdn.com/image/fetch/$s_!Ifzg!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1ca621ad-3adf-431d-97a3-8d06f9e17319_1305x1115.png 1456w&quot; width=&quot;1305&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   &lt;span&gt;
    The KX-7000 has eight Century Avenue cores, and uses a chiplet setup reminiscent of single-CCD AMD Ryzen desktop parts. All eight cores sit on a die and share 32 MB of L3 cache. A second IO die connects to DRAM and other IO. Zhaoxin did not specify what process node they’re using.
   &lt;/span&gt;
   &lt;a href=&quot;https://www.techpowerup.com/316685/zhaoxin-launches-kx-7000-desktop-8-core-x86-processor-to-power-chinas-ambitions&quot; rel=&quot;&quot;&gt;
    Techpowerup
   &lt;/a&gt;
   &lt;span&gt;
    and
   &lt;/span&gt;
   &lt;a href=&quot;https://wccftech.com/zhaoxin-launches-kx-7000-high-performance-desktop-cpus-for-china-8-cores-3-7-ghz/&quot; rel=&quot;&quot;&gt;
    Wccftech
   &lt;/a&gt;
   &lt;span&gt;
    suggests it uses an unspecified 16nm node.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;h2 class=&quot;header-anchor-post&quot;&gt;
   Frontend
  &lt;/h2&gt;
  &lt;p&gt;
   At the frontend, instructions are fetched from a 64 KB 16-way instruction cache. The instruction cache can deliver 16 bytes per cycle, and feeds a 4-wide decoder. Century Avenue uses a thoroughly conventional frontend setup, without a loop buffer or op cache. Instruction cache bandwidth can therefore constrain frontend throughput if average instruction length exceeds 4 bytes.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!J5XZ!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fcfc9c17b-a645-40f3-bfbd-b3729271a7c7_1285x585.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!J5XZ!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fcfc9c17b-a645-40f3-bfbd-b3729271a7c7_1285x585.png 424w, https://substackcdn.com/image/fetch/$s_!J5XZ!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fcfc9c17b-a645-40f3-bfbd-b3729271a7c7_1285x585.png 848w, https://substackcdn.com/image/fetch/$s_!J5XZ!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fcfc9c17b-a645-40f3-bfbd-b3729271a7c7_1285x585.png 1272w, https://substackcdn.com/image/fetch/$s_!J5XZ!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fcfc9c17b-a645-40f3-bfbd-b3729271a7c7_1285x585.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/cfc9c17b-a645-40f3-bfbd-b3729271a7c7_1285x585.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:585,&quot;width&quot;:1285,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:8578,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:false,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/162504120?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fcfc9c17b-a645-40f3-bfbd-b3729271a7c7_1285x585.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;585&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!J5XZ!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fcfc9c17b-a645-40f3-bfbd-b3729271a7c7_1285x585.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!J5XZ!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fcfc9c17b-a645-40f3-bfbd-b3729271a7c7_1285x585.png 424w, https://substackcdn.com/image/fetch/$s_!J5XZ!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fcfc9c17b-a645-40f3-bfbd-b3729271a7c7_1285x585.png 848w, https://substackcdn.com/image/fetch/$s_!J5XZ!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fcfc9c17b-a645-40f3-bfbd-b3729271a7c7_1285x585.png 1272w, https://substackcdn.com/image/fetch/$s_!J5XZ!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fcfc9c17b-a645-40f3-bfbd-b3729271a7c7_1285x585.png 1456w&quot; width=&quot;1285&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Frontend bandwidth drops sharply as code spills out of L1i, creating another contrast with 2010s era western designs. Skylake for example can run code from L2 at over 12 bytes per cycle, adequate for &amp;gt;3 IPC with 4 byte instructions. Century Avenue suffers further if code spills into L3, where frontend bandwidth drops to under 4 bytes per cycle.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!xR-1!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fba1d6fb2-433b-411e-9c85-41cf8156f4ad_1284x582.webp&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!xR-1!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fba1d6fb2-433b-411e-9c85-41cf8156f4ad_1284x582.webp 424w, https://substackcdn.com/image/fetch/$s_!xR-1!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fba1d6fb2-433b-411e-9c85-41cf8156f4ad_1284x582.webp 848w, https://substackcdn.com/image/fetch/$s_!xR-1!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fba1d6fb2-433b-411e-9c85-41cf8156f4ad_1284x582.webp 1272w, https://substackcdn.com/image/fetch/$s_!xR-1!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fba1d6fb2-433b-411e-9c85-41cf8156f4ad_1284x582.webp 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/ba1d6fb2-433b-411e-9c85-41cf8156f4ad_1284x582.webp&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:582,&quot;width&quot;:1284,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:8740,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/webp&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/162504120?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fba1d6fb2-433b-411e-9c85-41cf8156f4ad_1284x582.webp&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;582&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!xR-1!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fba1d6fb2-433b-411e-9c85-41cf8156f4ad_1284x582.webp&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!xR-1!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fba1d6fb2-433b-411e-9c85-41cf8156f4ad_1284x582.webp 424w, https://substackcdn.com/image/fetch/$s_!xR-1!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fba1d6fb2-433b-411e-9c85-41cf8156f4ad_1284x582.webp 848w, https://substackcdn.com/image/fetch/$s_!xR-1!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fba1d6fb2-433b-411e-9c85-41cf8156f4ad_1284x582.webp 1272w, https://substackcdn.com/image/fetch/$s_!xR-1!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fba1d6fb2-433b-411e-9c85-41cf8156f4ad_1284x582.webp 1456w&quot; width=&quot;1284&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   A 4096 entry branch target buffer (BTB) provides branch targets, and creates two pipeline bubbles after a taken branch. Taken branch latency jumps as the test spills out of L1i, even with far fewer than 4K branches. The BTB is likely tied to the L1i, and thus can’t be used to do long-distance prefetch past a L1i miss.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!e55t!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4437428a-cfc2-4aca-9c8d-6b9ef33e128c_937x515.webp&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!e55t!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4437428a-cfc2-4aca-9c8d-6b9ef33e128c_937x515.webp 424w, https://substackcdn.com/image/fetch/$s_!e55t!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4437428a-cfc2-4aca-9c8d-6b9ef33e128c_937x515.webp 848w, https://substackcdn.com/image/fetch/$s_!e55t!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4437428a-cfc2-4aca-9c8d-6b9ef33e128c_937x515.webp 1272w, https://substackcdn.com/image/fetch/$s_!e55t!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4437428a-cfc2-4aca-9c8d-6b9ef33e128c_937x515.webp 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/4437428a-cfc2-4aca-9c8d-6b9ef33e128c_937x515.webp&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:515,&quot;width&quot;:937,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:9476,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/webp&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/162504120?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4437428a-cfc2-4aca-9c8d-6b9ef33e128c_937x515.webp&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;515&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!e55t!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4437428a-cfc2-4aca-9c8d-6b9ef33e128c_937x515.webp&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!e55t!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4437428a-cfc2-4aca-9c8d-6b9ef33e128c_937x515.webp 424w, https://substackcdn.com/image/fetch/$s_!e55t!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4437428a-cfc2-4aca-9c8d-6b9ef33e128c_937x515.webp 848w, https://substackcdn.com/image/fetch/$s_!e55t!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4437428a-cfc2-4aca-9c8d-6b9ef33e128c_937x515.webp 1272w, https://substackcdn.com/image/fetch/$s_!e55t!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4437428a-cfc2-4aca-9c8d-6b9ef33e128c_937x515.webp 1456w&quot; width=&quot;937&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Century Avenue’s branching performance is reminiscent of older cores like VIA’s Nano. Dropping zero-bubble branching capability is a regression compared to LuJiaZui, which could do so from a small 16 entry L0 BTB. Perhaps Zhaoxin felt they couldn’t do zero-bubble branching at Century Avenue’s 3 GHz+ clock speed targets. However Intel and AMD CPUs from over a decade ago have faster branch target caching at higher clock speeds.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!eWhc!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9bf3e6e1-d9e7-4ffb-997d-35a70a030191_938x514.webp&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!eWhc!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9bf3e6e1-d9e7-4ffb-997d-35a70a030191_938x514.webp 424w, https://substackcdn.com/image/fetch/$s_!eWhc!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9bf3e6e1-d9e7-4ffb-997d-35a70a030191_938x514.webp 848w, https://substackcdn.com/image/fetch/$s_!eWhc!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9bf3e6e1-d9e7-4ffb-997d-35a70a030191_938x514.webp 1272w, https://substackcdn.com/image/fetch/$s_!eWhc!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9bf3e6e1-d9e7-4ffb-997d-35a70a030191_938x514.webp 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/9bf3e6e1-d9e7-4ffb-997d-35a70a030191_938x514.webp&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:514,&quot;width&quot;:938,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:7750,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/webp&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/162504120?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9bf3e6e1-d9e7-4ffb-997d-35a70a030191_938x514.webp&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;514&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!eWhc!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9bf3e6e1-d9e7-4ffb-997d-35a70a030191_938x514.webp&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!eWhc!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9bf3e6e1-d9e7-4ffb-997d-35a70a030191_938x514.webp 424w, https://substackcdn.com/image/fetch/$s_!eWhc!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9bf3e6e1-d9e7-4ffb-997d-35a70a030191_938x514.webp 848w, https://substackcdn.com/image/fetch/$s_!eWhc!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9bf3e6e1-d9e7-4ffb-997d-35a70a030191_938x514.webp 1272w, https://substackcdn.com/image/fetch/$s_!eWhc!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9bf3e6e1-d9e7-4ffb-997d-35a70a030191_938x514.webp 1456w&quot; width=&quot;938&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   In Century Avenue’s favor, the direction predictor has vastly improved pattern recognition capabilities compared to its predecessor. When given repeating patterns of taken and not-taken branches, the KX-7000 handles a bit like Intel’s Sunny Cove.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!k400!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5d170ad0-ff20-4c50-b9fc-4eeca2185ed9_1010x537.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!k400!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5d170ad0-ff20-4c50-b9fc-4eeca2185ed9_1010x537.png 424w, https://substackcdn.com/image/fetch/$s_!k400!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5d170ad0-ff20-4c50-b9fc-4eeca2185ed9_1010x537.png 848w, https://substackcdn.com/image/fetch/$s_!k400!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5d170ad0-ff20-4c50-b9fc-4eeca2185ed9_1010x537.png 1272w, https://substackcdn.com/image/fetch/$s_!k400!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5d170ad0-ff20-4c50-b9fc-4eeca2185ed9_1010x537.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/5d170ad0-ff20-4c50-b9fc-4eeca2185ed9_1010x537.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:537,&quot;width&quot;:1010,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:66802,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/162504120?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5d170ad0-ff20-4c50-b9fc-4eeca2185ed9_1010x537.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;537&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!k400!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5d170ad0-ff20-4c50-b9fc-4eeca2185ed9_1010x537.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!k400!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5d170ad0-ff20-4c50-b9fc-4eeca2185ed9_1010x537.png 424w, https://substackcdn.com/image/fetch/$s_!k400!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5d170ad0-ff20-4c50-b9fc-4eeca2185ed9_1010x537.png 848w, https://substackcdn.com/image/fetch/$s_!k400!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5d170ad0-ff20-4c50-b9fc-4eeca2185ed9_1010x537.png 1272w, https://substackcdn.com/image/fetch/$s_!k400!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5d170ad0-ff20-4c50-b9fc-4eeca2185ed9_1010x537.png 1456w&quot; width=&quot;1010&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Returns behave much like on LuJiaZui. Call+return pairs enjoy reasonable latency until they go more than four-deep. An inflection point further on suggests a second level return stack with approximately 32 entries. If there is a second level return stack, it’s rather slow with a cost of 14 cycles per call+return pair. Bulldozer shows more typical behavior. Call+return pairs are fast until they overflow a 24 entry return stack.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!2A1f!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F90da6a11-a7ef-49c8-82be-3ae42c8a7782_992x472.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!2A1f!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F90da6a11-a7ef-49c8-82be-3ae42c8a7782_992x472.png 424w, https://substackcdn.com/image/fetch/$s_!2A1f!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F90da6a11-a7ef-49c8-82be-3ae42c8a7782_992x472.png 848w, https://substackcdn.com/image/fetch/$s_!2A1f!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F90da6a11-a7ef-49c8-82be-3ae42c8a7782_992x472.png 1272w, https://substackcdn.com/image/fetch/$s_!2A1f!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F90da6a11-a7ef-49c8-82be-3ae42c8a7782_992x472.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/90da6a11-a7ef-49c8-82be-3ae42c8a7782_992x472.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:472,&quot;width&quot;:992,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:8142,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/162504120?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F90da6a11-a7ef-49c8-82be-3ae42c8a7782_992x472.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;472&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!2A1f!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F90da6a11-a7ef-49c8-82be-3ae42c8a7782_992x472.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!2A1f!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F90da6a11-a7ef-49c8-82be-3ae42c8a7782_992x472.png 424w, https://substackcdn.com/image/fetch/$s_!2A1f!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F90da6a11-a7ef-49c8-82be-3ae42c8a7782_992x472.png 848w, https://substackcdn.com/image/fetch/$s_!2A1f!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F90da6a11-a7ef-49c8-82be-3ae42c8a7782_992x472.png 1272w, https://substackcdn.com/image/fetch/$s_!2A1f!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F90da6a11-a7ef-49c8-82be-3ae42c8a7782_992x472.png 1456w&quot; width=&quot;992&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Century Avenue’s frontend aims to deliver up to four instructions per cycle with minimal sophistication. A conventional fetch and decode setup can be good if tuned properly, but Century Avenue’s frontend has a few clear weaknesses. Average instruction length can exceed 4 bytes in AVX2 code, thanks to VEX prefixes. AMD tackled this by increasing L1i bandwidth to 32B/cycle in 10h CPUs. Intel used loop buffers in Core 2 before introducing an op cache in Sandy Bridge (while keeping 16B/cycle L1i bandwidth). Either approach is fine, but Century Avenue does neither. Century Avenue also does not implement branch fusion, a technique that AMD and Intel have used for over a decade. An [add, add, cmp, jz] sequence executes at under 3 IPC.
  &lt;/p&gt;
  &lt;p&gt;
   Lack of sophistication extends to branch target caching. A single level BTB with effectively 3 cycle latency feels primitive today, especially when it’s tied to the instruction cache. As before, a decoupled BTB isn’t the only way to go. Apple’s M1 also appears to have a BTB coupled to the L1i, but it compensates with a massive 192 KB L1i. Century Avenue’s 64 KB L1i is larger than the 32 KB instruction caches found on many x86-64 cores, but it stops short of brute-forcing its way around large code footprints the way Apple does. To be fair to Zhaoxin, Bulldozer also combines a 64 KB L1i with poor L2 code bandwidth. However, I don’t think there’s a good excuse for 3 cycle taken branch latency on any post-2024 core, especially one running below 4 GHz.
  &lt;/p&gt;
  &lt;h2 class=&quot;header-anchor-post&quot;&gt;
   Rename and Allocate
  &lt;/h2&gt;
  &lt;p&gt;
   Micro-ops from the frontend are allocated into backend tracking structures, which carry out bookkeeping necessary for out-of-order execution. Register allocation goes hand-in-hand with register renaming, which breaks false dependencies by allocating a new physical register whenever an instruction writes to one. The rename/allocate stage is also a convenient place to carry out other optimizations and expose more parallelism to the backend.
  &lt;/p&gt;
  &lt;p&gt;
   Century Avenue recognizes zeroing idioms like XOR-ing a register with itself, and can tell the backend that such instructions are independent. However such XORs are still limited to three per cycle, suggesting they use an ALU port. The renamer also allocates a physical register to hold the result, even though it will always be zero. Move elimination works as well, though it’s also limited to three per cycle.
  &lt;/p&gt;
  &lt;h2 class=&quot;header-anchor-post&quot;&gt;
   Out-of-Order Execution
  &lt;/h2&gt;
  &lt;p&gt;
   Zhaoxin switches to a physical register file (PRF) based execution scheme, moving away from LuJiaZui’s ROB-based setup. Separate register files reduce data transfer within the core, and let designers scale ROB size independently of register file capacity. Both are significant advantages over LuJiaZui, and contribute to Century Avenue having several times as much reordering capacity. With a 192 entry ROB, Century Avenue has a theoretical out-of-order window on par with Intel’s Haswell, AMD’s Zen, and Centaur’s CNS. LuJiaZui’s 48 entry ROB is nowhere close.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!f3Zo!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff2f8f9e7-94a3-4685-a381-7b6795d49d75_967x413.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!f3Zo!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff2f8f9e7-94a3-4685-a381-7b6795d49d75_967x413.png 424w, https://substackcdn.com/image/fetch/$s_!f3Zo!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff2f8f9e7-94a3-4685-a381-7b6795d49d75_967x413.png 848w, https://substackcdn.com/image/fetch/$s_!f3Zo!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff2f8f9e7-94a3-4685-a381-7b6795d49d75_967x413.png 1272w, https://substackcdn.com/image/fetch/$s_!f3Zo!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff2f8f9e7-94a3-4685-a381-7b6795d49d75_967x413.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/f2f8f9e7-94a3-4685-a381-7b6795d49d75_967x413.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:413,&quot;width&quot;:967,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:73130,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/162504120?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff2f8f9e7-94a3-4685-a381-7b6795d49d75_967x413.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;413&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!f3Zo!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff2f8f9e7-94a3-4685-a381-7b6795d49d75_967x413.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!f3Zo!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff2f8f9e7-94a3-4685-a381-7b6795d49d75_967x413.png 424w, https://substackcdn.com/image/fetch/$s_!f3Zo!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff2f8f9e7-94a3-4685-a381-7b6795d49d75_967x413.png 848w, https://substackcdn.com/image/fetch/$s_!f3Zo!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff2f8f9e7-94a3-4685-a381-7b6795d49d75_967x413.png 1272w, https://substackcdn.com/image/fetch/$s_!f3Zo!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff2f8f9e7-94a3-4685-a381-7b6795d49d75_967x413.png 1456w&quot; width=&quot;967&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Reorder buffer size only puts a cap on how far the backend can search ahead of a stalled instruction. Reordering capacity in practice is limited by whatever resource the core runs out of first, whether that be register files, memory ordering queues, or other structures. Century Avenue’s register files are smaller than Haswell or Zen’s, but the core can keep a reasonable number of branches and memory operations in flight.
  &lt;/p&gt;
  &lt;p&gt;
   Century Avenue has a semi-unified scheduler setup, shifting away from LuJiaZui’s distributed scheme. ALU, memory, and FP/vector operations each have a large scheduler with more than 40 entries. Branches appear to have their own scheduler, though maybe not a dedicated port. I wasn’t able to execute a not-taken jump alongside three integer adds in the same cycle. In any case, Century Avenue has fewer scheduling queues than its predecessor, despite having more execution ports. That makes tuning scheduler size easier, because there are fewer degrees of freedom.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!ueI-!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbdd1294a-d24d-44ba-86e9-16a5bedaa079_889x582.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!ueI-!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbdd1294a-d24d-44ba-86e9-16a5bedaa079_889x582.png 424w, https://substackcdn.com/image/fetch/$s_!ueI-!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbdd1294a-d24d-44ba-86e9-16a5bedaa079_889x582.png 848w, https://substackcdn.com/image/fetch/$s_!ueI-!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbdd1294a-d24d-44ba-86e9-16a5bedaa079_889x582.png 1272w, https://substackcdn.com/image/fetch/$s_!ueI-!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbdd1294a-d24d-44ba-86e9-16a5bedaa079_889x582.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/bdd1294a-d24d-44ba-86e9-16a5bedaa079_889x582.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:582,&quot;width&quot;:889,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:14114,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/162504120?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbdd1294a-d24d-44ba-86e9-16a5bedaa079_889x582.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;582&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!ueI-!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbdd1294a-d24d-44ba-86e9-16a5bedaa079_889x582.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!ueI-!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbdd1294a-d24d-44ba-86e9-16a5bedaa079_889x582.png 424w, https://substackcdn.com/image/fetch/$s_!ueI-!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbdd1294a-d24d-44ba-86e9-16a5bedaa079_889x582.png 848w, https://substackcdn.com/image/fetch/$s_!ueI-!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbdd1294a-d24d-44ba-86e9-16a5bedaa079_889x582.png 1272w, https://substackcdn.com/image/fetch/$s_!ueI-!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbdd1294a-d24d-44ba-86e9-16a5bedaa079_889x582.png 1456w&quot; width=&quot;889&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Typically a unified scheduler can achieve similar performance to a distributed one with fewer total entries. An entry in a unified scheduling queue can hold a pending micro-op for any of the scheduler’s ports. That reduces the chance of an individual queue filling up and blocking further incoming instructions even though scheduler entries are available in other queues. With several large multi-ported schedulers, Century Avenue has more scheduler capacity than Haswell, Centaur CNS, or even Skylake.
  &lt;/p&gt;
  &lt;h3 class=&quot;header-anchor-post&quot;&gt;
   Execution Units
  &lt;/h3&gt;
  &lt;p&gt;
   Three ALU pipes generate results for scalar integer operations. Thus Century Avenue joins Arm’s Neoverse N1 and Intel’s Sandy Bridge in having thee ALU ports in an overall four-wide core. Two of Century Avenue’s ALU pipes have integer multipliers. 64-bit integer multiplies have just two-cycle latency, giving the core excellent integer multiply performance.
  &lt;/p&gt;
  &lt;p&gt;
   Century Avenue’s FP/vector side is surprisingly powerful. The FP/vector unit appears to have four pipes, all of which can execute 128-bit vector integer adds. Floating point operations execute at two per cycle. Amazingly, that rate applies even for 256-bit vector FMA instructions. Century Avenue therefore matches Haswell’s per-cycle FLOP count. Floating point latency is normal at 3 cycles for FP adds and multiplies or 5 cycles for a fused multiply-add. Vector integer adds have single-cycle latency.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!kMTp!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F43317dde-95f9-403e-af4a-51ed40185a63_603x344.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!kMTp!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F43317dde-95f9-403e-af4a-51ed40185a63_603x344.png 424w, https://substackcdn.com/image/fetch/$s_!kMTp!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F43317dde-95f9-403e-af4a-51ed40185a63_603x344.png 848w, https://substackcdn.com/image/fetch/$s_!kMTp!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F43317dde-95f9-403e-af4a-51ed40185a63_603x344.png 1272w, https://substackcdn.com/image/fetch/$s_!kMTp!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F43317dde-95f9-403e-af4a-51ed40185a63_603x344.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/43317dde-95f9-403e-af4a-51ed40185a63_603x344.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:344,&quot;width&quot;:603,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:5130,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/162504120?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F43317dde-95f9-403e-af4a-51ed40185a63_603x344.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;344&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!kMTp!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F43317dde-95f9-403e-af4a-51ed40185a63_603x344.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!kMTp!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F43317dde-95f9-403e-af4a-51ed40185a63_603x344.png 424w, https://substackcdn.com/image/fetch/$s_!kMTp!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F43317dde-95f9-403e-af4a-51ed40185a63_603x344.png 848w, https://substackcdn.com/image/fetch/$s_!kMTp!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F43317dde-95f9-403e-af4a-51ed40185a63_603x344.png 1272w, https://substackcdn.com/image/fetch/$s_!kMTp!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F43317dde-95f9-403e-af4a-51ed40185a63_603x344.png 1456w&quot; width=&quot;603&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   However, the rest of Century Avenue’s execution engine isn’t so enthusiastic about AVX2. Instructions that operate on 256-bit vectors are broken into two 128-bit micro-ops for all the common cases I tested. A 256-bit FP add takes two ROB entries, two scheduler slots, and the result consumes two register file entries. On the memory side, 256-bit loads and stores take two load queue or two store queue entries, respectively. Zhaoxin’s AVX2 approach is the opposite of Zen 4’s AVX-512 strategy: AMD left execution throughput largely unchanged from the prior generation, however, its 512-bit register file entries let it keep more work in flight and better feed those execution units. Century Avenue’s approach is to bring execution throughput first, and think about how to feed them later.
  &lt;/p&gt;
  &lt;h2 class=&quot;header-anchor-post&quot;&gt;
   Core Memory Subsystem
  &lt;/h2&gt;
  &lt;p&gt;
   Memory accesses start with a pair of address generation units (AGUs), which calculate virtual addresses. The AGUs are fed by 48 scheduler entries, which could be a 48 entry unified scheduler or two 24 entry queues.
  &lt;/p&gt;
  &lt;p&gt;
   48-bit virtual addresses from the AGUs are then translated into 46-bit physical addresses. Data-side address translations are cached in a 96 entry, 6-way set associative data TLB. 2 MB pages use a separate 32 entry, 4-way DTLB. Century Avenue doesn’t report L2 TLB capacity through CPUID, and DTLB misses add ~20 cycles of latency. That’s higher than usual for cores with a second level TLB, except for Bulldozer.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!xw7N!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3273fff0-39f7-4059-b822-f707e1305611_2560x1246.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!xw7N!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3273fff0-39f7-4059-b822-f707e1305611_2560x1246.png 424w, https://substackcdn.com/image/fetch/$s_!xw7N!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3273fff0-39f7-4059-b822-f707e1305611_2560x1246.png 848w, https://substackcdn.com/image/fetch/$s_!xw7N!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3273fff0-39f7-4059-b822-f707e1305611_2560x1246.png 1272w, https://substackcdn.com/image/fetch/$s_!xw7N!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3273fff0-39f7-4059-b822-f707e1305611_2560x1246.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/3273fff0-39f7-4059-b822-f707e1305611_2560x1246.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:709,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:1381370,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/162504120?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3273fff0-39f7-4059-b822-f707e1305611_2560x1246.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;709&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!xw7N!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3273fff0-39f7-4059-b822-f707e1305611_2560x1246.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!xw7N!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3273fff0-39f7-4059-b822-f707e1305611_2560x1246.png 424w, https://substackcdn.com/image/fetch/$s_!xw7N!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3273fff0-39f7-4059-b822-f707e1305611_2560x1246.png 848w, https://substackcdn.com/image/fetch/$s_!xw7N!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3273fff0-39f7-4059-b822-f707e1305611_2560x1246.png 1272w, https://substackcdn.com/image/fetch/$s_!xw7N!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3273fff0-39f7-4059-b822-f707e1305611_2560x1246.png 1456w&quot; width=&quot;1456&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Besides address translation, the load/store unit has to handle memory dependencies. Century Avenue appears to do an initial dependency check using the virtual address, because a load has a false dependency on a store offset by 4 KB. For real dependencies, Century Avenue can do store forwarding with 5 cycle latency. Like many other cores, partial overlaps cause fast forwarding to fail. Century Avenue takes a 22 cycle penalty in that case, which isn’t out of the ordinary. For independent accesses, Century Avenue can do Core 2 style memory disambiguation. That lets a load execute ahead of a store with an unknown address, improving memory pipeline utilization.
  &lt;/p&gt;
  &lt;p&gt;
   “Misaligned” loads and stores that straddle a cacheline boundary take 12-13 cycles, a heavy penalty compared to modern cores. Skylake for example barely takes any penalty for misaligned loads, and handles misaligned stores with just a single cycle penalty. Century Avenue faces the heaviest penalties (&amp;gt;42 cycles) if a load depends on a misaligned store.
  &lt;/p&gt;
  &lt;h3 class=&quot;header-anchor-post&quot;&gt;
   Core-Private Caches
  &lt;/h3&gt;
  &lt;p&gt;
   Century Avenue has a 32 KB, 8-way associative data cache with a pair of 128-bit ports and 4 cycle load-to-use latency. Only one port handles stores, so 256-bit stores execute over two cycles. Century Avenue’s L1D bandwidth is therefore similar to Sandy Bridge, even though its FMA capability can demand higher bandwidth. When Intel first rolled out 2×256-bit FMA execution with Haswell, their engineers increased L1D bandwidth to 2×256-bit loads and a 256-bit store per cycle.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!8ke9!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9f102b69-159c-4846-902e-a38d2143bf08_1096x538.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!8ke9!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9f102b69-159c-4846-902e-a38d2143bf08_1096x538.png 424w, https://substackcdn.com/image/fetch/$s_!8ke9!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9f102b69-159c-4846-902e-a38d2143bf08_1096x538.png 848w, https://substackcdn.com/image/fetch/$s_!8ke9!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9f102b69-159c-4846-902e-a38d2143bf08_1096x538.png 1272w, https://substackcdn.com/image/fetch/$s_!8ke9!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9f102b69-159c-4846-902e-a38d2143bf08_1096x538.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/9f102b69-159c-4846-902e-a38d2143bf08_1096x538.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:538,&quot;width&quot;:1096,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:9356,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/162504120?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9f102b69-159c-4846-902e-a38d2143bf08_1096x538.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;538&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!8ke9!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9f102b69-159c-4846-902e-a38d2143bf08_1096x538.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!8ke9!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9f102b69-159c-4846-902e-a38d2143bf08_1096x538.png 424w, https://substackcdn.com/image/fetch/$s_!8ke9!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9f102b69-159c-4846-902e-a38d2143bf08_1096x538.png 848w, https://substackcdn.com/image/fetch/$s_!8ke9!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9f102b69-159c-4846-902e-a38d2143bf08_1096x538.png 1272w, https://substackcdn.com/image/fetch/$s_!8ke9!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9f102b69-159c-4846-902e-a38d2143bf08_1096x538.png 1456w&quot; width=&quot;1096&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   L2 latency is unimpressive at 15 cycles. Skylake-X has a larger 2 MB L2 for example, and ran that with 14 cycle latency at higher clock speeds.
  &lt;/p&gt;
  &lt;h2 class=&quot;header-anchor-post&quot;&gt;
   Shared Cache and System Architecture
  &lt;/h2&gt;
  &lt;p&gt;
   Century Avenue’s system architecture has been overhauled to improve core count scalability. The KX-7000 adopts a triple-level cache setup, aligning with high performance designs from AMD, Arm, and Intel. Core-private L2 caches help insulate L1 misses from high L3 latency. Thus L3 latency becomes less critical, which enables a larger L3 shared across more cores. Compared to LuJiaZui, Century Avenue increases L3 capacity by a factor of eight, going from 4 MB to 32 MB. Eight Century Avenue cores share the L3, while four LuJiaZui cores shared a 4 MB L2. Combined with the chiplet setup, the KX-7000 is built much like a single-CCD Zen 3 desktop part.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!Mj1o!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff6c852b4-4285-4ebc-9934-7061f2a91dae_1088x589.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!Mj1o!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff6c852b4-4285-4ebc-9934-7061f2a91dae_1088x589.png 424w, https://substackcdn.com/image/fetch/$s_!Mj1o!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff6c852b4-4285-4ebc-9934-7061f2a91dae_1088x589.png 848w, https://substackcdn.com/image/fetch/$s_!Mj1o!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff6c852b4-4285-4ebc-9934-7061f2a91dae_1088x589.png 1272w, https://substackcdn.com/image/fetch/$s_!Mj1o!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff6c852b4-4285-4ebc-9934-7061f2a91dae_1088x589.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/f6c852b4-4285-4ebc-9934-7061f2a91dae_1088x589.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:589,&quot;width&quot;:1088,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:12490,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/162504120?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff6c852b4-4285-4ebc-9934-7061f2a91dae_1088x589.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;589&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!Mj1o!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff6c852b4-4285-4ebc-9934-7061f2a91dae_1088x589.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!Mj1o!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff6c852b4-4285-4ebc-9934-7061f2a91dae_1088x589.png 424w, https://substackcdn.com/image/fetch/$s_!Mj1o!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff6c852b4-4285-4ebc-9934-7061f2a91dae_1088x589.png 848w, https://substackcdn.com/image/fetch/$s_!Mj1o!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff6c852b4-4285-4ebc-9934-7061f2a91dae_1088x589.png 1272w, https://substackcdn.com/image/fetch/$s_!Mj1o!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff6c852b4-4285-4ebc-9934-7061f2a91dae_1088x589.png 1456w&quot; width=&quot;1088&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Unlike AMD’s recent designs, L3 latency is poor at over 27 ns, or over 80 core cycles. Bandwidth isn’t great either at just over 8 bytes per cycle. A read-modify-write pattern increases bandwidth to 11.5 bytes per cycle. Neither figure is impressive. Skylake could average 15 bytes per cycle from L3 using a read-only pattern, and recent AMD designs can achieve twice that.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!S8pW!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7dee5403-0f2f-4cb0-91f6-232606de201d_411x195.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!S8pW!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7dee5403-0f2f-4cb0-91f6-232606de201d_411x195.png 424w, https://substackcdn.com/image/fetch/$s_!S8pW!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7dee5403-0f2f-4cb0-91f6-232606de201d_411x195.png 848w, https://substackcdn.com/image/fetch/$s_!S8pW!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7dee5403-0f2f-4cb0-91f6-232606de201d_411x195.png 1272w, https://substackcdn.com/image/fetch/$s_!S8pW!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7dee5403-0f2f-4cb0-91f6-232606de201d_411x195.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/7dee5403-0f2f-4cb0-91f6-232606de201d_411x195.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:195,&quot;width&quot;:411,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:4170,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/162504120?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7dee5403-0f2f-4cb0-91f6-232606de201d_411x195.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;195&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!S8pW!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7dee5403-0f2f-4cb0-91f6-232606de201d_411x195.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!S8pW!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7dee5403-0f2f-4cb0-91f6-232606de201d_411x195.png 424w, https://substackcdn.com/image/fetch/$s_!S8pW!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7dee5403-0f2f-4cb0-91f6-232606de201d_411x195.png 848w, https://substackcdn.com/image/fetch/$s_!S8pW!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7dee5403-0f2f-4cb0-91f6-232606de201d_411x195.png 1272w, https://substackcdn.com/image/fetch/$s_!S8pW!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7dee5403-0f2f-4cb0-91f6-232606de201d_411x195.png 1456w&quot; width=&quot;411&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
      &lt;div&gt;
      &lt;/div&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   The KX-7000 does enjoy good bandwidth scaling, but low clock speeds combined with low per-core bandwidth to start with mean final figures aren’t too impressive. A read-only pattern gets to 215 GB/s, while a read-modify-write pattern can exceed 300 GB/s. For comparison, a Zen 2 CCD enjoys more than twice as much L3 bandwidth.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!Zsit!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F13a458d8-6b59-4f93-ab5f-1e8eca8cf57b_1134x666.webp&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!Zsit!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F13a458d8-6b59-4f93-ab5f-1e8eca8cf57b_1134x666.webp 424w, https://substackcdn.com/image/fetch/$s_!Zsit!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F13a458d8-6b59-4f93-ab5f-1e8eca8cf57b_1134x666.webp 848w, https://substackcdn.com/image/fetch/$s_!Zsit!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F13a458d8-6b59-4f93-ab5f-1e8eca8cf57b_1134x666.webp 1272w, https://substackcdn.com/image/fetch/$s_!Zsit!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F13a458d8-6b59-4f93-ab5f-1e8eca8cf57b_1134x666.webp 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/13a458d8-6b59-4f93-ab5f-1e8eca8cf57b_1134x666.webp&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:666,&quot;width&quot;:1134,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:9926,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/webp&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/162504120?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F13a458d8-6b59-4f93-ab5f-1e8eca8cf57b_1134x666.webp&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;666&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!Zsit!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F13a458d8-6b59-4f93-ab5f-1e8eca8cf57b_1134x666.webp&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!Zsit!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F13a458d8-6b59-4f93-ab5f-1e8eca8cf57b_1134x666.webp 424w, https://substackcdn.com/image/fetch/$s_!Zsit!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F13a458d8-6b59-4f93-ab5f-1e8eca8cf57b_1134x666.webp 848w, https://substackcdn.com/image/fetch/$s_!Zsit!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F13a458d8-6b59-4f93-ab5f-1e8eca8cf57b_1134x666.webp 1272w, https://substackcdn.com/image/fetch/$s_!Zsit!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F13a458d8-6b59-4f93-ab5f-1e8eca8cf57b_1134x666.webp 1456w&quot; width=&quot;1134&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   The KX-7000 does have more L3 bandwidth than Intel’s Skylake-X, at least when testing with matched thread counts. However, Skylake-X has a larger 1 MB L2 cache to insulate the cores from poor L3 performance. Skylake-X is also a server-oriented part, where single-threaded performance is less important. On the client side, Bulldozer has similar L3 latency, but uses an even larger 2 MB to avoid hitting it.
  &lt;/p&gt;
  &lt;h3 class=&quot;header-anchor-post&quot;&gt;
   DRAM Access
  &lt;/h3&gt;
  &lt;p&gt;
   DRAM performance is poor, with over 200 ns latency even when using 2 MB pages to minimize address translation latency. Latency goes over 240 ns using 4 KB pages, using a 1 GB array in both cases. The KX-7000’s DRAM bandwidth situation is tricky. To start, the memory controller was only able to train to 1600 MT/s, despite using DIMMs with 2666 MT/s JEDEC and 4000 MT/s XMP profiles. Theoretical bandwidth is therefore limited to 25.6 GB/s. However measured read bandwidth gets nowhere close, struggling to get past even 12 GB/s.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!N55h!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F471dcdbd-420a-4c11-b886-ff6d4cb5da3e_633x340.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!N55h!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F471dcdbd-420a-4c11-b886-ff6d4cb5da3e_633x340.png 424w, https://substackcdn.com/image/fetch/$s_!N55h!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F471dcdbd-420a-4c11-b886-ff6d4cb5da3e_633x340.png 848w, https://substackcdn.com/image/fetch/$s_!N55h!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F471dcdbd-420a-4c11-b886-ff6d4cb5da3e_633x340.png 1272w, https://substackcdn.com/image/fetch/$s_!N55h!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F471dcdbd-420a-4c11-b886-ff6d4cb5da3e_633x340.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/471dcdbd-420a-4c11-b886-ff6d4cb5da3e_633x340.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:340,&quot;width&quot;:633,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:4504,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/162504120?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F471dcdbd-420a-4c11-b886-ff6d4cb5da3e_633x340.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;340&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!N55h!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F471dcdbd-420a-4c11-b886-ff6d4cb5da3e_633x340.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!N55h!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F471dcdbd-420a-4c11-b886-ff6d4cb5da3e_633x340.png 424w, https://substackcdn.com/image/fetch/$s_!N55h!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F471dcdbd-420a-4c11-b886-ff6d4cb5da3e_633x340.png 848w, https://substackcdn.com/image/fetch/$s_!N55h!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F471dcdbd-420a-4c11-b886-ff6d4cb5da3e_633x340.png 1272w, https://substackcdn.com/image/fetch/$s_!N55h!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F471dcdbd-420a-4c11-b886-ff6d4cb5da3e_633x340.png 1456w&quot; width=&quot;633&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Mixing in writes increases achievable bandwidth. A read-modify-write pattern gets over 20 GB/s, while non-temporal writes reach 23.35 GB/s. The latter figure is close to theoretical, and indicates Zhaoxin’s cross-die link has enough bandwidth to saturate the memory controller. Read bandwidth is likely limited by latency. Unlike writes, where data to be written gets handed off, reads can only complete when data returns. Maintaining high read bandwidth requires keeping enough memory requests in-flight to hide latency.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!_mw-!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F34ddaf4b-d401-4ba0-94e3-ab4c22360fdb_770x421.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!_mw-!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F34ddaf4b-d401-4ba0-94e3-ab4c22360fdb_770x421.png 424w, https://substackcdn.com/image/fetch/$s_!_mw-!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F34ddaf4b-d401-4ba0-94e3-ab4c22360fdb_770x421.png 848w, https://substackcdn.com/image/fetch/$s_!_mw-!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F34ddaf4b-d401-4ba0-94e3-ab4c22360fdb_770x421.png 1272w, https://substackcdn.com/image/fetch/$s_!_mw-!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F34ddaf4b-d401-4ba0-94e3-ab4c22360fdb_770x421.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/34ddaf4b-d401-4ba0-94e3-ab4c22360fdb_770x421.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:421,&quot;width&quot;:770,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:6858,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/162504120?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F34ddaf4b-d401-4ba0-94e3-ab4c22360fdb_770x421.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;421&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!_mw-!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F34ddaf4b-d401-4ba0-94e3-ab4c22360fdb_770x421.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!_mw-!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F34ddaf4b-d401-4ba0-94e3-ab4c22360fdb_770x421.png 424w, https://substackcdn.com/image/fetch/$s_!_mw-!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F34ddaf4b-d401-4ba0-94e3-ab4c22360fdb_770x421.png 848w, https://substackcdn.com/image/fetch/$s_!_mw-!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F34ddaf4b-d401-4ba0-94e3-ab4c22360fdb_770x421.png 1272w, https://substackcdn.com/image/fetch/$s_!_mw-!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F34ddaf4b-d401-4ba0-94e3-ab4c22360fdb_770x421.png 1456w&quot; width=&quot;770&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Often loading more cores lets the memory subsystem keep more requests in flight, because each core has its own L1 and L2 miss queues. However the KX-7000’s read bandwidth abruptly stops scaling once a bandwidth test loads more than two cores. That suggests a queue shared by all the cores doesn’t have enough entries to hide latency, resulting in low read bandwidth.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!ewzC!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1e4c0313-27a3-4820-9850-68c1e47583c5_764x403.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!ewzC!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1e4c0313-27a3-4820-9850-68c1e47583c5_764x403.png 424w, https://substackcdn.com/image/fetch/$s_!ewzC!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1e4c0313-27a3-4820-9850-68c1e47583c5_764x403.png 848w, https://substackcdn.com/image/fetch/$s_!ewzC!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1e4c0313-27a3-4820-9850-68c1e47583c5_764x403.png 1272w, https://substackcdn.com/image/fetch/$s_!ewzC!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1e4c0313-27a3-4820-9850-68c1e47583c5_764x403.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/1e4c0313-27a3-4820-9850-68c1e47583c5_764x403.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:403,&quot;width&quot;:764,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:4186,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/162504120?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1e4c0313-27a3-4820-9850-68c1e47583c5_764x403.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;403&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!ewzC!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1e4c0313-27a3-4820-9850-68c1e47583c5_764x403.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!ewzC!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1e4c0313-27a3-4820-9850-68c1e47583c5_764x403.png 424w, https://substackcdn.com/image/fetch/$s_!ewzC!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1e4c0313-27a3-4820-9850-68c1e47583c5_764x403.png 848w, https://substackcdn.com/image/fetch/$s_!ewzC!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1e4c0313-27a3-4820-9850-68c1e47583c5_764x403.png 1272w, https://substackcdn.com/image/fetch/$s_!ewzC!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1e4c0313-27a3-4820-9850-68c1e47583c5_764x403.png 1456w&quot; width=&quot;764&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
    &lt;figcaption class=&quot;image-caption&quot;&gt;
     Taking the best latency/bandwidth combinations across different thread counts
    &lt;/figcaption&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   To make things worse, the KX-7000’s memory subsystem doesn’t do well at ensuring fairness between requests coming from different cores. A pointer chasing thread sees latency skyrocket when other cores generate high bandwidth load. In a worst case with one latency test thread and seven bandwidth threads, latency pushes past 1 microsecond. I suspect the bandwidth-hungry threads monopolize entries in whatever shared queue limits read bandwidth.
  &lt;/p&gt;
  &lt;p&gt;
   AMD’s Bulldozer maintains better control over latency under high bandwidth load. The FX-8150’s Northbridge has a complicated setup with two crossbar levels, but does an excellent job. Latency increases as the test pushes up to the memory controller’s bandwidth limits, but doesn’t rise to more than double its un-loaded latency. In absolute terms, even Bulldozer’s worst case latency is better than the KX-7000’s best case.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!qyZ6!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5b1d5e2c-f4c1-4446-8088-2aa0a33aa108_359x198.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!qyZ6!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5b1d5e2c-f4c1-4446-8088-2aa0a33aa108_359x198.png 424w, https://substackcdn.com/image/fetch/$s_!qyZ6!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5b1d5e2c-f4c1-4446-8088-2aa0a33aa108_359x198.png 848w, https://substackcdn.com/image/fetch/$s_!qyZ6!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5b1d5e2c-f4c1-4446-8088-2aa0a33aa108_359x198.png 1272w, https://substackcdn.com/image/fetch/$s_!qyZ6!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5b1d5e2c-f4c1-4446-8088-2aa0a33aa108_359x198.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/5b1d5e2c-f4c1-4446-8088-2aa0a33aa108_359x198.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:198,&quot;width&quot;:359,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:8340,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/162504120?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5b1d5e2c-f4c1-4446-8088-2aa0a33aa108_359x198.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;198&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!qyZ6!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5b1d5e2c-f4c1-4446-8088-2aa0a33aa108_359x198.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!qyZ6!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5b1d5e2c-f4c1-4446-8088-2aa0a33aa108_359x198.png 424w, https://substackcdn.com/image/fetch/$s_!qyZ6!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5b1d5e2c-f4c1-4446-8088-2aa0a33aa108_359x198.png 848w, https://substackcdn.com/image/fetch/$s_!qyZ6!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5b1d5e2c-f4c1-4446-8088-2aa0a33aa108_359x198.png 1272w, https://substackcdn.com/image/fetch/$s_!qyZ6!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5b1d5e2c-f4c1-4446-8088-2aa0a33aa108_359x198.png 1456w&quot; width=&quot;359&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
      &lt;div&gt;
      &lt;/div&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Sometimes, the memory subsystem has to satisfy a request by retrieving data from a peer core’s cache. These cases are rare in practice, but can give insight into system topology. The KX-7000 posts relatively high but even latency in a core-to-core latency test. Some core pairs see lower latency than others, likely depending on which L3 slice the tested address belongs to.
  &lt;/p&gt;
  &lt;h2 class=&quot;header-anchor-post&quot;&gt;
   Single Threaded Performance: SPEC CPU2017
  &lt;/h2&gt;
  &lt;p&gt;
   Compared to LuJiaZui, Century Avenue posts a huge 48.8% gain in SPEC CPU2017’s integer suite, and provides more than a 2x speedup in the floating point suite. Zhaoxin has been busy over the past few years, and that work has paid off. Against high performance western x86-64 chips, the KX-7000 falls just short of AMD’s Bulldozer in the integer suite. The FX-8150 leads by 13.6% there. Zhaoxin flips things around in the floating point suite, drawing 10.4% ahead of Bulldozer.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!klqp!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7d39af6d-2533-46bc-b30e-c03f69fca71c_827x483.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!klqp!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7d39af6d-2533-46bc-b30e-c03f69fca71c_827x483.png 424w, https://substackcdn.com/image/fetch/$s_!klqp!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7d39af6d-2533-46bc-b30e-c03f69fca71c_827x483.png 848w, https://substackcdn.com/image/fetch/$s_!klqp!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7d39af6d-2533-46bc-b30e-c03f69fca71c_827x483.png 1272w, https://substackcdn.com/image/fetch/$s_!klqp!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7d39af6d-2533-46bc-b30e-c03f69fca71c_827x483.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/7d39af6d-2533-46bc-b30e-c03f69fca71c_827x483.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:483,&quot;width&quot;:827,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:4938,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/162504120?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7d39af6d-2533-46bc-b30e-c03f69fca71c_827x483.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;483&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!klqp!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7d39af6d-2533-46bc-b30e-c03f69fca71c_827x483.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!klqp!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7d39af6d-2533-46bc-b30e-c03f69fca71c_827x483.png 424w, https://substackcdn.com/image/fetch/$s_!klqp!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7d39af6d-2533-46bc-b30e-c03f69fca71c_827x483.png 848w, https://substackcdn.com/image/fetch/$s_!klqp!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7d39af6d-2533-46bc-b30e-c03f69fca71c_827x483.png 1272w, https://substackcdn.com/image/fetch/$s_!klqp!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7d39af6d-2533-46bc-b30e-c03f69fca71c_827x483.png 1456w&quot; width=&quot;827&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   &lt;span&gt;
    Newer cores like Broadwell or Skylake land on a different performance planet compared to Century Avenue, so Bulldozer is the best relative comparison. Against Bulldozer, Century Avenue tends to do best in
   &lt;/span&gt;
   &lt;a href=&quot;https://chipsandcheese.com/p/running-spec-cpu2017-at-chips-and-cheese&quot; rel=&quot;&quot;&gt;
    higher-IPC tests
   &lt;/a&gt;
   &lt;span&gt;
    like 500.perlbench, 548.exchange2, and 525.x264. I suspect Century Avenue’s additional execution resources give it an advantage in those tests. Meanwhile Bulldozer bulldozes the KX-7000 in low IPC tests like 505.mcf and 520.omnetpp. Those tests present a nasty cocktail of difficult-to-predict branches and large memory footprints. Bulldozer’s comparatively strong memory subsystem and faster branch predictor likely give it a win there.
   &lt;/span&gt;
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!Mzo3!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F961782d0-a7c1-47c2-a391-c398449e0dd2_794x716.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!Mzo3!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F961782d0-a7c1-47c2-a391-c398449e0dd2_794x716.png 424w, https://substackcdn.com/image/fetch/$s_!Mzo3!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F961782d0-a7c1-47c2-a391-c398449e0dd2_794x716.png 848w, https://substackcdn.com/image/fetch/$s_!Mzo3!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F961782d0-a7c1-47c2-a391-c398449e0dd2_794x716.png 1272w, https://substackcdn.com/image/fetch/$s_!Mzo3!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F961782d0-a7c1-47c2-a391-c398449e0dd2_794x716.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/961782d0-a7c1-47c2-a391-c398449e0dd2_794x716.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:716,&quot;width&quot;:794,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:7286,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/162504120?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F961782d0-a7c1-47c2-a391-c398449e0dd2_794x716.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;716&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!Mzo3!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F961782d0-a7c1-47c2-a391-c398449e0dd2_794x716.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!Mzo3!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F961782d0-a7c1-47c2-a391-c398449e0dd2_794x716.png 424w, https://substackcdn.com/image/fetch/$s_!Mzo3!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F961782d0-a7c1-47c2-a391-c398449e0dd2_794x716.png 848w, https://substackcdn.com/image/fetch/$s_!Mzo3!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F961782d0-a7c1-47c2-a391-c398449e0dd2_794x716.png 1272w, https://substackcdn.com/image/fetch/$s_!Mzo3!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F961782d0-a7c1-47c2-a391-c398449e0dd2_794x716.png 1456w&quot; width=&quot;794&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   SPEC CPU2017’s floating point suite generally consists of higher IPC workloads, which hands the advantage to the KX-7000. However, the FX-8150 snatches occasional victories. 549.fotonik3d is a challenging low IPC workload that sees even recent cores heavily limited by cache misses. Bulldozer walks away with an impressive 46.2% lead in that workload. At the other end, 538.imagick basically doesn’t see L2 misses.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!uQRv!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fadc12108-5b81-4704-8ce9-532fd82882f7_795x742.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!uQRv!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fadc12108-5b81-4704-8ce9-532fd82882f7_795x742.png 424w, https://substackcdn.com/image/fetch/$s_!uQRv!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fadc12108-5b81-4704-8ce9-532fd82882f7_795x742.png 848w, https://substackcdn.com/image/fetch/$s_!uQRv!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fadc12108-5b81-4704-8ce9-532fd82882f7_795x742.png 1272w, https://substackcdn.com/image/fetch/$s_!uQRv!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fadc12108-5b81-4704-8ce9-532fd82882f7_795x742.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/adc12108-5b81-4704-8ce9-532fd82882f7_795x742.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:742,&quot;width&quot;:795,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:8584,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/162504120?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fadc12108-5b81-4704-8ce9-532fd82882f7_795x742.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;742&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!uQRv!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fadc12108-5b81-4704-8ce9-532fd82882f7_795x742.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!uQRv!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fadc12108-5b81-4704-8ce9-532fd82882f7_795x742.png 424w, https://substackcdn.com/image/fetch/$s_!uQRv!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fadc12108-5b81-4704-8ce9-532fd82882f7_795x742.png 848w, https://substackcdn.com/image/fetch/$s_!uQRv!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fadc12108-5b81-4704-8ce9-532fd82882f7_795x742.png 1272w, https://substackcdn.com/image/fetch/$s_!uQRv!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fadc12108-5b81-4704-8ce9-532fd82882f7_795x742.png 1456w&quot; width=&quot;795&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   Overall the SPEC CPU2017 results suggest the KX-7000 can deliver single-threaded performance roughly on par with AMD’s Bulldozer.
  &lt;/p&gt;
  &lt;h3 class=&quot;header-anchor-post&quot;&gt;
   Multithreaded Performance
  &lt;/h3&gt;
  &lt;p&gt;
   Having eight cores is one of the KX-7000’s relative strengths against the FX-8150 and Core i5-6600K. However, multithreaded results are a mixed bag. libx264 software video encoding can take advantage of AVX2, and uses more than four threads. However, the KX-7000 is soundly beaten even by Bulldozer. 7-Zip compression uses scalar integer instructions. With AVX2 not playing a role, Bulldozer and the Core i5-6600K score even larger wins.
  &lt;/p&gt;
  &lt;div class=&quot;captioned-image-container&quot;&gt;
   &lt;figure&gt;
    &lt;a class=&quot;image-link image2 is-viewable-img&quot; data-component-name=&quot;Image2ToDOM&quot; href=&quot;https://substackcdn.com/image/fetch/$s_!jxbN!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F372e0e02-a4c8-4e43-acdc-edf2b422651b_953x572.png&quot; rel=&quot;&quot; target=&quot;_blank&quot;&gt;
     &lt;div class=&quot;image2-inset&quot;&gt;
      &lt;picture&gt;
       &lt;source sizes=&quot;100vw&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!jxbN!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F372e0e02-a4c8-4e43-acdc-edf2b422651b_953x572.png 424w, https://substackcdn.com/image/fetch/$s_!jxbN!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F372e0e02-a4c8-4e43-acdc-edf2b422651b_953x572.png 848w, https://substackcdn.com/image/fetch/$s_!jxbN!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F372e0e02-a4c8-4e43-acdc-edf2b422651b_953x572.png 1272w, https://substackcdn.com/image/fetch/$s_!jxbN!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F372e0e02-a4c8-4e43-acdc-edf2b422651b_953x572.png 1456w&quot; type=&quot;image/webp&quot;&gt;
        &lt;img alt=&quot;&quot; class=&quot;sizing-normal&quot; data-attrs=&#x27;{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/372e0e02-a4c8-4e43-acdc-edf2b422651b_953x572.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:572,&quot;width&quot;:953,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:9632,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://chipsandcheese.com/i/162504120?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F372e0e02-a4c8-4e43-acdc-edf2b422651b_953x572.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}&#x27; height=&quot;572&quot; loading=&quot;lazy&quot; sizes=&quot;100vw&quot; src=&quot;https://substackcdn.com/image/fetch/$s_!jxbN!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F372e0e02-a4c8-4e43-acdc-edf2b422651b_953x572.png&quot; srcset=&quot;https://substackcdn.com/image/fetch/$s_!jxbN!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F372e0e02-a4c8-4e43-acdc-edf2b422651b_953x572.png 424w, https://substackcdn.com/image/fetch/$s_!jxbN!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F372e0e02-a4c8-4e43-acdc-edf2b422651b_953x572.png 848w, https://substackcdn.com/image/fetch/$s_!jxbN!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F372e0e02-a4c8-4e43-acdc-edf2b422651b_953x572.png 1272w, https://substackcdn.com/image/fetch/$s_!jxbN!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F372e0e02-a4c8-4e43-acdc-edf2b422651b_953x572.png 1456w&quot; width=&quot;953&quot;/&gt;
       &lt;/source&gt;
      &lt;/picture&gt;
     &lt;/div&gt;
    &lt;/a&gt;
   &lt;/figure&gt;
  &lt;/div&gt;
  &lt;p&gt;
   The KX-7000 turns in a better performance in Y-Cruncher, possibly with AVX2 giving it a large advantage over Bulldozer. However, eight Century Avenue cores still fail to match four Skylake ones. For a final test, OpenSSL RSA2048 signs are a purely integer operation that focuses on core compute power rather than memory access. They’re particularly important for web servers, which have to validate their identity when clients establish SSL/TLS connections. Zhaoxin again beats Bulldozer in that workload, but falls behind Skylake.
  &lt;/p&gt;
  &lt;h2 class=&quot;header-anchor-post&quot;&gt;
   Final Words
  &lt;/h2&gt;
  &lt;p&gt;
   Zhaoxin inherits VIA’s x86 license, but plays a different ball game. VIA focused on low-power, low-cost applications. While Centaur CNS did branch into somewhat higher performance targets with a 4-wide design, the company never sought to tap into the wider general purpose compute market like AMD and Intel. Creating a high-clocking, high-IPC core that excels in everything from web browsing to gaming to video encoding is a massive engineering challenge. VIA reasonably decided to find a niche, rather than take AMD and Intel head-on without the engineering resources to match.
  &lt;/p&gt;
  &lt;p&gt;
   However Zhaoxin is part of China’s effort to build domestic chips in case western ones become unavailable. Doing so is a matter of national importance, so companies like Zhaoxin can expect massive government support, and survive even without being profitable. Zhaoxin’s chips don’t need to directly compete with AMD and Intel. But AMD and Intel’s chips have driven performance expectations from application developers. China needs chips with enough performance to substitute western chips without being disruptively slow.
  &lt;/p&gt;
  &lt;p&gt;
   Century Avenue is an obvious attempt to get into that position, stepping away from LuJiaZui’s low power and low performance design. At a high level, Century Avenue represents good progress. A 4-wide &amp;gt;3 GHz core with Bulldozer-level performance is a huge step up. At a lower level, it feels like Zhaoxin tried to make everything bigger without slowing down and making sure the whole picture makes sense. Century Avenue has 2×256-bit FMA units, which suggest Zhaoxin is trying to get the most out of AVX2. However Century Avenue has low cache bandwidth and internally tracks 256-bit instructions as a pair of micro-ops. Doing so suits a minimum-cost AVX2 implementation geared towards compatibility rather than high performance. Besides AVX2, Century Avenue has small register files relative to its ROB capacity, which hinders its ability to make use of its theoretical out-of-order window.
  &lt;/p&gt;
  &lt;p&gt;
   Zooming out to the system level shows the same pattern. Century Avenue’s L2 is too small considering it has to shield cores from 80+ cycle L3 latency. The KX-7000’s DRAM read bandwidth is inadequate for an octa-core setup, and the memory subsystem does a poor job of ensuring fairness under high bandwidth load. Besides unbalanced characteristics, Century Avenue’s high frontend latency and lack of branch fusion make it feel like a 2005-era core, not a 2025 one.
  &lt;/p&gt;
  &lt;p&gt;
   Ultimately performance is what matters to an end-user. In that respect, the KX-7000 sometimes falls behind Bulldozer in multithreaded workloads. It’s disappointing from the perspective that Bulldozer is a 2011-era design, with pairs of hardware thread sharing a frontend and floating point unit. Single-threaded performance is similarly unimpressive. It roughly matches Bulldozer there, but the FX-8150’s single-threaded performance was one of its greatest weaknesses even back in 2011. But of course, the KX-7000 isn’t trying to impress western consumers. It’s trying to provide a usable experience without relying on foreign companies. In that respect, Bulldozer-level single-threaded performance is plenty. And while Century Avenue lacks the balance and sophistication that a modern AMD, Arm, or Intel core is likely to display, it’s a good step in Zhaoxin’s effort to break into higher performance targets.
  &lt;/p&gt;
  &lt;p&gt;
   &lt;span&gt;
    If you like the content then consider heading over to the
   &lt;/span&gt;
   &lt;a href=&quot;https://www.patreon.com/ChipsandCheese&quot; rel=&quot;&quot;&gt;
    Patreon
   &lt;/a&gt;
   &lt;span&gt;
    or
   &lt;/span&gt;
   &lt;a href=&quot;https://www.paypal.com/donate/?hosted_button_id=4EMPH66SBGVSQ&quot; rel=&quot;&quot;&gt;
    PayPal
   &lt;/a&gt;
   &lt;span&gt;
    if you want to toss a few bucks to Chips and Cheese. Also consider joining the
   &lt;/span&gt;
   &lt;a href=&quot;https://discord.gg/TwVnRhxgY2&quot; rel=&quot;&quot;&gt;
    Discord
   &lt;/a&gt;
   &lt;span&gt;
    .
   &lt;/span&gt;
  &lt;/p&gt;
 &lt;/div&gt;
&lt;/div&gt;

</description>
</item>
</channel>
</rss>
